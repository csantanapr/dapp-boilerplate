//>>built
require({cache:{"dojox/app/main":function(){define("require dojo/_base/kernel dojo/_base/lang dojo/_base/declare dojo/_base/config dojo/_base/window dojo/Evented dojo/Deferred dojo/when dojo/has dojo/on dojo/ready dojo/dom-construct dojo/dom-attr ./utils/model ./utils/nls ./module/lifecycle ./utils/hash ./utils/constraints ./utils/config".split(" "),function(h,l,d,g,b,a,c,e,k,n,q,m,u,r,f,s,z,y,C,v){function w(f,c){var b;f=v.configProcessHas(f);f.loaderConfig||(f.loaderConfig={});f.loaderConfig.paths||
(f.loaderConfig.paths={});f.loaderConfig.paths.app||(b=window.location.pathname,"/"!=b.charAt(b.length)&&(b=b.split("/"),b.pop(),b=b.join("/")),f.loaderConfig.paths.app=b);h(f.loaderConfig);f.modules||(f.modules=[]);f.modules.push("./module/lifecycle");var e=f.modules.concat(f.dependencies?f.dependencies:[]);f.template&&(b=f.template,0==b.indexOf("./")&&(b="app/"+b),e.push("dojo/text!"+b));h(e,function(){for(var b=[p],e=0;e<f.modules.length;e++)b.push(arguments[e]);if(f.template)var s={templateString:arguments[arguments.length-
1]};App=g(b,s);m(function(){var m=new App(f,c||a.body());n("app-log-api")?m.log=function(){try{for(var f=0;f<arguments.length-1;f++);}catch(a){}}:m.log=function(){};m.transitionToView=function(f,a,m){q.emit(f,"startTransition",{bubbles:!0,cancelable:!0,detail:a,triggerEvent:m||null})};m.setStatus(m.lifecycle.STARTING);var b=m.id;window[b]&&d.mixin(m,window[b]);window[b]=m;m.start()})})}n.add("app-log-api",(b.app||{}).debugApp);var p=g(c,{constructor:function(f,a){d.mixin(this,f);this.params=f;this.id=
f.id;this.defaultView=f.defaultView;this.controllers=[];this.children={};this.loadedModels={};this.loadedStores={};this.setDomNode(u.create("div",{id:this.id+"_Root",style:"width:100%; height:100%; overflow-y:hidden; overflow-x:hidden;"}));a.appendChild(this.domNode)},createDataStore:function(f){if(f.stores)for(var a in f.stores)if("_"!==a.charAt(0)){var m=f.stores[a].type?f.stores[a].type:"dojo/store/Memory",c={};f.stores[a].params&&d.mixin(c,f.stores[a].params);try{var b=h(m)}catch(e){throw Error(m+
" must be listed in the dependencies");}c.data&&d.isString(c.data)&&(c.data=d.getObject(c.data));if(f.stores[a].observable){try{var s=h("dojo/store/Observable")}catch(k){throw Error("dojo/store/Observable must be listed in the dependencies");}f.stores[a].store=s(new b(c))}else f.stores[a].store=new b(c);this.loadedStores[a]=f.stores[a].store}},createControllers:function(f){if(f){for(var a=[],m=0;m<f.length;m++)a.push(f[m]);var c=new e,b;try{b=h.on("error",function(f){!c.isResolved()&&!c.isRejected()&&
(c.reject("load controllers error."),b.remove())}),h(a,function(){c.resolve.call(c,arguments);b.remove()})}catch(s){c.reject(s),b&&b.remove()}var u=new e;k(c,d.hitch(this,function(f){for(var a=0;a<f.length;a++)this.controllers.push((new f[a](this)).bind());u.resolve(this)}),function(){u.reject("load controllers error.")});return u}},trigger:function(f,a){l.deprecated("dojox.app.Application.trigger","Use dojox.app.Application.emit instead","2.0");this.emit(f,a)},start:function(){this.createDataStore(this.params);
var a=new e,c;try{c=f(this.params.models,this,this)}catch(m){return a.reject(m),a.promise}k(c,d.hitch(this,function(f){this.loadedModels=d.isArray(f)?f[0]:f;this.setupControllers();k(s(this.params),d.hitch(this,function(f){f&&d.mixin(this.nls={},f);this.startup()}))}),function(){a.reject("load model error.")})},setDomNode:function(f){var a=this.domNode;this.domNode=f;this.emit("app-domNode",{oldNode:a,newNode:f})},setupControllers:function(){var f=window.location.hash;this._startView=y.getTarget(f,
this.defaultView);this._startParams=y.getParams(f)},startup:function(){this.selectedChildren={};var f=this.createControllers(this.params.controllers);this.hasOwnProperty("constraint")?C.register(this.params.constraints):this.constraint="center";var a=function(){this.emit("app-load",{viewId:this.defaultView,params:this._startParams,callback:d.hitch(this,function(){var f=this.defaultView.split("+"),a,c;if(0<f.length)for(;0<f.length;)a=f.shift().split(",").shift(),this.children[this.id+"_"+a].hasOwnProperty("constraint")||
(this.children[this.id+"_"+a].constraint=r.get(this.children[this.id+"_"+a].domNode,"data-app-constraint")||"center"),C.register(c=this.children[this.id+"_"+a].constraint),C.setSelectedChild(this,c,this.children[this.id+"_"+a]);else a=this.defaultView.split(",").shift(),this.children[this.id+"_"+a].hasOwnProperty("constraint")||(this.children[this.id+"_"+a].constraint=r.get(this.children[this.id+"_"+a].domNode,"data-app-constraint")||"center"),C.register(c=this.children[this.id+"_"+a].constraint),
C.setSelectedChild(this,c,this.children[this.id+"_"+a]);this.emit("app-transition",{viewId:this._startView,opts:{params:this._startParams}});this.setStatus(this.lifecycle.STARTED)})})};k(f,d.hitch(this,function(){this.template?this.emit("app-init",{app:this,name:this.name,type:this.type,parent:this,templateString:this.templateString,controller:this.controller,callback:d.hitch(this,function(f){this.setDomNode(f.domNode);a.call(this)})}):a.call(this)}))}});return function(f,a){if(!f)throw Error("App Config Missing");
f.validate?h(["dojox/json/schema","dojox/json/ref","dojo/text!dojox/application/schema/application.json"],function(c,m){c=dojox.json.ref.resolveJson(c);c.validate(f,m)&&w(f,a)}):w(f,a)}})},"dojox/app/utils/model":function(){define(["dojo/_base/lang","dojo/Deferred","dojo/promise/all","dojo/when"],function(h,l,d,g){function b(a,c,b,k){var n=a[c].params?a[c].params:{},q=a[c].modelLoader?a[c].modelLoader:"dojox/app/utils/simpleModel";try{var m=require(q)}catch(u){throw Error(q+" must be listed in the dependencies");
}var r=new l,f;try{f=m(a,n,c)}catch(s){throw Error("Error creating "+q+" for model named ["+c+"]: "+s.message);}g(f,h.hitch(this,function(f){k[c]=f;b.log("in app/model, for item\x3d[",c,"] loadedModels \x3d",k);r.resolve(k);return k}),function(f){throw Error("Error loading model named ["+c+"]: "+f.message);});return r}return function(a,c,e){var k={};c.loadedModels&&h.mixin(k,c.loadedModels);if(a){c=[];for(var n in a)"_"!==n.charAt(0)&&c.push(b(a,n,e,k));return 0==c.length?k:d(c)}return k}})},"dojo/promise/all":function(){define(["../_base/array",
"../Deferred","../when"],function(h,l,d){var g=h.some;return function(b){var a,c;b instanceof Array?c=b:b&&"object"===typeof b&&(a=b);var e,k=[];if(a){c=[];for(var n in a)Object.hasOwnProperty.call(a,n)&&(k.push(n),c.push(a[n]));e={}}else c&&(e=[]);if(!c||!c.length)return(new l).resolve(e);var q=new l;q.promise.always(function(){e=k=null});var m=c.length;g(c,function(c,b){a||k.push(b);d(c,function(f){q.isFulfilled()||(e[k[b]]=f,0===--m&&q.resolve(e))},q.reject);return q.isFulfilled()});return q.promise}})},
"dojox/app/utils/nls":function(){define(["require","dojo/Deferred"],function(h,l){return function(d,g){var b=d.nls;if(b){var a=new l,c;try{var e=b,k=e.indexOf("./");0<=k&&(e=b.substring(k+2));c=h.on("error",function(b){!a.isResolved()&&!a.isRejected()&&(b.info[0]&&0<=b.info[0].indexOf(e))&&(a.resolve(!1),c.remove())});0==b.indexOf("./")&&(b="app/"+b);h(["dojo/i18n!"+b],function(b){a.resolve(b);c.remove()})}catch(n){a.reject(n),c&&c.remove()}return a}return!1}})},"dojox/app/module/lifecycle":function(){define(["dojo/_base/declare",
"dojo/topic"],function(h,l){return h(null,{lifecycle:{UNKNOWN:0,STARTING:1,STARTED:2,STOPPING:3,STOPPED:4},_status:0,getStatus:function(){return this._status},setStatus:function(d){this._status=d;l.publish("/app/status",d)}})})},"dojox/app/utils/hash":function(){define(["dojo/_base/lang"],function(h){var l={getParams:function(d){var g;if(d&&d.length){for(;0<d.indexOf("(");){var b=d.indexOf("("),a=d.indexOf(")"),b=d.substring(b,a+1);g||(g={});g=l.getParamObj(g,b);a=b.substring(1,b.indexOf("\x26"));
d=d.replace(b,a)}d=d.split("\x26");for(b=0;b<d.length;b++){var c=d[b].split("\x3d"),a=c[0],c=encodeURIComponent(c[1]||"");a&&c&&(g||(g={}),g[a]=c)}}return g},getParamObj:function(d,g){for(var b,a=g.substring(1,g.indexOf("\x26")),c=g.substring(g.indexOf("\x26"),g.length-1).split("\x26"),e=0;e<c.length;e++){var k=c[e].split("\x3d"),n=k[0],k=encodeURIComponent(k[1]||"");n&&k&&(b||(b={}),b[n]=k)}d[a]=b;return d},buildWithParams:function(d,g){"#"!==d.charAt(0)&&(d="#"+d);for(var b in g){var a=g[b];h.isObject(a)?
d=l.addViewParams(d,b,a):b&&null!=a&&(d=d+"\x26"+b+"\x3d"+g[b])}return d},addViewParams:function(d,g,b){"#"!==d.charAt(0)&&(d="#"+d);var a=d.indexOf(g);if(0<a&&("#"==d.charAt(a-1)||"+"==d.charAt(a-1))&&("\x26"==d.charAt(a+g.length)||"+"==d.charAt(a+g.length)||"-"==d.charAt(a+g.length))){var c=d.substring(a-1,a+g.length+1);b=l.getParamString(b);g=d.charAt(a-1)+"("+g+b+")"+d.charAt(a+g.length);d=d.replace(c,g)}return d},getParamString:function(d){var g="",b;for(b in d){var a=d[b];b&&null!=a&&(g=g+"\x26"+
b+"\x3d"+d[b])}return g},getTarget:function(d,g){for(g||(g="");0<d.indexOf("(");){var b=d.indexOf("("),a=d.indexOf(")"),b=d.substring(b,a+1),a=b.substring(1,b.indexOf("\x26"));d=d.replace(b,a)}return((d&&"#"==d.charAt(0)?d.substr(1):d)||g).split("\x26")[0]}};return l})},"dojox/app/utils/constraints":function(){define(["dojo/_base/array"],function(h){var l=[];return{getSelectedChild:function(d,g){var b=typeof g,b="string"==b||"number"==b?g:g.__hash;return d&&d.selectedChildren&&d.selectedChildren[b]?
d.selectedChildren[b]:null},setSelectedChild:function(d,g,b){var a=typeof g;d.selectedChildren["string"==a||"number"==a?g:g.__hash]=b},getAllSelectedChildren:function(d,g){g=g||[];if(d&&d.selectedChildren)for(var b in d.selectedChildren)if(d.selectedChildren[b]){var a=d.selectedChildren[b];g.push(a);this.getAllSelectedChildren(a,g)}return g},register:function(d){var g=typeof d;if(!d.__hash&&"string"!=g&&"number"!=g){var b=null;h.some(l,function(a){var e=!0,k;for(k in a)if("_"!==k.charAt(0)&&a[k]!=
d[k]){e=!1;break}!0==e&&(b=a);return e});if(b)d.__hash=b.__hash;else{var g="",a;for(a in d)"_"!==a.charAt(0)&&(g+=d[a]);d.__hash=g;l.push(d)}}}}})},"dojox/app/utils/config":function(){define(["dojo/sniff"],function(h){return{configProcessHas:function(l){for(var d in l){var g=l[d];if("has"==d){for(var b in g)if(!("_"==b.charAt(0)&&"_"==b.charAt(1))&&g&&"object"===typeof g){var a=b.split(",");if(0<a.length)for(;0<a.length;){var c=a.shift();if(h(c)||"!"==c.charAt(0)&&!h(c.substring(1))){this.configMerge(l,
g[b]);break}}}delete l.has}else!("_"==d.charAt(0)&&"_"==d.charAt(1))&&(g&&"object"===typeof g)&&this.configProcessHas(g)}return l},configMerge:function(l,d){for(var g in d){var b=l[g],a=d[g];b!==a&&!("_"==g.charAt(0)&&"_"==g.charAt(1))&&(b&&"object"===typeof b&&a&&"object"===typeof a?this.configMerge(b,a):l instanceof Array?l.push(a):l[g]=a)}return l}}})},"dojox/json/ref":function(){define("dojo/_base/array dojo/_base/json dojo/_base/kernel dojo/_base/lang dojo/date/stamp dojox".split(" "),function(h,
l,d,g,b,a){g.getObject("json",!0,a);return a.json.ref={resolveJson:function(a,e){function k(p,x,A,t,H,J){var B,Q,D;A=n in p?p[n]:A;if(n in p||void 0!==A&&t)A=(u+A).replace(l,"$2$3");t=J||p;if(void 0!==A){r&&(p.__id=A);if(e.schemas&&!(p instanceof Array)&&(D=A.match(/^(.+\/)[^\.\[]*$/)))H=e.schemas[D[1]];if(f[A]&&p instanceof Array==f[A]instanceof Array)t=f[A],delete t.$ref,delete t._loadObject,Q=!0;else if(D=H&&H.prototype)w.prototype=D,t=new w;f[A]=t;s&&(s[A]=e.time)}for(;H;){if(D=H.properties)for(B in p){var I=
D[B];I&&("date-time"==I.format&&"string"==typeof p[B])&&(p[B]=b.fromISOString(p[B]))}H=H["extends"]}H=p.length;for(B in p){if(B==H)break;if(p.hasOwnProperty(B)){D=p[B];if("object"==typeof D&&D&&!(D instanceof Date)&&"__parent"!=B){g=D[q]||m&&D[n];if((!g||!D.__parent)&&p!=d)D.__parent=t;if(g)if(delete p[B],J=g.toString().replace(/(#)([^\.\[])/,"$1.$2").match(/(^([^\[]*\/)?[^#\.\[]*)#?([\.\[].*)?/),f[(u+g).replace(l,"$2$3")]?g=f[(u+g).replace(l,"$2$3")]:(g="$"==J[1]||"this"==J[1]||""==J[1]?a:f[(u+J[1]).replace(l,
"$2$3")])&&J[3]&&J[3].replace(/(\[([^\]]+)\])|(\.?([^\.\[]+))/g,function(f,a,c,m,b){g=g&&g[c?c.replace(/[\"\'\\]/,""):b]}),g)D=g;else{if(!x){var S;S||d.push(t);S=!0;D=k(D,!1,D[q],!0,I);D._loadObject=e.loader}}else x||(D=k(D,d==p,void 0===A?void 0:h(A,B),!1,I,t!=p&&"object"==typeof t[B]&&t[B]))}p[B]=D;if(t!=p&&!t.__isDirty&&(J=t[B],t[B]=D,Q&&D!==J&&!t._loadObject&&!("_"==B.charAt(0)&&"_"==B.charAt(1))&&"$ref"!=B&&!(D instanceof Date&&J instanceof Date&&D.getTime()==J.getTime())&&!("function"==typeof D&&
"function"==typeof J&&D.toString()==J.toString())&&f.onUpdate))f.onUpdate(t,B,J,D)}}if(Q&&(n in p||t instanceof Array))for(B in t){if(!t.__isDirty&&t.hasOwnProperty(B)&&!p.hasOwnProperty(B)&&!("_"==B.charAt(0)&&"_"==B.charAt(1))&&!(t instanceof Array&&isNaN(B))){if(f.onUpdate&&"_loadObject"!=B&&"_idAttr"!=B)f.onUpdate(t,B,t[B],void 0);for(delete t[B];t instanceof Array&&t.length&&void 0===t[t.length-1];)t.length--}}else if(f.onLoad)f.onLoad(t);return t}e=e||{};var n=e.idAttribute||"id",q=this.refAttribute,
m=e.idAsRef,u=e.idPrefix||"",r=e.assignAbsoluteIds,f=e.index||{},s=e.timeStamps,g,d=[],l=/^(.*\/)?(\w+:\/\/)|[^\/\.]+\/\.\.\/|^.*\/(\/)/,h=this._addProp,w=function(){};a&&"object"==typeof a&&(a=k(a,!1,e.defaultId,!0),k(d,!1));return a},fromJson:function(a,b){try{var k=eval("("+a+")")}catch(g){throw new SyntaxError("Invalid JSON string: "+g.message+" parsing: "+a);}return k?this.resolveJson(k,b):k},toJson:function(c,e,k,g){function q(c,g,n){if("object"==typeof c&&c){if(c instanceof Date)return'"'+
b.toISOString(c,{zulu:!0})+'"';var d=c.__id;if(d){if("#"!=g&&(m&&!d.match(/#/)||f[d]))return n=d,"#"!=d.charAt(0)&&(n=c.__clientId==d?"cid:"+d:d.substring(0,k.length)==k?d.substring(k.length):d),c={},c[r]=n,l.toJson(c,e);g=d}else c.__id=g,s[g]=c;f[g]=c;n=n||"";var z=e?n+l.toJsonIndentStr:"",x=e?"\n":"",d=e?" ":"";if(c instanceof Array)return"["+h.map(c,function(f,a){var c=q(f,u(g,a),z);"string"!=typeof c&&(c="undefined");return x+z+c}).join(","+d)+x+n+"]";var A=[],t;for(t in c)if(c.hasOwnProperty(t)){var H;
if("number"==typeof t)H='"'+t+'"';else if("string"==typeof t&&("_"!=t.charAt(0)||"_"!=t.charAt(1)))H=l._escapeString(t);else continue;var J=q(c[t],u(g,t),z);"string"==typeof J&&A.push(x+z+H+":"+d+J)}return"{"+A.join(","+d)+x+n+"}"}return"function"==typeof c&&a.json.ref.serializeFunctions?c.toString():l.toJson(c)}var m=this._useRefs,u=this._addProp,r=this.refAttribute;k=k||"";var f={},s={};c=q(c,"#","");if(!g)for(var d in s)delete s[d].__id;return c},_addProp:function(a,b){return a+(a.match(/#/)?1==
a.length?"":".":"#")+b},refAttribute:"$ref",_useRefs:!1,serializeFunctions:!1}})},"dojo/date/stamp":function(){define(["../_base/lang","../_base/array"],function(h,l){var d={};h.setObject("dojo.date.stamp",d);d.fromISOString=function(g,b){d._isoRegExp||(d._isoRegExp=/^(?:(\d{4})(?:-(\d{2})(?:-(\d{2}))?)?)?(?:T(\d{2}):(\d{2})(?::(\d{2})(.\d+)?)?((?:[+-](\d{2}):(\d{2}))|Z)?)?$/);var a=d._isoRegExp.exec(g),c=null;if(a){a.shift();a[1]&&a[1]--;a[6]&&(a[6]*=1E3);b&&(b=new Date(b),l.forEach(l.map("FullYear Month Date Hours Minutes Seconds Milliseconds".split(" "),
function(a){return b["get"+a]()}),function(c,b){a[b]=a[b]||c}));c=new Date(a[0]||1970,a[1]||0,a[2]||1,a[3]||0,a[4]||0,a[5]||0,a[6]||0);100>a[0]&&c.setFullYear(a[0]||1970);var e=0,k=a[7]&&a[7].charAt(0);"Z"!=k&&(e=60*(a[8]||0)+(Number(a[9])||0),"-"!=k&&(e*=-1));k&&(e-=c.getTimezoneOffset());e&&c.setTime(c.getTime()+6E4*e)}return c};d.toISOString=function(g,b){var a=function(a){return 10>a?"0"+a:a};b=b||{};var c=[],e=b.zulu?"getUTC":"get",k="";"time"!=b.selector&&(k=g[e+"FullYear"](),k=["0000".substr((k+
"").length)+k,a(g[e+"Month"]()+1),a(g[e+"Date"]())].join("-"));c.push(k);if("date"!=b.selector){k=[a(g[e+"Hours"]()),a(g[e+"Minutes"]()),a(g[e+"Seconds"]())].join(":");e=g[e+"Milliseconds"]();b.milliseconds&&(k+="."+(100>e?"0":"")+a(e));if(b.zulu)k+="Z";else if("time"!=b.selector)var e=g.getTimezoneOffset(),d=Math.abs(e),k=k+((0<e?"-":"+")+a(Math.floor(d/60))+":"+a(d%60));c.push(k)}return c.join("T")};return d})},"dojox/main":function(){define(["dojo/_base/kernel"],function(h){return h.dojox})},"dojo/text":function(){define(["./_base/kernel",
"require","./has","./request"],function(h,l,d,g){var b;b=function(a,c,b){g(a,{sync:!!c}).then(b)};var a={},c=function(a){if(a){a=a.replace(/^\s*<\?xml(\s)+version=[\'\"](\d)*.(\d)*[\'\"](\s)*\?>/im,"");var c=a.match(/<body[^>]*>\s*([\s\S]+)\s*<\/body>/im);c&&(a=c[1])}else a="";return a},e={},k={};h.cache=function(e,k,m){var u;"string"==typeof e?/\//.test(e)?(u=e,m=k):u=l.toUrl(e.replace(/\./g,"/")+(k?"/"+k:"")):(u=e+"",m=k);e=void 0!=m&&"string"!=typeof m?m.value:m;m=m&&m.sanitize;if("string"==typeof e)return a[u]=
e,m?c(e):e;if(null===e)return delete a[u],null;u in a||b(u,!0,function(c){a[u]=c});return m?c(a[u]):a[u]};return{dynamic:!0,normalize:function(a,c){var b=a.split("!"),e=b[0];return(/^\./.test(e)?c(e):e)+(b[1]?"!"+b[1]:"")},load:function(g,d,m){g=g.split("!");var u=1<g.length,r=g[0],f=d.toUrl(g[0]);g="url:"+f;var s=e,l=function(f){m(u?c(f):f)};r in a?s=a[r]:d.cache&&g in d.cache?s=d.cache[g]:f in a&&(s=a[f]);if(s===e)if(k[f])k[f].push(l);else{var h=k[f]=[l];b(f,!d.async,function(c){a[r]=a[f]=c;for(var b=
0;b<h.length;)h[b++](c);delete k[f]})}else l(s)}}})},"dojo/request":function(){define(["./request/default!"],function(h){return h})},"dojo/request/default":function(){define(["exports","require","../has"],function(h,l,d){var g=d("config-requestProvider");g||(g="./xhr");h.getPlatformDefaultId=function(){return"./xhr"};h.load=function(b,a,c,e){l(["platform"==b?"./xhr":g],function(a){c(a)})}})},"dojox/app/controllers/History":function(){define("dojo/_base/lang dojo/_base/declare dojo/on ../Controller ../utils/hash dojo/topic".split(" "),
function(h,l,d,g,b,a){return l("dojox.app.controllers.History",g,{_currentPosition:0,currentState:{},constructor:function(){this.events={"app-domNode":this.onDomNodeChange};if(this.app.domNode)this.onDomNodeChange({oldNode:null,newNode:this.app.domNode});this.bind(window,"popstate",h.hitch(this,this.onPopState))},onDomNodeChange:function(a){null!=a.oldNode&&this.unbind(a.oldNode,"startTransition");this.bind(a.newNode,"startTransition",h.hitch(this,this.onStartTransition))},onStartTransition:function(c){var e=
window.location.hash,k=b.getTarget(e,this.app.defaultView),g=b.getParams(e),d=h.clone(c.detail);d.target=d.title=k;d.url=e;d.params=g;d.id=this._currentPosition;1==history.length&&history.pushState(d,d.href,e);d.bwdTransition=d.transition;h.mixin(this.currentState,d);history.replaceState(this.currentState,this.currentState.href,e);this._currentPosition+=1;c.detail.id=this._currentPosition;e=c.detail.url||"#"+c.detail.target;c.detail.params&&(e=b.buildWithParams(e,c.detail.params));c.detail.fwdTransition=
c.detail.transition;history.pushState(c.detail,c.detail.href,e);this.currentState=h.clone(c.detail);a.publish("/app/history/pushState",c.detail.target)},onPopState:function(c){if(this.app.getStatus()===this.app.lifecycle.STARTED&&c.state){var b=c.state.id<this._currentPosition;b?this._currentPosition-=1:this._currentPosition+=1;var k=h.mixin({reverse:b?!0:!1},c.state);k.transition=b?k.bwdTransition:k.fwdTransition;this.app.emit("app-transition",{viewId:c.state.target,opts:k});a.publish("/app/history/popState",
c.state.target)}}})})},"dojox/app/Controller":function(){define(["dojo/_base/lang","dojo/_base/declare","dojo/on"],function(h,l,d){return l("dojox.app.Controller",null,{constructor:function(d,b){this.events=this.events||b;this._boundEvents=[];this.app=d},bind:function(g,b,a){if(0==arguments.length){if(this.events)for(var c in this.events)"_"!==c.charAt(0)&&this.bind(this.app,c,h.hitch(this,this.events[c]))}else c=d(g,b,a),this._boundEvents.push({event:b,evented:g,signal:c});return this},unbind:function(d,
b){for(var a=this._boundEvents.length,c=0;c<a;c++)if(this._boundEvents[c].event==b&&this._boundEvents[c].evented==d){this._boundEvents[c].signal.remove();this._boundEvents.splice(c,1);return}return this}})})},"dojox/app/controllers/HistoryHash":function(){define("dojo/_base/lang dojo/_base/declare dojo/topic dojo/on ../Controller ../utils/hash dojo/hash".split(" "),function(h,l,d,g,b,a){return l("dojox.app.controllers.HistoryHash",b,{constructor:function(a){this.events={"app-domNode":this.onDomNodeChange};
if(this.app.domNode)this.onDomNodeChange({oldNode:null,newNode:this.app.domNode});d.subscribe("/dojo/hashchange",h.hitch(this,function(a){this._onHashChange(a)}));this._historyStack=[];this._historyDiff=this._historyLen=0;this._previous=this._next=this._current=null;this._newHistoryLen=this._oldHistoryLen=this._index=0;this._startTransitionEvent=this._addToHistoryStack=!1;(a=window.location.hash)&&1<a.length&&(a=a.substr(1));this._historyStack.push({hash:a,url:window.location.href,detail:{target:a}});
this._historyLen=window.history.length;this._index=this._historyStack.length-1;this._current=a;this._historyDiff=window.history.length-this._historyStack.length},onDomNodeChange:function(a){null!=a.oldNode&&this.unbind(a.oldNode,"startTransition");this.bind(a.newNode,"startTransition",h.hitch(this,this.onStartTransition))},onStartTransition:function(c){var b=c.detail.target,k=/#(.+)/;!b&&k.test(c.detail.href)&&(b=c.detail.href.match(k)[1]);b=c.detail.url||"#"+b;c.detail.params&&(b=a.buildWithParams(b,
c.detail.params));this._oldHistoryLen=window.history.length;window.location.hash=b;this._startTransitionEvent=this._addToHistoryStack=!0},_addHistory:function(a){this._historyStack.push({hash:a,url:window.location.href,detail:{target:a}});this._historyLen=window.history.length;this._index=this._historyStack.length-1;this._previous=this._current;this._current=a;this._next=null;this._historyDiff=window.history.length-this._historyStack.length;this._addToHistoryStack=!1},_onHashChange:function(b){if(0>
this._index||this._index>window.history.length-1)throw Error("Application history out of management.");this._newHistoryLen=window.history.length;this._oldHistoryLen>this._newHistoryLen&&(this._historyStack.splice(this._newHistoryLen-this._historyDiff-1,this._historyStack.length-1),this._historyLen=this._historyStack.length,this._oldHistoryLen=0);if(this._addToHistoryStack&&this._oldHistoryLen===this._newHistoryLen)this._historyStack.splice(this._newHistoryLen-this._historyDiff-1,this._historyStack.length-
1),this._addHistory(b);else{if(this._historyLen<window.history.length)this._addHistory(b),this._startTransitionEvent||this.app.emit("app-transition",{viewId:a.getTarget(b),opts:{params:a.getParams(b)||{}}});else if(b!=this._current)if(b===this._previous)this._back(b,this._historyStack[this._index].detail);else if(b===this._next)this._forward(b,this._historyStack[this._index].detail);else{for(var e=-1,k=this._index;0<k;k--)if(b===this._historyStack[k].hash){e=k;break}if(-1===e)for(k=this._index;k<
this._historyStack.length;k++)if(b===this._historyStack[k].hash){e=k;break}0<e<this._historyStack.length?this._go(e,e-this._index):this.app.log("go error. index out of history stack.")}this._startTransitionEvent=!1}},_back:function(b,e){this.app.log("back");this._next=this._historyStack[this._index].hash;this._index--;this._previous=0<this._index?this._historyStack[this._index-1].hash:null;this._current=b;var k=a.getTarget(b,this.app.defaultView);d.publish("/app/history/back",{viewId:k,detail:e});
this.app.emit("app-transition",{viewId:k,opts:h.mixin({reverse:!0},e,{params:a.getParams(b)})})},_forward:function(b,e){this.app.log("forward");this._previous=this._historyStack[this._index].hash;this._index++;this._next=this._index<this._historyStack.length-1?this._historyStack[this._index+1].hash:null;this._current=b;var k=a.getTarget(b,this.app.defaultView);d.publish("/app/history/forward",{viewId:k,detail:e});this.app.emit("app-transition",{viewId:k,opts:h.mixin({reverse:!1},e,{params:a.getParams(b)})})},
_go:function(b,e){if(0>b||b>window.history.length-1)throw Error("Application history.go steps out of management, index: "+b+" length: "+window.history.length);this._index=b;this._current=this._historyStack[b].hash;this._previous=this._historyStack[b-1]?this._historyStack[b-1].hash:null;this._next=this._historyStack[b+1]?this._historyStack[b+1].hash:null;var k=a.getTarget(this._current,this.app.defaultView);d.publish("/app/history/go",{viewId:k,step:e,detail:this._historyStack[b].detail});this.app.emit("app-transition",
{viewId:k,opts:h.mixin({reverse:0>=e},this._historyStack[b].detail,{params:a.getParams(this._current)})})}})})},"dojo/hash":function(){define("./_base/kernel require ./_base/config ./aspect ./_base/lang ./topic ./domReady ./sniff".split(" "),function(h,l,d,g,b,a,c,e){function k(f,a){var b=f.indexOf(a);return 0<=b?f.substring(b+1):""}function n(){return k(location.href,"#")}function q(){a.publish("/dojo/hashchange",n())}function m(){n()!==f&&(f=n(),q())}function u(f){if(s)if(s.isTransitioning())setTimeout(b.hitch(null,
u,f),y);else{var a=s.iframe.location.href,c=a.indexOf("?");s.iframe.location.replace(a.substring(0,c)+"?"+f)}else location.replace("#"+f),!z&&m()}function r(){function a(){f=n();e=r?f:k(J.href,"?");s=!1;u=null}var m=document.createElement("iframe"),c=d.dojoBlankHtmlUrl||l.toUrl("./resources/blank.html");m.id="dojo-hash-iframe";m.src=c+"?"+n();m.style.display="none";document.body.appendChild(m);this.iframe=h.global["dojo-hash-iframe"];var e,s,u,g,r,J=this.iframe.location;this.isTransitioning=function(){return s};
this.pollLocation=function(){if(!r)try{var d=k(J.href,"?");document.title!=g&&(g=this.iframe.document.title=document.title)}catch(l){r=!0}var h=n();if(s&&f===h)if(r||d===u)a(),q();else{setTimeout(b.hitch(this,this.pollLocation),0);return}else if(!(f===h&&(r||e===d))){if(f!==h){f=h;s=!0;u=h;m.src=c+"?"+u;r=!1;setTimeout(b.hitch(this,this.pollLocation),0);return}r||(location.href="#"+J.search.substring(1),a(),q())}setTimeout(b.hitch(this,this.pollLocation),y)};a();setTimeout(b.hitch(this,this.pollLocation),
y)}h.hash=function(f,a){if(!arguments.length)return n();"#"==f.charAt(0)&&(f=f.substring(1));a?u(f):location.href="#"+f;return f};var f,s,z,y=d.hashPollFrequency||100;c(function(){"onhashchange"in h.global&&(!e("ie")||8<=e("ie")&&"BackCompat"!=document.compatMode)?z=g.after(h.global,"onhashchange",q,!0):document.addEventListener?(f=n(),setInterval(m,y)):document.attachEvent&&(s=new r)});return h.hash})},"dojox/mobile/deviceTheme":function(){("undefined"===typeof define?function(h,l){l()}:define)(["dojo/_base/config",
"dojo/_base/lang","dojo/_base/window","require"],function(h,l,d,g){var b=l&&l.getObject("dojox.mobile",!0)||{};l=new function(){d||(d=window,d.doc=document,d._no_dojo_dm=b);h=h||d.mblConfig||{};for(var a=d.doc.getElementsByTagName("script"),c=0;c<a.length;c++){var e=a[c],k=e.getAttribute("src")||"";if(k.match(/\/deviceTheme\.js/i)){h.baseUrl=k.replace("deviceTheme.js","../../dojo/");if(a=e.getAttribute("data-dojo-config")||e.getAttribute("djConfig")){var a=eval("({ "+a+" })"),n;for(n in a)h[n]=a[n]}break}else if(k.match(/\/dojo\.js/i)){h.baseUrl=
k.replace("dojo.js","");break}}this.loadCssFile=function(a){var m=d.doc.createElement("link");m.href=a;m.type="text/css";m.rel="stylesheet";a=d.doc.getElementsByTagName("head")[0];a.insertBefore(m,a.firstChild);b.loadedCssFiles.push(m)};this.toUrl=function(a){return g?g.toUrl(a):h.baseUrl+"../"+a};this.setDm=function(a){b=a};this.themeMap=h.themeMap||[["Holodark","holodark",[]],["Android 3","holodark",[]],["Android 4","holodark",[]],["Android","android",[]],["BlackBerry","blackberry",[]],["BB10",
"blackberry",[]],["iPhone","iphone",[]],["iPad","iphone",[this.toUrl("dojox/mobile/themes/iphone/ipad.css")]],["MSIE 10","windows",[]],["WindowsPhone","windows",[]],["Custom","custom",[]],[".*","iphone",[]]];b.loadedCssFiles=[];this.loadDeviceTheme=function(a){var m=h.mblThemeFiles||b.themeFiles||["@theme"],c,e;e=this.themeMap;var f=a||h.mblUserAgent||(location.search.match(/theme=(\w+)/)?RegExp.$1:navigator.userAgent);for(c=0;c<e.length;c++)if(f.match(RegExp(e[c][0]))){var s=e[c][1];if(!("windows"==
s&&h.mblDisableWindowsTheme)){f=d.doc.documentElement.className;f=f.replace(RegExp(" *"+b.currentTheme+"_theme"),"")+" "+s+"_theme";d.doc.documentElement.className=f;b.currentTheme=s;c=[].concat(e[c][2]);for(e=0;e<m.length;e++){var k=m[e]instanceof Array||"array"==typeof m[e];!k&&-1!==m[e].indexOf("/")?f=m[e]:(f=k?(m[e][0]||"").replace(/\./g,"/"):"dojox/mobile",k=(k?m[e][1]:m[e]).replace(/\./g,"/"),f=f+"/"+("themes/"+s+"/"+("@theme"===k?s:k)+".css"));c.unshift(this.toUrl(f))}for(m=0;m<b.loadedCssFiles.length;m++)s=
b.loadedCssFiles[m],s.parentNode.removeChild(s);b.loadedCssFiles=[];for(e=0;e<c.length;e++)m=c[e].toString(),!0==h["dojo-bidi"]&&-1==m.indexOf("_rtl")&&(s=m.substr(m.lastIndexOf("/")+1),-1!="android.css blackberry.css custom.css iphone.css holodark.css base.css Carousel.css ComboBox.css IconContainer.css IconMenu.css ListItem.css RoundRectCategory.css SpinWheel.css Switch.css TabBar.css ToggleButton.css ToolBarButton.css".indexOf(s)&&this.loadCssFile(m.replace(".css","_rtl.css"))),this.loadCssFile(c[e].toString());
a&&b.loadCompatCssFiles&&b.loadCompatCssFiles();break}}}};l.loadDeviceTheme();return window.deviceTheme=b.deviceTheme=l})},"dojox/app/controllers/Load":function(){define("require dojo/_base/lang dojo/_base/declare dojo/on dojo/Deferred dojo/when ../Controller".split(" "),function(h,l,d,g,b,a,c,e){return d("dojox.app.controllers.Load",c,{_waitingQueue:[],constructor:function(a,b){this.events={"app-init":this.init,"app-load":this.load}},init:function(b){a(this.createView(b.parent,null,null,{templateString:b.templateString,
controller:b.controller},null,b.type),function(c){a(c.start(),b.callback)})},load:function(c){this.app.log("in app/controllers/Load event.viewId\x3d"+c.viewId+" event \x3d",c);for(var e=[],d=(c.viewId||"").split("+");0<d.length;){var m=d.shift();e.push(m)}var g;this.proceedLoadViewDef=new b;if(e&&1<e.length){for(var r=0;r<e.length-1;r++)d=l.clone(c),d.callback=null,d.viewId=e[r],this._waitingQueue.push(d);this.proceedLoadView(this._waitingQueue.shift());a(this.proceedLoadViewDef,l.hitch(this,function(){var a=
l.clone(c);a.viewId=e[r];return g=this.loadView(a)}))}else return g=this.loadView(c)},proceedLoadView:function(b){var c=this.loadView(b);a(c,l.hitch(this,function(){this.app.log("in app/controllers/Load proceedLoadView back from loadView for event",b);var a=this._waitingQueue.shift();a?(this.app.log("in app/controllers/Load proceedLoadView back from loadView calling this.proceedLoadView(nextEvt) for ",a),this.proceedLoadView(a)):(this._waitingQueue=[],this.proceedLoadViewDef.resolve())}))},loadView:function(b){var c=
b.parent||this.app,e=(b.viewId||"").split(","),m=e.shift(),e=e.join(","),c=this.loadChild(c,m,e,b.params||"");b.callback&&a(c,b.callback);return c},createChild:function(c,e,d,m){var g=c.id+"_"+e;!m&&c.views[e].defaultParams&&(m=c.views[e].defaultParams);if(d=c.children[g])return m&&(d.params=m),this.app.log("in app/controllers/Load createChild view is already loaded so return the loaded view with the new parms ",d),d;var r=new b;a(this.createView(c,g,e,null,m,c.views[e].type),function(f){c.children[g]=
f;a(f.start(),function(a){r.resolve(a)})});return r},createView:function(a,c,e,m,d,g){var f=new b,s=this.app;h([g?g:"../View"],function(b){b=new b(l.mixin({app:s,id:c,name:e,parent:a},{params:d},m));f.resolve(b)});return f},loadChild:function(c,e,d,m){if(!c)throw Error("No parent for Child '"+e+"'.");if(!e){var g=c.defaultView?c.defaultView.split(","):"default";e=g.shift();d=g.join(",")}var r=new b,f;try{f=this.createChild(c,e,d,m)}catch(s){return r.reject("load child '"+e+"' error."),r.promise}a(f,
l.hitch(this,function(f){!d&&f.defaultView&&(d=f.defaultView);var b=d.split(",");e=b.shift();d=b.join(",");e?(f=this.loadChild(f,e,d,m),a(f,function(){r.resolve()},function(){r.reject("load child '"+e+"' error.")})):r.resolve()}),function(){r.reject("load child '"+e+"' error.")});return r.promise}})})},"dojox/app/controllers/Transition":function(){define("require dojo/_base/lang dojo/_base/declare dojo/has dojo/on dojo/Deferred dojo/when dojo/dom-style ../Controller ../utils/constraints".split(" "),
function(h,l,d,g,b,a,c,e,k,n){var q;return d("dojox.app.controllers.Transition",k,{proceeding:!1,waitingQueue:[],constructor:function(a,b){this.events={"app-transition":this.transition,"app-domNode":this.onDomNodeChange};h([this.app.transit||"dojox/css3/transit"],function(a){q=a});if(this.app.domNode)this.onDomNodeChange({oldNode:null,newNode:this.app.domNode})},transition:function(a){var b=a.viewId||"";this.proceedingSaved=this.proceeding;var c=b.split("+"),f;if(0<c.length){for(;1<c.length;)b=c.shift(),
f=l.clone(a),f.viewId=b,this.proceeding=!0,this.proceedTransition(f);b=c.shift();c=b.split("-");if(0<c.length)for(b=c.shift();0<c.length;){var e=c.shift();f=l.clone(a);f.viewId=e;this._doTransition(f.viewId,f.opts,f.opts.params,a.opts.data,this.app,!0,f._doResize)}0<b.length&&(this.proceeding=this.proceedingSaved,a.viewId=b,a._doResize=!0,this.proceedTransition(a))}else a._doResize=!0,this.proceedTransition(a)},onDomNodeChange:function(a){null!=a.oldNode&&this.unbind(a.oldNode,"startTransition");
this.bind(a.newNode,"startTransition",l.hitch(this,this.onStartTransition))},onStartTransition:function(a){a.preventDefault&&a.preventDefault();a.cancelBubble=!0;a.stopPropagation&&a.stopPropagation();var b=a.detail.target,c=/#(.+)/;!b&&c.test(a.detail.href)&&(b=a.detail.href.match(c)[1]);this.transition({viewId:b,opts:l.mixin({},a.detail),data:a.detail.data})},proceedTransition:function(a){if(this.proceeding)this.app.log("in app/controllers/Transition proceedTransition push event",a),this.waitingQueue.push(a),
this.processingQueue=!1;else{0<this.waitingQueue.length&&!this.processingQueue&&(this.processingQueue=!0,this.waitingQueue.push(a),a=this.waitingQueue.shift());this.proceeding=!0;this.app.log("in app/controllers/Transition proceedTransition calling trigger load",a);a.opts||(a.opts={});var b=a.params||a.opts.params;this.app.emit("app-load",{viewId:a.viewId,params:b,callback:l.hitch(this,function(){var e=this._doTransition(a.viewId,a.opts,b,a.opts.data,this.app,!1,a._doResize);c(e,l.hitch(this,function(){this.proceeding=
!1;var a=this.waitingQueue.shift();a&&this.proceedTransition(a)}))})})}},_getTransition:function(a,b,c){var f=null;a.views[b]&&(f=a.views[b].transition);f||(f=a.transition);for(b=a.defaultTransition;!f&&a.parent;)a=a.parent,f=a.transition,b||(b=a.defaultTransition);return f||c.transition||b||"none"},_getParamsForView:function(a,b){var c={},f;for(f in b){var e=b[f];l.isObject(e)?f==a&&(c=l.mixin(c,e)):f&&null!=e&&(c[f]=b[f])}return c},_doTransition:function(a,b,e,f,d,g,k,h){if(!d)throw Error("view parent not found in transition.");
this.app.log("in app/controllers/Transition._doTransition transitionTo\x3d[",a,"], removeView \x3d [",g,"] parent.name\x3d[",d.name,"], opts\x3d",b);var v,w,p;v=a?a.split(","):d.defaultView.split(",");a=v.shift();w=v.join(",");p=d.children[d.id+"_"+a];if(!p){if(g){this.app.log("\x3e in Transition._doTransition called with removeView true, but that view is not available to remove");return}throw Error("child view must be loaded before transition.");}var x=n.getSelectedChild(d,p.constraint);p.params=
this._getParamsForView(p.name,e);!w&&p.defaultView&&(w=p.defaultView);if(g){if(p!==x){this.app.log("\x3e in Transition._doTransition called with removeView true, but that view is not available to remove");return}p=null}if(p!==x){v=n.getAllSelectedChildren(x);for(var A=0;A<v.length;A++){var t=v[A];t&&t.beforeDeactivate&&(this.app.log("\x3c in Transition._doTransition calling subChild.beforeDeactivate subChild name\x3d[",t.name,"], parent.name\x3d[",t.parent.name,"], next!\x3d\x3dcurrent path"),t.beforeDeactivate())}x&&
(this.app.log("\x3c in Transition._doTransition calling current.beforeDeactivate current name\x3d[",x.name,"], parent.name\x3d[",x.parent.name,"], next!\x3d\x3dcurrent path"),x.beforeDeactivate(p,f));p&&(this.app.log("\x3e in Transition._doTransition calling next.beforeActivate next name\x3d[",p.name,"], parent.name\x3d[",p.parent.name,"], next!\x3d\x3dcurrent path"),p.beforeActivate(x,f));this.app.log("\x3e in Transition._doTransition calling app.emit layoutView view next");g||this.app.emit("app-layoutView",
{parent:d,view:p});k&&!w&&this.app.emit("app-resize");v=!0;if(q&&(!h||null!=x))h=l.mixin({},b),h=l.mixin({},h,{reverse:h.reverse||-1===h.transitionDir?!0:!1,transition:this._getTransition(d,a,h)}),p&&this.app.log("    \x3e in Transition._doTransition calling transit for current \x3d"+p.name),v=q(x&&x.domNode,p&&p.domNode,h);c(v,l.hitch(this,function(){p&&this.app.log("    \x3c in Transition._doTransition back from transit for next \x3d"+p.name);g&&this.app.emit("app-layoutView",{parent:d,view:x,removeView:!0});
for(var a=n.getAllSelectedChildren(x),c=0;c<a.length;c++){var m=a[c];m&&m.beforeDeactivate&&(this.app.log("  \x3c in Transition._doTransition calling subChild.afterDeactivate subChild name\x3d[",m.name,"], parent.name\x3d[",m.parent.name,"], next!\x3d\x3dcurrent path"),m.afterDeactivate())}x&&(this.app.log("  \x3c in Transition._doTransition calling current.afterDeactivate current name\x3d[",x.name,"], parent.name\x3d[",x.parent.name,"], next!\x3d\x3dcurrent path"),x.afterDeactivate(p,f));p&&(this.app.log("  \x3e in Transition._doTransition calling next.afterActivate next name\x3d[",
p.name,"], parent.name\x3d[",p.parent.name,"], next!\x3d\x3dcurrent path"),p.afterActivate(x,f));w&&this._doTransition(w,b,e,f,p||d,g,k,!0)}));return v}this.app.log("\x3c in Transition._doTransition calling next.beforeDeactivate refresh current view next name\x3d[",p.name,"], parent.name\x3d[",p.parent.name,"], next\x3d\x3dcurrent path");p.beforeDeactivate(x,f);this.app.log("  \x3c in Transition._doTransition calling next.afterDeactivate refresh current view next name\x3d[",p.name,"], parent.name\x3d[",
p.parent.name,"], next\x3d\x3dcurrent path");p.afterDeactivate(x,f);this.app.log("\x3e in Transition._doTransition calling next.beforeActivate next name\x3d[",p.name,"], parent.name\x3d[",p.parent.name,"], next\x3d\x3dcurrent path");p.beforeActivate(x,f);this.app.log("\x3e in Transition._doTransition calling app.triggger layoutView view next name\x3d[",p.name,"], removeView \x3d [",g,"], parent.name\x3d[",p.parent.name,"], next\x3d\x3dcurrent path");this.app.emit("app-layoutView",{parent:d,view:p,
removeView:g});k&&!w&&this.app.emit("app-resize");this.app.log("  \x3e in Transition._doTransition calling next.afterActivate next name\x3d[",p.name,"], parent.name\x3d[",p.parent.name,"], next\x3d\x3dcurrent path");p.afterActivate(x,f);if(w)return this._doTransition(w,b,e,f,p,g)}})})},"dojox/app/controllers/Layout":function(){define("dojo/_base/declare dojo/_base/lang dojo/_base/array dojo/_base/window dojo/query dojo/dom-geometry dojo/dom-attr dojo/dom-style dijit/registry ./LayoutBase ../utils/layout ../utils/constraints".split(" "),
function(h,l,d,g,b,a,c,e,k,n,q,m){return h("dojox.app.controllers.Layout",n,{constructor:function(a,b){},onResize:function(){this._doResize(this.app);this.resizeSelectedChildren(this.app)},resizeSelectedChildren:function(a){for(var b in a.selectedChildren)a.selectedChildren[b]&&(this.app.log("in Layout resizeSelectedChildren calling resizeSelectedChildren calling _doResize for w.selectedChildren[hash].id\x3d"+a.selectedChildren[b].id),this._doResize(a.selectedChildren[b]),d.forEach(a.selectedChildren[b].domNode.children,
function(a){k.byId(a.id)&&k.byId(a.id).resize&&k.byId(a.id).resize()}),this.resizeSelectedChildren(a.selectedChildren[b]))},initLayout:function(a){this.app.log("in app/controllers/Layout.initLayout event\x3d",a);this.app.log("in app/controllers/Layout.initLayout event.view.parent.name\x3d[",a.view.parent.name,"]");a.view.parent.domNode.appendChild(a.view.domNode);c.set(a.view.domNode,"data-app-constraint",a.view.constraint);this.inherited(arguments)},_doResize:function(b){var c=b.domNode;if(c){var f=
{};if(!("h"in f)||!("w"in f))f=l.mixin(a.getMarginBox(c),f);if(b!==this.app){var d=e.getComputedStyle(c),m=a.getMarginExtents(c,d),k=a.getBorderExtents(c,d),f=b._borderBox={w:f.w-(m.w+k.w),h:f.h-(m.h+k.h)},m=a.getPadExtents(c,d);b._contentBox={l:e.toPixelValue(c,d.paddingLeft),t:e.toPixelValue(c,d.paddingTop),w:f.w-m.w,h:f.h-m.h}}else b._contentBox={l:0,t:0,h:g.global.innerHeight||g.doc.documentElement.clientHeight,w:g.global.innerWidth||g.doc.documentElement.clientWidth};this.inherited(arguments)}else this.app.log("Warning - View has not been loaded, in Layout _doResize view.domNode is not set for view.id\x3d"+
b.id+" view\x3d",b)},layoutView:function(a){a.view&&(this.inherited(arguments),this._doResize(a.parent||this.app),this._doResize(a.view))},_doLayout:function(a){if(a){this.app.log("in Layout _doLayout called for view.id\x3d"+a.id+" view\x3d",a);var e,f=m.getSelectedChild(a,a.constraint);if(!f||!f.isFullScreen)e=b("\x3e [data-app-constraint]",a.domNode).map(function(a){var b=k.getEnclosingWidget(a);return b?(b._constraint=c.get(a,"data-app-constraint"),b):{domNode:a,_constraint:c.get(a,"data-app-constraint")}}),
f&&(e=d.filter(e,function(a){return a.domNode&&a._constraint},a));a._contentBox&&q.layoutChildren(a.domNode,a._contentBox,e)}}})})},"dijit/registry":function(){define(["dojo/_base/array","dojo/sniff","dojo/_base/window","./main"],function(h,l,d,g){var b={},a={},c={length:0,add:function(b){if(a[b.id])throw Error("Tried to register widget with id\x3d\x3d"+b.id+" but that id is already registered");a[b.id]=b;this.length++},remove:function(b){a[b]&&(delete a[b],this.length--)},byId:function(b){return"string"==
typeof b?a[b]:b},byNode:function(b){return a[b.getAttribute("widgetId")]},toArray:function(){var b=[],c;for(c in a)b.push(a[c]);return b},getUniqueId:function(c){var d;do d=c+"_"+(c in b?++b[c]:b[c]=0);while(a[d]);return"dijit"==g._scopeName?d:g._scopeName+"_"+d},findWidgets:function(b,c){function d(b){for(b=b.firstChild;b;b=b.nextSibling)if(1==b.nodeType){var e=b.getAttribute("widgetId");e?(e=a[e])&&g.push(e):b!==c&&d(b)}}var g=[];d(b);return g},_destroyAll:function(){g._curFocus=null;g._prevFocus=
null;g._activeStack=[];h.forEach(c.findWidgets(d.body()),function(a){a._destroyed||(a.destroyRecursive?a.destroyRecursive():a.destroy&&a.destroy())})},getEnclosingWidget:function(b){for(;b;){var c=1==b.nodeType&&b.getAttribute("widgetId");if(c)return a[c];b=b.parentNode}return null},_hash:a};return g.registry=c})},"dijit/main":function(){define(["dojo/_base/kernel"],function(h){return h.dijit})},"dojox/app/controllers/LayoutBase":function(){define("dojo/_base/lang dojo/_base/declare dojo/sniff dojo/_base/window dojo/_base/config dojo/dom-attr dojo/topic dojo/dom-style ../utils/constraints ../Controller".split(" "),
function(h,l,d,g,b,a,c,e,k,n){return l("dojox.app.controllers.LayoutBase",n,{constructor:function(a,e){this.events={"app-initLayout":this.initLayout,"app-layoutView":this.layoutView,"app-resize":this.onResize};b.mblHideAddressBar?c.subscribe("/dojox/mobile/afterResizeAll",h.hitch(this,this.onResize)):this.bind(g.global,d("ios")?"orientationchange":"resize",h.hitch(this,this.onResize))},onResize:function(){this._doResize(this.app);for(var a in this.app.selectedChildren)this.app.selectedChildren[a]&&
this._doResize(this.app.selectedChildren[a])},initLayout:function(b){a.set(b.view.domNode,"id",b.view.id);b.callback&&b.callback()},_doLayout:function(a){},_doResize:function(a){this.app.log("in LayoutBase _doResize called for view.id\x3d"+a.id+" view\x3d",a);this._doLayout(a)},layoutView:function(a){var b=a.parent||this.app,c=a.view;if(c){var e=k.getSelectedChild(b,c.constraint);a.removeView?(c.viewShowing=!1,this.hideView(c),c==e&&k.setSelectedChild(b,c.constraint,null)):c!==e&&(e&&(e.viewShowing=
!1,this.hideView(e)),c.viewShowing=!0,this.showView(c),k.setSelectedChild(b,c.constraint,c))}},hideView:function(a){e.set(a.domNode,"display","none")},showView:function(a){e.set(a.domNode,"display","")}})})},"dojox/app/utils/layout":function(){define(["dojo/_base/array","dojo/dom-class","dojo/dom-geometry","dojo/dom-style","dojo/_base/lang"],function(h,l,d,g,b){function a(a,e){var g=a.resize?a.resize(e):d.setMarginBox(a.domNode,e);g?b.mixin(a,g):(b.mixin(a,d.getMarginBox(a.domNode)),b.mixin(a,e))}
return{marginBox2contentBox:function(a,b){var k=g.getComputedStyle(a),h=d.getMarginExtents(a,k),l=d.getPadBorderExtents(a,k);return{l:g.toPixelValue(a,k.paddingLeft),t:g.toPixelValue(a,k.paddingTop),w:b.w-(h.w+l.w),h:b.h-(h.h+l.h)}},layoutChildren:function(c,e,d,g,q){e=b.mixin({},e);l.add(c,"dijitLayoutContainer");d=h.filter(d,function(a){return"center"!=a._constraint&&"client"!=a.layoutAlign}).concat(h.filter(d,function(a){return"center"==a._constraint||"client"==a.layoutAlign}));h.forEach(d,function(b){var c=
b.domNode,d=b._constraint||b.layoutAlign;if(!d)throw Error("No constraint setting for "+b.id);var f=c.style;f.left=e.l+"px";f.top=e.t+"px";f.position="absolute";l.add(c,"dijitAlign"+(d.substring(0,1).toUpperCase()+d.substring(1)));c={};g&&g==b.id&&(c["top"==b._constraint||"bottom"==b._constraint?"h":"w"]=q);"top"==d||"bottom"==d?(c.w=e.w,a(b,c),e.h-=b.h,"top"==d?e.t+=b.h:f.top=e.t+e.h+"px"):"left"==d||"right"==d?(c.h=e.h,a(b,c),e.w-=b.w,"left"==d?e.l+=b.w:f.left=e.l+e.w+"px"):("client"==d||"center"==
d)&&a(b,e)})}}})},"dojox/css3/transit":function(){define(["dojo/_base/array","dojo/dom-style","dojo/promise/all","dojo/sniff","./transition"],function(h,l,d,g,b){return function(a,c,e){var k=e&&e.reverse?-1:1;if(!e||!e.transition||!b[e.transition]||g("ie")&&10>g("ie"))return a&&l.set(a,"display","none"),c&&l.set(c,"display",""),e.transitionDefs&&(e.transitionDefs[a.id]&&e.transitionDefs[a.id].resolve(a),e.transitionDefs[c.id]&&e.transitionDefs[c.id].resolve(c)),new d([]);var h=[],q=[],m=2E3;e.duration?
m=e.duration:(m=250,"fade"===e.transition?m=600:"flip"===e.transition&&(m=200));a&&(l.set(a,"display",""),a=b[e.transition](a,{"in":!1,direction:k,duration:m,deferred:e.transitionDefs&&e.transitionDefs[a.id]?e.transitionDefs[a.id]:null}),h.push(a.deferred),q.push(a));c&&(l.set(c,"display",""),c=b[e.transition](c,{direction:k,duration:m,deferred:e.transitionDefs&&e.transitionDefs[c.id]?e.transitionDefs[c.id]:null}),h.push(c.deferred),q.push(c));"flip"===e.transition?b.chainedPlay(q):b.groupedPlay(q);
return d(h)}})},"dojox/css3/transition":function(){define("dojo/_base/lang dojo/_base/array dojo/Deferred dojo/when dojo/promise/all dojo/on dojo/sniff".split(" "),function(h,l,d,g,b,a,c){var e="transitionend",k="t",n="translate3d(",q=",0,0)";c("webkit")?(k="WebkitT",e="webkitTransitionEnd"):c("mozilla")&&(k="MozT",n="translateX(",q=")");var m=function(a){h.mixin(this,{startState:{},endState:{},node:null,duration:250,"in":!0,direction:1,autoClear:!0});h.mixin(this,a);this.deferred||(this.deferred=
new d)};h.extend(m,{play:function(){m.groupedPlay([this])},_applyState:function(a){var b=this.node.style,c;for(c in a)a.hasOwnProperty(c)&&(b[c]=a[c])},initState:function(){this.node.style[k+"ransitionProperty"]="none";this.node.style[k+"ransitionDuration"]="0ms";this._applyState(this.startState)},_beforeStart:function(){"none"===this.node.style.display&&(this.node.style.display="");this.beforeStart()},_beforeClear:function(){this.node.style[k+"ransitionProperty"]=null;this.node.style[k+"ransitionDuration"]=
null;!0!==this["in"]&&(this.node.style.display="none");this.beforeClear()},_onAfterEnd:function(){this.deferred.resolve(this.node);this.node.id&&m.playing[this.node.id]===this.deferred&&delete m.playing[this.node.id];this.onAfterEnd()},beforeStart:function(){},beforeClear:function(){},onAfterEnd:function(){},start:function(){this._beforeStart();this._startTime=(new Date).getTime();this._cleared=!1;var b=this;b.node.style[k+"ransitionProperty"]="all";b.node.style[k+"ransitionDuration"]=b.duration+
"ms";a.once(b.node,e,function(){b.clear()});this._applyState(this.endState)},clear:function(){this._cleared||(this._cleared=!0,this._beforeClear(),this._removeState(this.endState),this._onAfterEnd())},_removeState:function(a){var b=this.node.style,c;for(c in a)a.hasOwnProperty(c)&&(b[c]=null)}});m.slide=function(a,b){var c=new m(b);c.node=a;var e="0",d="0";c["in"]?e=1===c.direction?"100%":"-100%":d=1===c.direction?"-100%":"100%";c.startState[k+"ransform"]=n+e+q;c.endState[k+"ransform"]=n+d+q;return c};
m.fade=function(a,b){var c=new m(b);c.node=a;var e="0",d="0";c["in"]?d="1":e="1";h.mixin(c,{startState:{opacity:e},endState:{opacity:d}});return c};m.flip=function(a,b){var c=new m(b);c.node=a;c["in"]?(h.mixin(c,{startState:{opacity:"0"},endState:{opacity:"1"}}),c.startState[k+"ransform"]="scale(0,0.8) skew(0,-30deg)",c.endState[k+"ransform"]="scale(1,1) skew(0,0)"):(h.mixin(c,{startState:{opacity:"1"},endState:{opacity:"0"}}),c.startState[k+"ransform"]="scale(1,1) skew(0,0)",c.endState[k+"ransform"]=
"scale(0,0.8) skew(0,30deg)");return c};var u=function(a){var c=[];l.forEach(a,function(a){a.id&&m.playing[a.id]&&c.push(m.playing[a.id])});return b(c)};m.getWaitingList=u;m.groupedPlay=function(b){var c=l.filter(b,function(a){return a.node}),c=u(c);l.forEach(b,function(a){a.node.id&&(m.playing[a.node.id]=a.deferred)});g(c,function(){l.forEach(b,function(a){a.initState()});setTimeout(function(){l.forEach(b,function(a){a.start()});a.once(b[b.length-1].node,e,function(){for(var a,c=0;c<b.length-1;c++)0!==
b[c].deferred.fired&&(a=(new Date).getTime()-b[c]._startTime,a>=b[c].duration&&b[c].clear())})},33)})};m.chainedPlay=function(a){var b=l.filter(a,function(a){return a.node}),b=u(b);l.forEach(a,function(a){a.node.id&&(m.playing[a.node.id]=a.deferred)});g(b,function(){l.forEach(a,function(a){a.initState()});for(var b=1,c=a.length;b<c;b++)a[b-1].deferred.then(h.hitch(a[b],function(){this.start()}));setTimeout(function(){a[0].start()},33)})};m.playing={};return m})},"dojox/app/View":function(){define("require dojo/when dojo/on dojo/_base/declare dojo/_base/lang dojo/Deferred dijit/Destroyable dijit/_TemplatedMixin dijit/_WidgetsInTemplateMixin ./ViewBase ./utils/nls".split(" "),
function(h,l,d,g,b,a,c,e,k,n,q){return g("dojox.app.View",[e,k,c,n],{constructor:function(a){},connect:function(a,c,e){return this.own(d(a,c,b.hitch(this,e)))[0]},_loadTemplate:function(){if(this.templateString)return!0;var c=this.template,e=this.dependencies?this.dependencies:[];c&&(0==c.indexOf("./")&&(c="app/"+c),e=e.concat(["dojo/text!"+c]));var d=new a;if(0<e.length){var f;try{f=h.on("error",b.hitch(this,function(a){!d.isResolved()&&!d.isRejected()&&(a.info[0]&&0<=a.info[0].indexOf(this.template))&&
(d.resolve(!1),f.remove())})),h(e,function(){d.resolve.call(d,arguments);f.remove()})}catch(g){d.resolve(!1),f&&f.remove()}}else d.resolve(!0);var k=new a;l(d,b.hitch(this,function(a){this.templateString=this.template?a[a.length-1]:"\x3cdiv\x3e\x3c/div\x3e";k.resolve(this)}));return k},load:function(){var c=new a,d=this.inherited(arguments),e=q(this);l(d,b.hitch(this,function(){l(e,b.hitch(this,function(a){this.nls=b.mixin({},this.parent.nls);a&&b.mixin(this.nls,a);l(this._loadTemplate(),function(a){c.resolve(a)})}))}));
return c},_startup:function(){this.buildRendering();this.inherited(arguments)}})})},"dijit/Destroyable":function(){define(["dojo/_base/array","dojo/aspect","dojo/_base/declare"],function(h,l,d){return d("dijit.Destroyable",null,{destroy:function(d){this._destroyed=!0},own:function(){h.forEach(arguments,function(d){var b="destroyRecursive"in d?"destroyRecursive":"destroy"in d?"destroy":"remove",a=l.before(this,"destroy",function(a){d[b](a)}),c=l.after(d,b,function(){a.remove();c.remove()},!0)},this);
return arguments}})})},"dijit/_TemplatedMixin":function(){define("dojo/cache dojo/_base/declare dojo/dom-construct dojo/_base/lang dojo/on dojo/sniff dojo/string ./_AttachMixin".split(" "),function(h,l,d,g,b,a,c,e){var k=l("dijit._TemplatedMixin",e,{templateString:null,templatePath:null,_skipNodeCache:!1,searchContainerNode:!0,_stringRepl:function(a){var b=this.declaredClass,d=this;return c.substitute(a,this,function(a,c){"!"==c.charAt(0)&&(a=g.getObject(c.substr(1),!1,d));if("undefined"==typeof a)throw Error(b+
" template:"+c);return null==a?"":"!"==c.charAt(0)?a:a.toString().replace(/"/g,"\x26quot;")},this)},buildRendering:function(){if(!this._rendered){this.templateString||(this.templateString=h(this.templatePath,{sanitize:!0}));var a=k.getCachedTemplate(this.templateString,this._skipNodeCache,this.ownerDocument),b;if(g.isString(a)){if(b=d.toDom(this._stringRepl(a),this.ownerDocument),1!=b.nodeType)throw Error("Invalid template: "+a);}else b=a.cloneNode(!0);this.domNode=b}this.inherited(arguments);this._rendered||
this._fillContent(this.srcNodeRef);this._rendered=!0},_fillContent:function(a){var b=this.containerNode;if(a&&b)for(;a.hasChildNodes();)b.appendChild(a.firstChild)}});k._templateCache={};k.getCachedTemplate=function(a,b,e){var g=k._templateCache,h=a,f=g[h];if(f){try{if(!f.ownerDocument||f.ownerDocument==(e||document))return f}catch(s){}d.destroy(f)}a=c.trim(a);if(b||a.match(/\$\{([^\}]+)\}/g))return g[h]=a;b=d.toDom(a,e);if(1!=b.nodeType)throw Error("Invalid template: "+a);return g[h]=b};a("ie")&&
b(window,"unload",function(){var a=k._templateCache,b;for(b in a){var c=a[b];"object"==typeof c&&d.destroy(c);delete a[b]}});return k})},"dojo/cache":function(){define(["./_base/kernel","./text"],function(h){return h.cache})},"dojo/string":function(){define(["./_base/kernel","./_base/lang"],function(h,l){var d={};l.setObject("dojo.string",d);d.rep=function(d,b){if(0>=b||!d)return"";for(var a=[];;){b&1&&a.push(d);if(!(b>>=1))break;d+=d}return a.join("")};d.pad=function(g,b,a,c){a||(a="0");g=String(g);
b=d.rep(a,Math.ceil((b-g.length)/a.length));return c?g+b:b+g};d.substitute=function(d,b,a,c){c=c||h.global;a=a?l.hitch(c,a):function(a){return a};return d.replace(/\$\{([^\s\:\}]+)(?:\:([^\s\:\}]+))?\}/g,function(d,g,h){d=l.getObject(g,!1,b);h&&(d=l.getObject(h,!1,c).call(c,d,g));return a(d,g).toString()})};d.trim=String.prototype.trim?l.trim:function(d){d=d.replace(/^\s+/,"");for(var b=d.length-1;0<=b;b--)if(/\S/.test(d.charAt(b))){d=d.substring(0,b+1);break}return d};return d})},"dijit/_AttachMixin":function(){define("require dojo/_base/array dojo/_base/connect dojo/_base/declare dojo/_base/lang dojo/mouse dojo/on dojo/touch ./_WidgetBase".split(" "),
function(h,l,d,g,b,a,c,e,k){var n=b.delegate(e,{mouseenter:a.enter,mouseleave:a.leave,keypress:d._keypress}),q;d=g("dijit._AttachMixin",null,{constructor:function(){this._attachPoints=[];this._attachEvents=[]},buildRendering:function(){this.inherited(arguments);this._attachTemplateNodes(this.domNode);this._beforeFillContent()},_beforeFillContent:function(){},_attachTemplateNodes:function(a){for(var b=a;;)if(1==b.nodeType&&(this._processTemplateNode(b,function(a,b){return a.getAttribute(b)},this._attach)||
this.searchContainerNode)&&b.firstChild)b=b.firstChild;else{if(b==a)break;for(;!b.nextSibling;)if(b=b.parentNode,b==a)return;b=b.nextSibling}},_processTemplateNode:function(a,c,d){var f=!0,e=this.attachScope||this,g=c(a,"dojoAttachPoint")||c(a,"data-dojo-attach-point");if(g)for(var k=g.split(/\s*,\s*/);g=k.shift();)b.isArray(e[g])?e[g].push(a):e[g]=a,f="containerNode"!=g,this._attachPoints.push(g);if(c=c(a,"dojoAttachEvent")||c(a,"data-dojo-attach-event")){g=c.split(/\s*,\s*/);for(k=b.trim;c=g.shift();)if(c){var h=
null;-1!=c.indexOf(":")?(h=c.split(":"),c=k(h[0]),h=k(h[1])):c=k(c);h||(h=c);this._attachEvents.push(d(a,c,b.hitch(e,h)))}}return f},_attach:function(a,b,d){b=b.replace(/^on/,"").toLowerCase();b="dijitclick"==b?q||(q=h("./a11yclick")):n[b]||b;return c(a,b,d)},_detachTemplateNodes:function(){var a=this.attachScope||this;l.forEach(this._attachPoints,function(b){delete a[b]});this._attachPoints=[];l.forEach(this._attachEvents,function(a){a.remove()});this._attachEvents=[]},destroyRendering:function(){this._detachTemplateNodes();
this.inherited(arguments)}});b.extend(k,{dojoAttachEvent:"",dojoAttachPoint:""});return d})},"dojo/touch":function(){define("./_base/kernel ./aspect ./dom ./dom-class ./_base/lang ./on ./has ./mouse ./domReady ./_base/window".split(" "),function(h,l,d,g,b,a,c,e,k,n){function q(b,c,f){return s&&f?function(b,c){return a(b,f,c)}:r?function(f,d){var e=a(f,c,d),g=a(f,b,function(a){(!t||(new Date).getTime()>t+1E3)&&d.call(this,a)});return{remove:function(){e.remove();g.remove()}}}:function(c,f){return a(c,
b,f)}}function m(a){do if(a.dojoClick)return a.dojoClick;while(a=a.parentNode)}function u(b,c,f){if(y=!b.target.disabled&&m(b.target))C=b.target,v=b.touches?b.touches[0].pageX:b.clientX,w=b.touches?b.touches[0].pageY:b.clientY,p=("object"==typeof y?y.x:"number"==typeof y?y:0)||4,x=("object"==typeof y?y.y:"number"==typeof y?y:0)||4,z||(z=!0,n.doc.addEventListener(c,function(a){y=y&&a.target==C&&Math.abs((a.touches?a.touches[0].pageX:a.clientX)-v)<=p&&Math.abs((a.touches?a.touches[0].pageY:a.clientY)-
w)<=x},!0),n.doc.addEventListener(f,function(b){if(y){A=(new Date).getTime();var c=b.target;"LABEL"===c.tagName&&(c=d.byId(c.getAttribute("for"))||c);setTimeout(function(){a.emit(c,"click",{bubbles:!0,cancelable:!0,_dojo_click:!0})})}},!0),b=function(a){n.doc.addEventListener(a,function(b){!b._dojo_click&&((new Date).getTime()<=A+1E3&&!("INPUT"==b.target.tagName&&g.contains(b.target,"dijitOffScreen")))&&(b.stopPropagation(),b.stopImmediatePropagation&&b.stopImmediatePropagation(),"click"==a&&(("INPUT"!=
b.target.tagName||"radio"==b.target.type||"checkbox"==b.target.type)&&"TEXTAREA"!=b.target.tagName&&"AUDIO"!=b.target.tagName&&"VIDEO"!=b.target.tagName)&&b.preventDefault())},!0)},b("click"),b("mousedown"),b("mouseup"))}var r=c("touch"),f=5>c("ios"),s=navigator.msPointerEnabled,z,y,C,v,w,p,x,A,t,H;r&&(s?k(function(){n.doc.addEventListener("MSPointerDown",function(a){u(a,"MSPointerMove","MSPointerUp")},!0)}):k(function(){function d(a){var f=b.delegate(a,{bubbles:!0});6<=c("ios")&&(f.touches=a.touches,
f.altKey=a.altKey,f.changedTouches=a.changedTouches,f.ctrlKey=a.ctrlKey,f.metaKey=a.metaKey,f.shiftKey=a.shiftKey,f.targetTouches=a.targetTouches);return f}H=n.body();n.doc.addEventListener("touchstart",function(b){t=(new Date).getTime();var c=H;H=b.target;a.emit(c,"dojotouchout",{relatedTarget:H,bubbles:!0});a.emit(H,"dojotouchover",{relatedTarget:c,bubbles:!0});u(b,"touchmove","touchend")},!0);a(n.doc,"touchmove",function(b){t=(new Date).getTime();var c=n.doc.elementFromPoint(b.pageX-(f?0:n.global.pageXOffset),
b.pageY-(f?0:n.global.pageYOffset));c&&(H!==c&&(a.emit(H,"dojotouchout",{relatedTarget:c,bubbles:!0}),a.emit(c,"dojotouchover",{relatedTarget:H,bubbles:!0}),H=c),a.emit(c,"dojotouchmove",d(b)))});a(n.doc,"touchend",function(b){t=(new Date).getTime();var c=n.doc.elementFromPoint(b.pageX-(f?0:n.global.pageXOffset),b.pageY-(f?0:n.global.pageYOffset))||n.body();a.emit(c,"dojotouchend",d(b))})}));l={press:q("mousedown","touchstart","MSPointerDown"),move:q("mousemove","dojotouchmove","MSPointerMove"),release:q("mouseup",
"dojotouchend","MSPointerUp"),cancel:q(e.leave,"touchcancel",r?"MSPointerCancel":null),over:q("mouseover","dojotouchover","MSPointerOver"),out:q("mouseout","dojotouchout","MSPointerOut"),enter:e._eventHandler(q("mouseover","dojotouchover","MSPointerOver")),leave:e._eventHandler(q("mouseout","dojotouchout","MSPointerOut"))};return h.touch=l})},"dijit/_WidgetBase":function(){define("require dojo/_base/array dojo/aspect dojo/_base/config dojo/_base/connect dojo/_base/declare dojo/dom dojo/dom-attr dojo/dom-class dojo/dom-construct dojo/dom-geometry dojo/dom-style dojo/has dojo/_base/kernel dojo/_base/lang dojo/on dojo/ready dojo/Stateful dojo/topic dojo/_base/window ./Destroyable dojo/has!dojo-bidi?./_BidiMixin ./registry".split(" "),
function(h,l,d,g,b,a,c,e,k,n,q,m,u,r,f,s,z,y,C,v,w,p,x){function A(a){return function(b){e[b?"set":"remove"](this.domNode,a,b);this._set(a,b)}}u.add("dijit-legacy-requires",!r.isAsync);u.add("dojo-bidi",!1);u("dijit-legacy-requires")&&z(0,function(){h(["dijit/_base/manager"])});var t={};g=a("dijit._WidgetBase",[y,w],{id:"",_setIdAttr:"domNode",lang:"",_setLangAttr:A("lang"),dir:"",_setDirAttr:A("dir"),"class":"",_setClassAttr:{node:"domNode",type:"class"},style:"",title:"",tooltip:"",baseClass:"",
srcNodeRef:null,domNode:null,containerNode:null,ownerDocument:null,_setOwnerDocumentAttr:function(a){this._set("ownerDocument",a)},attributeMap:{},_blankGif:g.blankGif||h.toUrl("dojo/resources/blank.gif"),_introspect:function(){var a=this.constructor;if(!a._setterAttrs){var b=a.prototype,c=a._setterAttrs=[],a=a._onMap={},f;for(f in b.attributeMap)c.push(f);for(f in b)/^on/.test(f)&&(a[f.substring(2).toLowerCase()]=f),/^_set[A-Z](.*)Attr$/.test(f)&&(f=f.charAt(4).toLowerCase()+f.substr(5,f.length-
9),(!b.attributeMap||!(f in b.attributeMap))&&c.push(f))}},postscript:function(a,b){this.create(a,b)},create:function(a,b){this._introspect();this.srcNodeRef=c.byId(b);this._connects=[];this._supportingWidgets=[];this.srcNodeRef&&"string"==typeof this.srcNodeRef.id&&(this.id=this.srcNodeRef.id);a&&(this.params=a,f.mixin(this,a));this.postMixInProperties();this.id||(this.id=x.getUniqueId(this.declaredClass.replace(/\./g,"_")),this.params&&delete this.params.id);this.ownerDocument=this.ownerDocument||
(this.srcNodeRef?this.srcNodeRef.ownerDocument:document);this.ownerDocumentBody=v.body(this.ownerDocument);x.add(this);this.buildRendering();var d;if(this.domNode){this._applyAttributes();var e=this.srcNodeRef;e&&(e.parentNode&&this.domNode!==e)&&(e.parentNode.replaceChild(this.domNode,e),d=!0);this.domNode.setAttribute("widgetId",this.id)}this.postCreate();d&&delete this.srcNodeRef;this._created=!0},_applyAttributes:function(){var a={},b;for(b in this.params||{})a[b]=this._get(b);l.forEach(this.constructor._setterAttrs,
function(b){if(!(b in a)){var c=this._get(b);c&&this.set(b,c)}},this);for(b in a)this.set(b,a[b])},postMixInProperties:function(){},buildRendering:function(){this.domNode||(this.domNode=this.srcNodeRef||this.ownerDocument.createElement("div"));if(this.baseClass){var a=this.baseClass.split(" ");this.isLeftToRight()||(a=a.concat(l.map(a,function(a){return a+"Rtl"})));k.add(this.domNode,a)}},postCreate:function(){},startup:function(){this._started||(this._started=!0,l.forEach(this.getChildren(),function(a){!a._started&&
(!a._destroyed&&f.isFunction(a.startup))&&(a.startup(),a._started=!0)}))},destroyRecursive:function(a){this._beingDestroyed=!0;this.destroyDescendants(a);this.destroy(a)},destroy:function(a){function b(c){c.destroyRecursive?c.destroyRecursive(a):c.destroy&&c.destroy(a)}this._beingDestroyed=!0;this.uninitialize();l.forEach(this._connects,f.hitch(this,"disconnect"));l.forEach(this._supportingWidgets,b);this.domNode&&l.forEach(x.findWidgets(this.domNode,this.containerNode),b);this.destroyRendering(a);
x.remove(this.id);this._destroyed=!0},destroyRendering:function(a){this.bgIframe&&(this.bgIframe.destroy(a),delete this.bgIframe);this.domNode&&(a?e.remove(this.domNode,"widgetId"):n.destroy(this.domNode),delete this.domNode);this.srcNodeRef&&(a||n.destroy(this.srcNodeRef),delete this.srcNodeRef)},destroyDescendants:function(a){l.forEach(this.getChildren(),function(b){b.destroyRecursive&&b.destroyRecursive(a)})},uninitialize:function(){return!1},_setStyleAttr:function(a){var b=this.domNode;f.isObject(a)?
m.set(b,a):b.style.cssText=b.style.cssText?b.style.cssText+("; "+a):a;this._set("style",a)},_attrToDom:function(a,b,c){c=3<=arguments.length?c:this.attributeMap[a];l.forEach(f.isArray(c)?c:[c],function(c){var d=this[c.node||c||"domNode"];switch(c.type||"attribute"){case "attribute":f.isFunction(b)&&(b=f.hitch(this,b));c=c.attribute?c.attribute:/^on[A-Z][a-zA-Z]*$/.test(a)?a.toLowerCase():a;d.tagName?e.set(d,c,b):d.set(c,b);break;case "innerText":d.innerHTML="";d.appendChild(this.ownerDocument.createTextNode(b));
break;case "innerHTML":d.innerHTML=b;break;case "class":k.replace(d,b,this[a])}},this)},get:function(a){var b=this._getAttrNames(a);return this[b.g]?this[b.g]():this._get(a)},set:function(a,b){if("object"===typeof a){for(var c in a)this.set(c,a[c]);return this}c=this._getAttrNames(a);var d=this[c.s];if(f.isFunction(d))var e=d.apply(this,Array.prototype.slice.call(arguments,1));else{var d=this.focusNode&&!f.isFunction(this.focusNode)?"focusNode":"domNode",g=this[d]&&this[d].tagName,k;if(k=g)if(!(k=
t[g])){k=this[d];var m={},h;for(h in k)m[h.toLowerCase()]=!0;k=t[g]=m}h=k;c=a in this.attributeMap?this.attributeMap[a]:c.s in this?this[c.s]:h&&c.l in h&&"function"!=typeof b||/^aria-|^data-|^role$/.test(a)?d:null;null!=c&&this._attrToDom(a,b,c);this._set(a,b)}return e||this},_attrPairNames:{},_getAttrNames:function(a){var b=this._attrPairNames;if(b[a])return b[a];var c=a.replace(/^[a-z]|-[a-zA-Z]/g,function(a){return a.charAt(a.length-1).toUpperCase()});return b[a]={n:a+"Node",s:"_set"+c+"Attr",
g:"_get"+c+"Attr",l:c.toLowerCase()}},_set:function(a,b){var c=this[a];this[a]=b;this._created&&b!==c&&(this._watchCallbacks&&this._watchCallbacks(a,c,b),this.emit("attrmodified-"+a,{detail:{prevValue:c,newValue:b}}))},_get:function(a){return this[a]},emit:function(a,b,c){b=b||{};void 0===b.bubbles&&(b.bubbles=!0);void 0===b.cancelable&&(b.cancelable=!0);b.detail||(b.detail={});b.detail.widget=this;var f,d=this["on"+a];d&&(f=d.apply(this,c?c:[b]));this._started&&!this._beingDestroyed&&s.emit(this.domNode,
a.toLowerCase(),b);return f},on:function(a,b){var c=this._onMap(a);return c?d.after(this,c,b,!0):this.own(s(this.domNode,a,b))[0]},_onMap:function(a){var b=this.constructor,c=b._onMap;if(!c){var c=b._onMap={},f;for(f in b.prototype)/^on/.test(f)&&(c[f.replace(/^on/,"").toLowerCase()]=f)}return c["string"==typeof a&&a.toLowerCase()]},toString:function(){return"[Widget "+this.declaredClass+", "+(this.id||"NO ID")+"]"},getChildren:function(){return this.containerNode?x.findWidgets(this.containerNode):
[]},getParent:function(){return x.getEnclosingWidget(this.domNode.parentNode)},connect:function(a,c,f){return this.own(b.connect(a,c,this,f))[0]},disconnect:function(a){a.remove()},subscribe:function(a,b){return this.own(C.subscribe(a,f.hitch(this,b)))[0]},unsubscribe:function(a){a.remove()},isLeftToRight:function(){return this.dir?"ltr"==this.dir:q.isBodyLtr(this.ownerDocument)},isFocusable:function(){return this.focus&&"none"!=m.get(this.domNode,"display")},placeAt:function(a,b){var f=!a.tagName&&
x.byId(a);f&&f.addChild&&(!b||"number"===typeof b)?f.addChild(this,b):(f=f?f.containerNode&&!/after|before|replace/.test(b||"")?f.containerNode:f.domNode:c.byId(a,this.ownerDocument),n.place(this.domNode,f,b),!this._started&&(this.getParent()||{})._started&&this.startup());return this},defer:function(a,b){var c=setTimeout(f.hitch(this,function(){c&&(c=null,this._destroyed||f.hitch(this,a)())}),b||0);return{remove:function(){c&&(clearTimeout(c),c=null);return null}}}});u("dojo-bidi")&&g.extend(p);
return g})},"dojo/Stateful":function(){define(["./_base/declare","./_base/lang","./_base/array","./when"],function(h,l,d,g){return h("dojo.Stateful",null,{_attrPairNames:{},_getAttrNames:function(b){var a=this._attrPairNames;return a[b]?a[b]:a[b]={s:"_"+b+"Setter",g:"_"+b+"Getter"}},postscript:function(b){b&&this.set(b)},_get:function(b,a){return"function"===typeof this[a.g]?this[a.g]():this[b]},get:function(b){return this._get(b,this._getAttrNames(b))},set:function(b,a){if("object"===typeof b){for(var c in b)b.hasOwnProperty(c)&&
"_watchCallbacks"!=c&&this.set(c,b[c]);return this}c=this._getAttrNames(b);var d=this._get(b,c);c=this[c.s];var k;"function"===typeof c?k=c.apply(this,Array.prototype.slice.call(arguments,1)):this[b]=a;if(this._watchCallbacks){var h=this;g(k,function(){h._watchCallbacks(b,d,a)})}return this},_changeAttrValue:function(b,a){var c=this.get(b);this[b]=a;this._watchCallbacks&&this._watchCallbacks(b,c,a);return this},watch:function(b,a){var c=this._watchCallbacks;if(!c)var e=this,c=this._watchCallbacks=
function(a,b,d,g){var f=function(c){if(c){c=c.slice();for(var f=0,g=c.length;f<g;f++)c[f].call(e,a,b,d)}};f(c["_"+a]);g||f(c["*"])};!a&&"function"===typeof b?(a=b,b="*"):b="_"+b;var g=c[b];"object"!==typeof g&&(g=c[b]=[]);g.push(a);var h={};h.unwatch=h.remove=function(){var b=d.indexOf(g,a);-1<b&&g.splice(b,1)};return h}})})},"dijit/_WidgetsInTemplateMixin":function(){define(["dojo/_base/array","dojo/aspect","dojo/_base/declare","dojo/_base/lang","dojo/parser"],function(h,l,d,g,b){return d("dijit._WidgetsInTemplateMixin",
null,{_earlyTemplatedStartup:!1,widgetsInTemplate:!0,contextRequire:null,_beforeFillContent:function(){if(this.widgetsInTemplate){var a=this.domNode;this.containerNode&&!this.searchContainerNode&&(this.containerNode.stopParser=!0);b.parse(a,{noStart:!this._earlyTemplatedStartup,template:!0,inherited:{dir:this.dir,lang:this.lang,textDir:this.textDir},propsThis:this,contextRequire:this.contextRequire,scope:"dojo"}).then(g.hitch(this,function(a){this._startupWidgets=a;for(var b=0;b<a.length;b++)this._processTemplateNode(a[b],
function(a,b){return a[b]},function(a,b,c){return b in a?a.connect(a,b,c):a.on(b,c,!0)});this.containerNode&&this.containerNode.stopParser&&delete this.containerNode.stopParser}));if(!this._startupWidgets)throw Error(this.declaredClass+": parser returned unfilled promise (probably waiting for module auto-load), unsupported by _WidgetsInTemplateMixin.   Must pre-load all supporting widgets before instantiation.");}},_processTemplateNode:function(a,b,d){return b(a,"dojoType")||b(a,"data-dojo-type")?
!0:this.inherited(arguments)},startup:function(){h.forEach(this._startupWidgets,function(a){a&&(!a._started&&a.startup)&&a.startup()});this._startupWidgets=null;this.inherited(arguments)}})})},"dojo/parser":function(){define("require ./_base/kernel ./_base/lang ./_base/array ./_base/config ./dom ./_base/window ./_base/url ./aspect ./promise/all ./date/stamp ./Deferred ./has ./query ./on ./ready".split(" "),function(h,l,d,g,b,a,c,e,k,n,q,m,u,r,f,s){function z(a){return eval("("+a+")")}function y(a){var b=
a._nameCaseMap,c=a.prototype;if(!b||b._extendCnt<v){var b=a._nameCaseMap={},f;for(f in c)"_"!==f.charAt(0)&&(b[f.toLowerCase()]=f);b._extendCnt=v}return b}function C(a,b){var c=a.join();if(!w[c]){for(var f=[],e=0,g=a.length;e<g;e++){var k=a[e];f[f.length]=w[k]=w[k]||d.getObject(k)||~k.indexOf("/")&&(b?b(k):h(k))}e=f.shift();w[c]=f.length?e.createSubclass?e.createSubclass(f):e.extend.apply(e,f):e}return w[c]}new Date("X");var v=0;k.after(d,"extend",function(){v++},!0);var w={},p={_clearCache:function(){v++;
w={}},_functionFromScript:function(a,b){var c="",f="",d=a.getAttribute(b+"args")||a.getAttribute("args"),e=a.getAttribute("with"),d=(d||"").split(/\s*,\s*/);e&&e.length&&g.forEach(e.split(/\s*,\s*/),function(a){c+="with("+a+"){";f+="}"});return new Function(d,c+a.innerHTML+f)},instantiate:function(a,b,c){b=b||{};c=c||{};var f=(c.scope||l._scopeName)+"Type",d="data-"+(c.scope||l._scopeName)+"-",e=d+"type",k=d+"mixins",m=[];g.forEach(a,function(a){var c=f in b?b[f]:a.getAttribute(e)||a.getAttribute(f);
if(c){var d=a.getAttribute(k),c=d?[c].concat(d.split(/\s*,\s*/)):[c];m.push({node:a,types:c})}});return this._instantiate(m,b,c)},_instantiate:function(a,b,c,f){function d(a){!b._started&&!c.noStart&&g.forEach(a,function(a){"function"===typeof a.startup&&!a._started&&a.startup()});return a}a=g.map(a,function(a){var f=a.ctor||C(a.types,c.contextRequire);if(!f)throw Error("Unable to resolve constructor for: '"+a.types.join()+"'");return this.construct(f,a.node,b,c,a.scripts,a.inherited)},this);return f?
n(a).then(d):d(a)},construct:function(a,b,c,m,h,s){function n(a){w&&d.setObject(w,a);for(F=0;F<M.length;F++)k[M[F].advice||"after"](a,M[F].method,d.hitch(a,M[F].func),!0);for(F=0;F<R.length;F++)R[F].call(a);for(F=0;F<O.length;F++)a.watch(O[F].prop,O[F].func);for(F=0;F<P.length;F++)f(a,P[F].event,P[F].func);return a}var p=a&&a.prototype;m=m||{};var I={};m.defaults&&d.mixin(I,m.defaults);s&&d.mixin(I,s);var v;u("dom-attributes-explicit")?v=b.attributes:u("dom-attributes-specified-flag")?v=g.filter(b.attributes,
function(a){return a.specified}):(s=(/^input$|^img$/i.test(b.nodeName)?b:b.cloneNode(!1)).outerHTML.replace(/=[^\s"']+|="[^"]*"|='[^']*'/g,"").replace(/^\s*<[a-zA-Z0-9]*\s*/,"").replace(/\s*>.*$/,""),v=g.map(s.split(/\s+/),function(a){var c=a.toLowerCase();return{name:a,value:"LI"==b.nodeName&&"value"==a||"enctype"==c?b.getAttribute(c):b.getAttributeNode(c).value}}));var N=m.scope||l._scopeName;s="data-"+N+"-";var E={};"dojo"!==N&&(E[s+"props"]="data-dojo-props",E[s+"type"]="data-dojo-type",E[s+"mixins"]=
"data-dojo-mixins",E[N+"type"]="dojoType",E[s+"id"]="data-dojo-id");for(var F=0,G,N=[],w,C;G=v[F++];){var K=G.name,L=K.toLowerCase();G=G.value;switch(E[L]||L){case "data-dojo-type":case "dojotype":case "data-dojo-mixins":break;case "data-dojo-props":C=G;break;case "data-dojo-id":case "jsid":w=G;break;case "data-dojo-attach-point":case "dojoattachpoint":I.dojoAttachPoint=G;break;case "data-dojo-attach-event":case "dojoattachevent":I.dojoAttachEvent=G;break;case "class":I["class"]=b.className;break;
case "style":I.style=b.style&&b.style.cssText;break;default:if(K in p||(K=y(a)[L]||K),K in p)switch(typeof p[K]){case "string":I[K]=G;break;case "number":I[K]=G.length?Number(G):NaN;break;case "boolean":I[K]="false"!=G.toLowerCase();break;case "function":""===G||-1!=G.search(/[^\w\.]+/i)?I[K]=new Function(G):I[K]=d.getObject(G,!1)||new Function(G);N.push(K);break;default:L=p[K],I[K]=L&&"length"in L?G?G.split(/\s*,\s*/):[]:L instanceof Date?""==G?new Date(""):"now"==G?new Date:q.fromISOString(G):L instanceof
e?l.baseUrl+G:z(G)}else I[K]=G}}for(v=0;v<N.length;v++)E=N[v].toLowerCase(),b.removeAttribute(E),b[E]=null;if(C)try{C=z.call(m.propsThis,"{"+C+"}"),d.mixin(I,C)}catch(T){throw Error(T.toString()+" in data-dojo-props\x3d'"+C+"'");}d.mixin(I,c);h||(h=a&&(a._noScript||p._noScript)?[]:r("\x3e script[type^\x3d'dojo/']",b));var M=[],R=[],O=[],P=[];if(h)for(F=0;F<h.length;F++)E=h[F],b.removeChild(E),c=E.getAttribute(s+"event")||E.getAttribute("event"),m=E.getAttribute(s+"prop"),C=E.getAttribute(s+"method"),
N=E.getAttribute(s+"advice"),v=E.getAttribute("type"),E=this._functionFromScript(E,s),c?"dojo/connect"==v?M.push({method:c,func:E}):"dojo/on"==v?P.push({event:c,func:E}):I[c]=E:"dojo/aspect"==v?M.push({method:C,advice:N,func:E}):"dojo/watch"==v?O.push({prop:m,func:E}):R.push(E);a=(h=a.markupFactory||p.markupFactory)?h(I,b,a):new a(I,b);return a.then?a.then(n):n(a)},scan:function(a,b){function c(a){if(!a.inherited){a.inherited={};var b=a.node,f=c(a.parent),b={dir:b.getAttribute("dir")||f.dir,lang:b.getAttribute("lang")||
f.lang,textDir:b.getAttribute(q)||f.textDir},d;for(d in b)b[d]&&(a.inherited[d]=b[d])}return a.inherited}var f=[],d=[],e={},k=(b.scope||l._scopeName)+"Type",s="data-"+(b.scope||l._scopeName)+"-",n=s+"type",q=s+"textdir",s=s+"mixins",r=a.firstChild,z=b.inherited;if(!z){var p=function(a,b){return a.getAttribute&&a.getAttribute(b)||a.parentNode&&p(a.parentNode,b)},z={dir:p(a,"dir"),lang:p(a,"lang"),textDir:p(a,q)},y;for(y in z)z[y]||delete z[y]}for(var z={inherited:z},v,w;;)if(r)if(1!=r.nodeType)r=r.nextSibling;
else if(v&&"script"==r.nodeName.toLowerCase())(K=r.getAttribute("type"))&&/^dojo\/\w/i.test(K)&&v.push(r),r=r.nextSibling;else if(w)r=r.nextSibling;else{var K=r.getAttribute(n)||r.getAttribute(k);y=r.firstChild;if(!K&&(!y||3==y.nodeType&&!y.nextSibling))r=r.nextSibling;else{w=null;if(K){var L=r.getAttribute(s);v=L?[K].concat(L.split(/\s*,\s*/)):[K];try{w=C(v,b.contextRequire)}catch(T){}w||g.forEach(v,function(a){~a.indexOf("/")&&!e[a]&&(e[a]=!0,d[d.length]=a)});L=w&&!w.prototype._noScript?[]:null;
z={types:v,ctor:w,parent:z,node:r,scripts:L};z.inherited=c(z);f.push(z)}else z={node:r,scripts:v,parent:z};v=L;w=r.stopParser||w&&w.prototype.stopParser&&!b.template;r=y}}else{if(!z||!z.node)break;r=z.node.nextSibling;w=!1;z=z.parent;v=z.scripts}var M=new m;d.length?(u("dojo-debug-messages"),(b.contextRequire||h)(d,function(){M.resolve(g.filter(f,function(a){if(!a.ctor)try{a.ctor=C(a.types,b.contextRequire)}catch(c){}for(var f=a.parent;f&&!f.types;)f=f.parent;var d=a.ctor&&a.ctor.prototype;a.instantiateChildren=
!(d&&d.stopParser&&!b.template);a.instantiate=!f||f.instantiate&&f.instantiateChildren;return a.instantiate}))})):M.resolve(f);return M.promise},_require:function(a,b){var c=z("{"+a.innerHTML+"}"),f=[],e=[],g=new m,k=b&&b.contextRequire||h,s;for(s in c)f.push(s),e.push(c[s]);k(e,function(){for(var a=0;a<f.length;a++)d.setObject(f[a],arguments[a]);g.resolve(arguments)});return g.promise},_scanAmd:function(a,b){var c=new m,f=c.promise;c.resolve(!0);var d=this;r("script[type\x3d'dojo/require']",a).forEach(function(a){f=
f.then(function(){return d._require(a,b)});a.parentNode.removeChild(a)});return f},parse:function(b,f){var e;!f&&b&&b.rootNode?(f=b,e=f.rootNode):b&&d.isObject(b)&&!("nodeType"in b)?f=b:e=b;e=e?a.byId(e):c.body();f=f||{};var g=f.template?{template:!0}:{},k=[],m=this,h=this._scanAmd(e,f).then(function(){return m.scan(e,f)}).then(function(a){return m._instantiate(a,g,f,!0)}).then(function(a){return k=k.concat(a)}).otherwise(function(a){throw a;});d.mixin(k,h);return k}};l.parser=p;b.parseOnLoad&&s(100,
p,"parse");return p})},"dojo/_base/url":function(){define(["./kernel"],function(h){var l=/^(([^:/?#]+):)?(\/\/([^/?#]*))?([^?#]*)(\?([^#]*))?(#(.*))?$/,d=/^((([^\[:]+):)?([^@]+)@)?(\[([^\]]+)\]|([^\[:]*))(:([0-9]+))?$/,g=function(){for(var b=arguments,a=[b[0]],c=1;c<b.length;c++)if(b[c]){var e=new g(b[c]+""),a=new g(a[0]+"");if(""==e.path&&!e.scheme&&!e.authority&&!e.query)null!=e.fragment&&(a.fragment=e.fragment),e=a;else if(!e.scheme&&(e.scheme=a.scheme,!e.authority&&(e.authority=a.authority,"/"!=
e.path.charAt(0)))){for(var a=(a.path.substring(0,a.path.lastIndexOf("/")+1)+e.path).split("/"),k=0;k<a.length;k++)"."==a[k]?k==a.length-1?a[k]="":(a.splice(k,1),k--):0<k&&(!(1==k&&""==a[0])&&".."==a[k]&&".."!=a[k-1])&&(k==a.length-1?(a.splice(k,1),a[k-1]=""):(a.splice(k-1,2),k-=2));e.path=a.join("/")}a=[];e.scheme&&a.push(e.scheme,":");e.authority&&a.push("//",e.authority);a.push(e.path);e.query&&a.push("?",e.query);e.fragment&&a.push("#",e.fragment)}this.uri=a.join("");b=this.uri.match(l);this.scheme=
b[2]||(b[1]?"":null);this.authority=b[4]||(b[3]?"":null);this.path=b[5];this.query=b[7]||(b[6]?"":null);this.fragment=b[9]||(b[8]?"":null);null!=this.authority&&(b=this.authority.match(d),this.user=b[3]||null,this.password=b[4]||null,this.host=b[6]||b[7],this.port=b[9]||null)};g.prototype.toString=function(){return this.uri};return h._Url=g})},"dojox/app/ViewBase":function(){define("require dojo/when dojo/on dojo/dom-attr dojo/_base/declare dojo/_base/lang dojo/Deferred ./utils/model ./utils/constraints".split(" "),
function(h,l,d,g,b,a,c,e,k){return b("dojox.app.ViewBase",null,{constructor:function(b){this.name=this.id="";this.children={};this.selectedChildren={};this.loadedStores={};this._started=!1;a.mixin(this,b);this.parent.views&&a.mixin(this,this.parent.views[this.name])},start:function(){if(this._started)return this;this._startDef=new c;l(this.load(),a.hitch(this,function(){this._createDataStore(this);this._setupModel()}));return this._startDef},load:function(){var b=this._loadViewController();l(b,a.hitch(this,
function(b){b&&a.mixin(this,b)}));return b},_createDataStore:function(){this.parent.loadedStores&&a.mixin(this.loadedStores,this.parent.loadedStores);if(this.stores)for(var b in this.stores)if("_"!==b.charAt(0)){var c=this.stores[b].type?this.stores[b].type:"dojo/store/Memory",d={};this.stores[b].params&&a.mixin(d,this.stores[b].params);try{var e=h(c)}catch(g){throw Error(c+" must be listed in the dependencies");}d.data&&a.isString(d.data)&&(d.data=a.getObject(d.data));if(this.stores[b].observable){try{var f=
h("dojo/store/Observable")}catch(k){throw Error("dojo/store/Observable must be listed in the dependencies");}this.stores[b].store=f(new e(d))}else this.stores[b].store=new e(d);this.loadedStores[b]=this.stores[b].store}},_setupModel:function(){if(this.loadedModels)this._startup();else{var b;try{b=e(this.models,this.parent,this.app)}catch(c){throw Error("Error creating models: "+c.message);}l(b,a.hitch(this,function(b){b&&(this.loadedModels=a.isArray(b)?b[0]:b);this._startup()}),function(a){throw Error("Error creating models: "+
a.message);})}},_startup:function(){this._startLayout()},_startLayout:function(){this.app.log("  \x3e in app/ViewBase _startLayout firing layout for name\x3d[",this.name,"], parent.name\x3d[",this.parent.name,"]");this.hasOwnProperty("constraint")||(this.constraint=g.get(this.domNode,"data-app-constraint")||"center");k.register(this.constraint);this.app.emit("app-initLayout",{view:this,callback:a.hitch(this,function(){this.startup();this.app.log("  \x3e in app/ViewBase calling init() name\x3d[",this.name,
"], parent.name\x3d[",this.parent.name,"]");this.init();this._started=!0;this._startDef&&this._startDef.resolve(this)})})},_loadViewController:function(){var a=new c,b;if(this.controller)b=this.controller.replace(/(\.js)$/,"");else return this.app.log("  \x3e in app/ViewBase _loadViewController no controller set for view name\x3d[",this.name,"], parent.name\x3d[",this.parent.name,"]"),a.resolve(!0),a;var d;try{var e=b,g=e.indexOf("./");0<=g&&(e=b.substring(g+2));d=h.on("error",function(b){!a.isResolved()&&
!a.isRejected()&&(b.info[0]&&0<=b.info[0].indexOf(e))&&(a.resolve(!1),d.remove())});0==b.indexOf("./")&&(b="app/"+b);h([b],function(b){a.resolve(b);d.remove()})}catch(f){a.reject(f),d&&d.remove()}return a},init:function(){},beforeActivate:function(){},afterActivate:function(){},beforeDeactivate:function(){},afterDeactivate:function(){},destroy:function(){}})})},"dojox/mobile/RoundRectList":function(){define("dojo/_base/array dojo/_base/declare dojo/_base/event dojo/_base/lang dojo/_base/window dojo/dom-construct dojo/dom-attr dijit/_Contained dijit/_Container dijit/_WidgetBase".split(" "),
function(h,l,d,g,b,a,c,e,k,n){return l("dojox.mobile.RoundRectList",[n,k,e],{transition:"slide",iconBase:"",iconPos:"",select:"",stateful:!1,syncWithViews:!1,editable:!1,tag:"ul",editableMixinClass:"dojox/mobile/_EditableListMixin",baseClass:"mblRoundRectList",filterBoxClass:"mblFilteredRoundRectListSearchBox",buildRendering:function(){this.domNode=this.srcNodeRef||a.create(this.tag);this.select&&(c.set(this.domNode,"role","listbox"),"multiple"===this.select&&c.set(this.domNode,"aria-multiselectable",
"true"));this.inherited(arguments)},postCreate:function(){this.editable&&require([this.editableMixinClass],g.hitch(this,function(a){l.safeMixin(this,new a)}));this.connect(this.domNode,"onselectstart",d.stop);if(this.syncWithViews){var a=function(a,b,c,f,d,e){(b=h.filter(this.getChildren(),function(b){return b.moveTo==="#"+a.id||b.moveTo===a.id})[0])&&b.set("selected",!0)};this.subscribe("/dojox/mobile/afterTransitionIn",a);this.subscribe("/dojox/mobile/startView",a)}},resize:function(){h.forEach(this.getChildren(),
function(a){a.resize&&a.resize()})},onCheckStateChanged:function(){},_setStatefulAttr:function(a){this._set("stateful",a);this.selectOne=a;h.forEach(this.getChildren(),function(a){a.setArrow&&a.setArrow()})},deselectItem:function(a){a.set("selected",!1)},deselectAll:function(){h.forEach(this.getChildren(),function(a){a.set("selected",!1)})},selectItem:function(a){a.set("selected",!0)}})})},"dijit/_Contained":function(){define(["dojo/_base/declare","./registry"],function(h,l){return h("dijit._Contained",
null,{_getSibling:function(d){var g=this.domNode;do g=g[d+"Sibling"];while(g&&1!=g.nodeType);return g&&l.byNode(g)},getPreviousSibling:function(){return this._getSibling("previous")},getNextSibling:function(){return this._getSibling("next")},getIndexInParent:function(){var d=this.getParent();return!d||!d.getIndexOfChild?-1:d.getIndexOfChild(this)}})})},"dijit/_Container":function(){define(["dojo/_base/array","dojo/_base/declare","dojo/dom-construct","dojo/_base/kernel"],function(h,l,d,g){return l("dijit._Container",
null,{buildRendering:function(){this.inherited(arguments);this.containerNode||(this.containerNode=this.domNode)},addChild:function(b,a){var c=this.containerNode;if(0<a){for(c=c.firstChild;0<a;)1==c.nodeType&&a--,c=c.nextSibling;c?a="before":(c=this.containerNode,a="last")}d.place(b.domNode,c,a);this._started&&!b._started&&b.startup()},removeChild:function(b){"number"==typeof b&&(b=this.getChildren()[b]);b&&(b=b.domNode)&&b.parentNode&&b.parentNode.removeChild(b)},hasChildren:function(){return 0<this.getChildren().length},
_getSiblingOfChild:function(b,a){g.deprecated(this.declaredClass+"::_getSiblingOfChild() is deprecated. Use _KeyNavMixin::_getNext() instead.","","2.0");var c=this.getChildren(),d=h.indexOf(c,b);return c[d+a]},getIndexOfChild:function(b){return h.indexOf(this.getChildren(),b)}})})},"dojox/mobile/ListItem":function(){define("dojo/_base/array dojo/_base/declare dojo/_base/lang dojo/dom-class dojo/dom-construct dojo/dom-style dojo/dom-attr dijit/registry dijit/_WidgetBase ./iconUtils ./_ItemBase ./ProgressIndicator dojo/has dojo/has!dojo-bidi?dojox/mobile/bidi/ListItem".split(" "),
function(h,l,d,g,b,a,c,e,k,n,q,m,u,r){q=l(u("dojo-bidi")?"dojox.mobile.NonBidiListItem":"dojox.mobile.ListItem",q,{rightText:"",rightIcon:"",rightIcon2:"",deleteIcon:"",anchorLabel:!1,noArrow:!1,checked:!1,arrowClass:"",checkClass:"",uncheckClass:"",variableHeight:!1,rightIconTitle:"",rightIcon2Title:"",header:!1,tag:"li",busy:!1,progStyle:"",paramsToInherit:"variableHeight,transition,deleteIcon,icon,rightIcon,rightIcon2,uncheckIcon,arrowClass,checkClass,uncheckClass,deleteIconTitle,deleteIconRole",
baseClass:"mblListItem",_selStartMethod:"touch",_selEndMethod:"timer",_delayedSelection:!0,_selClass:"mblListItemSelected",buildRendering:function(){this._templated=!!this.templateString;this._templated||(this.domNode=this.containerNode=this.srcNodeRef||b.create(this.tag));this.inherited(arguments);this.selected&&g.add(this.domNode,this._selClass);this.header&&g.replace(this.domNode,"mblEdgeToEdgeCategory",this.baseClass);if(!this._templated){this.labelNode=b.create("div",{className:"mblListItemLabel"});
var a=this.srcNodeRef;a&&(1===a.childNodes.length&&3===a.firstChild.nodeType)&&this.labelNode.appendChild(a.firstChild);this.domNode.appendChild(this.labelNode)}this._layoutChildren=[]},startup:function(){if(!this._started){var a=this.getParent(),b=this.getTransOpts();if((!this._templated||this.labelNode)&&this.anchorLabel)this.labelNode.style.display="inline",this.labelNode.style.cursor="pointer",this.connect(this.labelNode,"onclick","_onClick"),this.onTouchStart=function(a){return a.target!==this.labelNode};
b.moveTo||b.href||b.url||this.clickable||a&&a.select?this.connect(this.domNode,"onkeydown","_onClick"):this._handleClick=!1;this.inherited(arguments);g.contains(this.domNode,"mblVariableHeight")&&(this.variableHeight=!0);this.variableHeight&&(g.add(this.domNode,"mblVariableHeight"),this.defer("layoutVariableHeight"));this._isOnLine||(this._isOnLine=!0,this.set({icon:void 0!==this._pending_icon?this._pending_icon:this.icon,deleteIcon:void 0!==this._pending_deleteIcon?this._pending_deleteIcon:this.deleteIcon,
rightIcon:void 0!==this._pending_rightIcon?this._pending_rightIcon:this.rightIcon,rightIcon2:void 0!==this._pending_rightIcon2?this._pending_rightIcon2:this.rightIcon2,uncheckIcon:void 0!==this._pending_uncheckIcon?this._pending_uncheckIcon:this.uncheckIcon}),delete this._pending_icon,delete this._pending_deleteIcon,delete this._pending_rightIcon,delete this._pending_rightIcon2,delete this._pending_uncheckIcon);a&&a.select&&(this.set("checked",void 0!==this._pendingChecked?this._pendingChecked:this.checked),
c.set(this.domNode,"role","option"),(this._pendingChecked||this.checked)&&c.set(this.domNode,"aria-selected","true"),delete this._pendingChecked);this.setArrow();this.layoutChildren()}},_updateHandles:function(){var a=this.getParent(),b=this.getTransOpts();b.moveTo||b.href||b.url||this.clickable||a&&a.select?(this._keydownHandle||(this._keydownHandle=this.connect(this.domNode,"onkeydown","_onClick")),this._handleClick=!0):(this._keydownHandle&&(this.disconnect(this._keydownHandle),this._keydownHandle=
null),this._handleClick=!1);this.inherited(arguments)},layoutChildren:function(){var a;h.forEach(this.domNode.childNodes,function(b){if(1===b.nodeType){var c=b.getAttribute("layout")||b.getAttribute("data-mobile-layout")||(e.byNode(b)||{}).layout;c&&(g.add(b,"mblListItemLayout"+c.charAt(0).toUpperCase()+c.substring(1)),this._layoutChildren.push(b),"center"===c&&(a=b))}},this);a&&this.domNode.insertBefore(a,this.domNode.firstChild)},resize:function(){this.variableHeight&&this.layoutVariableHeight();
if(!this._templated||this.labelNode)this.labelNode.style.display=this.labelNode.firstChild?"block":"inline"},_onTouchStart:function(a){!a.target.getAttribute("preventTouch")&&(!a.target.getAttribute("data-mobile-prevent-touch")&&!(e.getEnclosingWidget(a.target)||{}).preventTouch)&&this.inherited(arguments)},_onClick:function(a){if(!(this.getParent().isEditing||a&&"keydown"===a.type&&13!==a.keyCode)&&!1!==this.onClick(a)){var b=this.labelNode;if((this._templated||b)&&this.anchorLabel&&a.currentTarget===
b)g.add(b,"mblListItemLabelSelected"),this.defer(function(){g.remove(b,"mblListItemLabelSelected")},this._duration),this.onAnchorLabelClicked(a);else{var c=this.getParent();c.select&&("single"===c.select?this.checked||this.set("checked",!0):"multiple"===c.select&&this.set("checked",!this.checked));this.defaultClickAction(a)}}},onClick:function(){},onAnchorLabelClicked:function(a){},layoutVariableHeight:function(){var b=this.domNode.offsetHeight;b!==this.domNodeHeight&&(this.domNodeHeight=b,h.forEach(this._layoutChildren.concat([this.rightTextNode,
this.rightIcon2Node,this.rightIconNode,this.uncheckIconNode,this.iconNode,this.deleteIconNode,this.knobIconNode]),function(b){if(b){var c=this.domNode,f=function(){var f=Math.round((c.offsetHeight-b.offsetHeight)/2)-a.get(c,"paddingTop");b.style.marginTop=f+"px"};0===b.offsetHeight&&"IMG"===b.tagName?b.onload=f:f()}},this))},setArrow:function(){if(!this.checked){var a="",b=this.getParent(),d=this.getTransOpts();if(d.moveTo||d.href||d.url||this.clickable)if(!this.noArrow&&(!b||!b.selectOne))a=this.arrowClass||
"mblDomButtonArrow",c.set(this.domNode,"role","button");a&&this._setRightIconAttr(a)}},_findRef:function(a){var b,c="deleteIcon icon rightIcon uncheckIcon rightIcon2 rightText".split(" ");for(a=h.indexOf(c,a)+1;a<c.length;a++)if(b=this[c[a]+"Node"])return b;for(a=c.length-1;0<=a;a--)if(b=this[c[a]+"Node"])return b.nextSibling;return this.domNode.firstChild},_setIcon:function(a,b){if(this._isOnLine){this._set(b,a);this[b+"Node"]=n.setIcon(a,this[b+"Pos"],this[b+"Node"],this[b+"Title"]||this.alt,this.domNode,
this._findRef(b),"before");if(this[b+"Node"]){var c=b.charAt(0).toUpperCase()+b.substring(1);g.add(this[b+"Node"],"mblListItem"+c)}(c=this[b+"Role"])&&this[b+"Node"].setAttribute("role",c)}else this["_pending_"+b]=a},_setDeleteIconAttr:function(a){this._setIcon(a,"deleteIcon")},_setIconAttr:function(a){this._setIcon(a,"icon")},_setRightTextAttr:function(a){!this._templated&&!this.rightTextNode&&(this.rightTextNode=b.create("div",{className:"mblListItemRightText"},this.labelNode,"before"));this.rightText=
a;this.rightTextNode.innerHTML=this._cv?this._cv(a):a},_setRightIconAttr:function(a){this._setIcon(a,"rightIcon")},_setUncheckIconAttr:function(a){this._setIcon(a,"uncheckIcon")},_setRightIcon2Attr:function(a){this._setIcon(a,"rightIcon2")},_setCheckedAttr:function(a){if(this._isOnLine){var b=this.getParent();b&&("single"===b.select&&a)&&h.forEach(b.getChildren(),function(a){a!==this&&a.checked&&a.set("checked",!1)&&c.set(a.domNode,"aria-selected","false")},this);this._setRightIconAttr(this.checkClass||
"mblDomButtonCheck");this._setUncheckIconAttr(this.uncheckClass);g.toggle(this.domNode,"mblListItemChecked",a);g.toggle(this.domNode,"mblListItemUnchecked",!a);g.toggle(this.domNode,"mblListItemHasUncheck",!!this.uncheckIconNode);this.rightIconNode.style.position=this.uncheckIconNode&&!a?"absolute":"";if(b&&this.checked!==a)b.onCheckStateChanged(this,a);this._set("checked",a);c.set(this.domNode,"aria-selected",a?"true":"false")}else this._pendingChecked=a},_setBusyAttr:function(a){var c=this._prog;
a?(this._progNode||(this._progNode=b.create("div",{className:"mblListItemIcon"}),c=this._prog=new m({size:25,center:!1,removeOnStop:!1}),g.add(c.domNode,this.progStyle),this._progNode.appendChild(c.domNode)),this.iconNode?this.domNode.replaceChild(this._progNode,this.iconNode):b.place(this._progNode,this._findRef("icon"),"before"),c.start()):this._progNode&&(this.iconNode?this.domNode.replaceChild(this.iconNode,this._progNode):this.domNode.removeChild(this._progNode),c.stop());this._set("busy",a)},
_setSelectedAttr:function(a){this.inherited(arguments);g.toggle(this.domNode,this._selClass,a)},_setClickableAttr:function(a){this._set("clickable",a);this._updateHandles()},_setMoveToAttr:function(a){this._set("moveTo",a);this._updateHandles()},_setHrefAttr:function(a){this._set("href",a);this._updateHandles()},_setUrlAttr:function(a){this._set("url",a);this._updateHandles()}});q.ChildWidgetProperties={layout:"",preventTouch:!1};d.extend(k,q.ChildWidgetProperties);return u("dojo-bidi")?l("dojox.mobile.ListItem",
[q,r]):q})},"dojox/mobile/iconUtils":function(){define("dojo/_base/array dojo/_base/config dojo/_base/connect dojo/_base/event dojo/_base/lang dojo/_base/window dojo/dom-class dojo/dom-construct dojo/dom-style ./sniff".split(" "),function(h,l,d,g,b,a,c,e,k,n){var q=b.getObject("dojox.mobile",!0);return new function(){this.setupSpriteIcon=function(a,b){if(a&&b){var d=h.map(b.split(/[ ,]/),function(a){return a-0}),f=d[0],e=d[1];k.set(a,{position:"absolute",clip:"rect("+f+"px "+(d[1]+d[2])+"px "+(d[0]+
d[3])+"px "+e+"px)",top:(a.parentNode?k.get(a,"top"):0)-f+"px",left:-e+"px"});c.add(a,"mblSpriteIcon")}};this.createDomButton=function(b,d,g){if(!this._domButtons)if(n("webkit")){var f=function(b,c){var d,e;if(!b){var g={};e=a.doc.styleSheets;for(d=0;d<e.length;d++)e[d]&&f(e[d],g);return g}g=b.cssRules||[];for(d=0;d<g.length;d++)if(e=g[d],e.href&&e.styleSheet)f(e.styleSheet,c);else if(e.selectorText){var k=e.selectorText.split(/,/);for(e=0;e<k.length;e++){var h=k[e],m=h.split(/>/).length-1;if(h.match(/(mblDomButton\w+)/)&&
(h=RegExp.$1,!c[h]||m>c[h]))c[h]=m}}return c};this._domButtons=f()}else this._domButtons={};var h=b.className,q=g||b;if(h.match(/(mblDomButton\w+)/)&&-1===h.indexOf("/")){var y=RegExp.$1,C=4;h.match(/(mblDomButton\w+_(\d+))/)?C=RegExp.$2-0:void 0!==this._domButtons[y]&&(C=this._domButtons[y]);h=null;n("bb")&&!1!==l.mblBBBoxShadowWorkaround&&(h={style:"-webkit-box-shadow:none"});for(var v=0,w=q;v<C;v++)w=w.firstChild||e.create("div",h,w);g&&(setTimeout(function(){c.remove(b,y)},0),c.add(g,y))}else if(-1!==
h.indexOf("."))e.create("img",{src:h},q);else return null;c.add(q,"mblDomButton");d&&k.set(q,d);return q};this.createIcon=function(a,b,h,f,l,n,y){f=f||"";if(a&&0===a.indexOf("mblDomButton"))h?h.className.match(/(mblDomButton\w+)/)&&c.remove(h,RegExp.$1):h=e.create("div",null,n||l,y),h.title=f,c.add(h,a),this.createDomButton(h);else if(a&&"none"!==a){if(!h||"IMG"!==h.nodeName)h=e.create("img",{alt:f},n||l,y);h.src=(a||"").replace("${theme}",q.currentTheme);this.setupSpriteIcon(h,b);b&&l&&(a=b.split(/[ ,]/),
k.set(l,{position:"relative",width:a[2]+"px",height:a[3]+"px"}),c.add(l,"mblSpriteIconParent"));d.connect(h,"ondragstart",g,"stop")}return h};this.iconWrapper=!1;this.setIcon=function(a,b,d,f,g,k,h){if(!g||!a&&!d)return null;if(a&&"none"!==a)return!this.iconWrapper&&0!==a.indexOf("mblDomButton")&&!b?(d&&"DIV"===d.tagName&&(e.destroy(d),d=null),d=this.createIcon(a,null,d,f,g,k,h),c.add(d,"mblImageIcon")):(d&&"IMG"===d.tagName&&(e.destroy(d),d=null),d&&e.empty(d),d||(d=e.create("div",null,k||g,h)),
this.createIcon(a,b,null,null,d),f&&(d.title=f)),c.remove(g,"mblNoIcon"),d;e.destroy(d);c.add(g,"mblNoIcon");return null}}})},"dojox/mobile/sniff":function(){define(["dojo/_base/kernel","dojo/sniff"],function(h,l){h.deprecated("dojox/mobile/sniff","Use dojo/sniff instead","2.0");l.add("iphone",l("ios"));return l})},"dojox/mobile/_ItemBase":function(){define("dojo/_base/array dojo/_base/declare dojo/_base/lang dojo/_base/window dojo/dom-class dojo/touch dijit/registry dijit/_Contained dijit/_Container dijit/_WidgetBase ./TransitionEvent ./iconUtils ./sniff dojo/has!dojo-bidi?dojox/mobile/bidi/_ItemBase".split(" "),
function(h,l,d,g,b,a,c,e,k,n,q,m,u,r){d=l(u("dojo-bidi")?"dojox.mobile._NonBidiItemBase":"dojox.mobile._ItemBase",[n,k,e],{icon:"",iconPos:"",alt:"",href:"",hrefTarget:"",moveTo:"",scene:"",clickable:!1,url:"",urlTarget:"",back:!1,transition:"",transitionDir:1,transitionOptions:null,callback:null,label:"",toggle:!1,selected:!1,tabIndex:"0",_setTabIndexAttr:"",paramsToInherit:"transition,icon",_selStartMethod:"none",_selEndMethod:"none",_delayedSelection:!1,_duration:800,_handleClick:!0,buildRendering:function(){this.inherited(arguments);
this._isOnLine=this.inheritParams()},startup:function(){this._started||(this._isOnLine||this.inheritParams(),this._updateHandles(),this.inherited(arguments))},inheritParams:function(){var a=this.getParent();a&&h.forEach(this.paramsToInherit.split(/,/),function(b){if(b.match(/icon/i)){var c=b+"Base",d=b+"Pos";this[b]&&(a[c]&&"/"===a[c].charAt(a[c].length-1))&&(this[b]=a[c]+this[b]);this[b]||(this[b]=a[c]);this[d]||(this[d]=a[d])}this[b]||(this[b]=a[b])},this);return!!a},_updateHandles:function(){this._handleClick&&
"touch"===this._selStartMethod?this._onTouchStartHandle||(this._onTouchStartHandle=this.connect(this.domNode,a.press,"_onTouchStart")):this._onTouchStartHandle&&(this.disconnect(this._onTouchStartHandle),this._onTouchStartHandle=null)},getTransOpts:function(){var a=this.transitionOptions||{};h.forEach("moveTo href hrefTarget url target urlTarget scene transition transitionDir".split(" "),function(b){a[b]=a[b]||this[b]},this);return a},userClickAction:function(){},defaultClickAction:function(a){this.handleSelection(a);
!1!==this.userClickAction(a)&&this.makeTransition(a)},handleSelection:function(a){this._delayedSelection&&this.set("selected",!0);this._onTouchEndHandle&&(this.disconnect(this._onTouchEndHandle),this._onTouchEndHandle=null);a=this.getParent();this.toggle?this.set("selected",!this._currentSel):a&&a.selectOne?this.set("selected",!0):"touch"===this._selEndMethod?this.set("selected",!1):"timer"===this._selEndMethod&&this.defer(function(){this.set("selected",!1)},this._duration)},makeTransition:function(a){if(this.back&&
history)history.back();else if(this.href&&this.hrefTarget&&"_self"!=this.hrefTarget)g.global.open(this.href,this.hrefTarget||"_blank"),this._onNewWindowOpened(a);else{var b=this.getTransOpts(),c=!(!b.moveTo&&!b.href&&!b.url&&!b.target&&!b.scene);if(!1!==this._prepareForTransition(a,c?b:null)&&c)this.setTransitionPos(a),(new q(this.domNode,b,a)).dispatch()}},_onNewWindowOpened:function(){},_prepareForTransition:function(a,b){},_onTouchStart:function(b){this.getParent().isEditing||!1===this.onTouchStart(b)||
(!this._onTouchEndHandle&&"touch"===this._selStartMethod&&(this._onTouchMoveHandle=this.connect(g.body(),a.move,"_onTouchMove"),this._onTouchEndHandle=this.connect(g.body(),a.release,"_onTouchEnd")),this.touchStartX=b.touches?b.touches[0].pageX:b.clientX,this.touchStartY=b.touches?b.touches[0].pageY:b.clientY,this._currentSel=this.selected,this._delayedSelection?this._selTimer=this.defer(function(){this.set("selected",!0)},100):this.set("selected",!0))},onTouchStart:function(){},_onTouchMove:function(a){var b=
a.touches?a.touches[0].pageY:a.clientY;if(4<=Math.abs((a.touches?a.touches[0].pageX:a.clientX)-this.touchStartX)||4<=Math.abs(b-this.touchStartY))this.cancel(),(a=this.getParent())&&a.selectOne?this._prevSel&&this._prevSel.set("selected",!0):this.set("selected",!1)},_disconnect:function(){this.disconnect(this._onTouchMoveHandle);this.disconnect(this._onTouchEndHandle);this._onTouchMoveHandle=this._onTouchEndHandle=null},cancel:function(){this._selTimer&&(this._selTimer.remove(),this._selTimer=null);
this._disconnect()},_onTouchEnd:function(a){if(this._selTimer||!this._delayedSelection)this.cancel(),this._onClick(a)},setTransitionPos:function(a){for(var c=this;!(c=c.getParent(),!c||b.contains(c.domNode,"mblView")););c&&(c.clickedPosX=a.clientX,c.clickedPosY=a.clientY)},transitionTo:function(a,b,c,d){(new q(this.domNode,a&&"object"===typeof a?a:{moveTo:a,href:b,url:c,scene:d,transition:this.transition,transitionDir:this.transitionDir})).dispatch()},_setIconAttr:function(a){this._isOnLine?(this._set("icon",
a),this.iconNode=m.setIcon(a,this.iconPos,this.iconNode,this.alt,this.iconParentNode,this.refNode,this.position)):this._pendingIcon=a},_setLabelAttr:function(a){this._set("label",a);this.labelNode.innerHTML=this._cv?this._cv(a):a},_setSelectedAttr:function(a){if(a){var b=this.getParent();b&&b.selectOne&&(b=h.filter(b.getChildren(),function(a){return a.selected}),h.forEach(b,function(a){this._prevSel=a;a.set("selected",!1)},this))}this._set("selected",a)}});return u("dojo-bidi")?l("dojox.mobile._ItemBase",
[d,r]):d})},"dojox/mobile/TransitionEvent":function(){define(["dojo/_base/declare","dojo/on"],function(h,l){return h("dojox.mobile.TransitionEvent",null,{constructor:function(d,g,b){this.transitionOptions=g;this.target=d;this.triggerEvent=b||null},dispatch:function(){l.emit(this.target,"startTransition",{bubbles:!0,cancelable:!0,detail:this.transitionOptions,triggerEvent:this.triggerEvent})}})})},"dojox/mobile/ProgressIndicator":function(){define("dojo/_base/config dojo/_base/declare dojo/_base/lang dojo/dom-class dojo/dom-construct dojo/dom-geometry dojo/dom-style dojo/has dijit/_Contained dijit/_WidgetBase ./_css3".split(" "),
function(h,l,d,g,b,a,c,e,k,n,q){var m=l("dojox.mobile.ProgressIndicator",[n,k],{interval:100,size:40,removeOnStop:!0,startSpinning:!1,center:!0,colors:null,baseClass:"mblProgressIndicator",constructor:function(){this.colors=[];this._bars=[]},buildRendering:function(){this.inherited(arguments);this.center&&g.add(this.domNode,"mblProgressIndicatorCenter");this.containerNode=b.create("div",{className:"mblProgContainer"},this.domNode);this.spinnerNode=b.create("div",null,this.containerNode);for(var a=
0;12>a;a++){var c=b.create("div",{className:"mblProg mblProg"+a},this.spinnerNode);this._bars.push(c)}this.scale(this.size);this.startSpinning&&this.start()},scale:function(b){var d=b/40;c.set(this.containerNode,q.add({},{transform:"scale("+d+")",transformOrigin:"0 0"}));a.setMarginBox(this.domNode,{w:b,h:b});a.setMarginBox(this.containerNode,{w:b/d,h:b/d})},start:function(){if(this.imageNode){var a=this.imageNode,b=Math.round((this.containerNode.offsetWidth-a.offsetWidth)/2),c=Math.round((this.containerNode.offsetHeight-
a.offsetHeight)/2);a.style.margin=c+"px "+b+"px"}else{var d=0,e=this;this.timer=setInterval(function(){d--;d=0>d?11:d;for(var a=e.colors,b=0;12>b;b++){var c=(d+b)%12;a[c]?e._bars[b].style.backgroundColor=a[c]:g.replace(e._bars[b],"mblProg"+c+"Color","mblProg"+(11===c?0:c+1)+"Color")}},this.interval)}},stop:function(){this.timer&&clearInterval(this.timer);this.timer=null;this.removeOnStop&&(this.domNode&&this.domNode.parentNode)&&this.domNode.parentNode.removeChild(this.domNode)},setImage:function(a){a?
(this.imageNode=b.create("img",{src:a},this.containerNode),this.spinnerNode.style.display="none"):(this.imageNode&&(this.containerNode.removeChild(this.imageNode),this.imageNode=null),this.spinnerNode.style.display="")},destroy:function(){this.inherited(arguments);this===m._instance&&(m._instance=null)}});m._instance=null;m.getInstance=function(a){m._instance||(m._instance=new m(a));return m._instance};return m})},"dojox/mobile/_css3":function(){define(["dojo/_base/window","dojo/_base/array","dojo/has"],
function(h,l,d){var g=[],b=[],a=h.doc.createElement("div").style,c=["webkit"];d.add("css3-animations",function(a,b,d){var e=d.style;return void 0!==e.animation&&void 0!==e.transition||l.some(c,function(a){return void 0!==e[a+"Animation"]&&void 0!==e[a+"Transition"]})});var e={name:function(d,e){var h=(e?b:g)[d];if(!h){if(/End|Start/.test(d))var m=d.length-(d.match(/End/)?3:5),u=d.substr(0,m),r=this.name(u),h=r==u?d.toLowerCase():r+d.substr(m);else if("keyframes"==d)m=this.name("animation",e),h="animation"==
m?d:e?m.replace(/animation/,"keyframes"):m.replace(/Animation/,"Keyframes");else{var f=e?d.replace(/-(.)/g,function(a,b){return b.toUpperCase()}):d;void 0!==a[f]?h=d:(f=f.charAt(0).toUpperCase()+f.slice(1),l.some(c,function(b){void 0!==a[b+f]&&(h=e?"-"+b+"-"+d:b+f)}))}h||(h=d);(e?b:g)[d]=h}return h},add:function(a,b){for(var c in b)b.hasOwnProperty(c)&&(a[e.name(c)]=b[c]);return a}};return e})},"dojo/i18n":function(){define("./_base/kernel require ./has ./_base/array ./_base/config ./_base/lang ./_base/xhr ./json module".split(" "),
function(h,l,d,g,b,a,c,e,k){d.add("dojo-preload-i18n-Api",1);c=h.i18n={};var n=/(^.*(^|\/)nls)(\/|$)([^\/]*)\/?([^\/]*)/,q=function(a,b,c,d){var e=[c+d];b=b.split("-");for(var f="",g=0;g<b.length;g++)if(f+=(f?"-":"")+b[g],!a||a[f])e.push(c+f+"/"+d),e.specificity=f;return e},m={},u=function(a,b,c){c=c?c.toLowerCase():h.locale;a=a.replace(/\./g,"/");b=b.replace(/\./g,"/");return/root/i.test(c)?a+"/nls/"+b:a+"/nls/"+c+"/"+b},r=h.getL10nName=function(a,b,c){return k.id+"!"+u(a,b,c)},f=function(b,c,d,
e,f,g){b([c],function(h){var k=a.clone(h.root),l=q(!h._v1x&&h,f,d,e);b(l,function(){for(var b=1;b<l.length;b++)k=a.mixin(a.clone(k),arguments[b]);m[c+"/"+f]=k;k.$locale=l.specificity;g()})})},s=function(c){var d=b.extraLocale||[],d=a.isArray(d)?d:[d];d.push(c);return d},z=function(b,c,k){if(d("dojo-preload-i18n-Api")){var l=b.split("*"),q="preload"==l[1];q&&(m[b]||(m[b]=1,p(l[2],e.parse(l[3]),1,c)),k(1));if(!(l=q))v&&w.push([b,c,k]),l=v;if(l)return}b=n.exec(b);var r=b[1]+"/",t=b[5]||b[4],u=r+t,l=
(b=b[5]&&b[4])||h.locale||"",y=u+"/"+l;b=b?[l]:s(l);var z=b.length,A=function(){--z||k(a.delegate(m[y]))};g.forEach(b,function(a){var b=u+"/"+a;d("dojo-preload-i18n-Api")&&x(b);m[b]?A():f(c,u,r,t,a,A)})};if(d("dojo-unit-tests"))var y=c.unitTests=[];d("dojo-preload-i18n-Api");var C=c.normalizeLocale=function(a){a=a?a.toLowerCase():h.locale;return"root"==a?"ROOT":a},v=0,w=[],p=c._preloadLocalizations=function(a,b,c,d){function e(a,b){d([a],b)}function f(a,b){for(var c=a.split("-");c.length;){if(b(c.join("-")))return;
c.pop()}b("ROOT")}function k(c){c=C(c);f(c,function(c){if(0<=g.indexOf(b,c)){var d=a.replace(/\./g,"/")+"_"+c;v++;e(d,function(a){for(var b in a)m[l.toAbsMid(b)+"/"+c]=a[b];for(--v;!v&&w.length;)z.apply(null,w.shift())});return!0}return!1})}d=d||l;k();g.forEach(h.config.extraLocale,k)},x=function(){},A={},t=new Function("__bundle","__checkForLegacyModules","__mid","__amdValue","var define \x3d function(mid, factory){define.called \x3d 1; __amdValue.result \x3d factory || mid;},\t   require \x3d function(){define.called \x3d 1;};try{define.called \x3d 0;eval(__bundle);if(define.called\x3d\x3d1)return __amdValue;if((__checkForLegacyModules \x3d __checkForLegacyModules(__mid)))return __checkForLegacyModules;}catch(e){}try{return eval('('+__bundle+')');}catch(e){return e;}"),
x=function(a){for(var b,c=a.split("/"),d=h.global[c[0]],e=1;d&&e<c.length-1;d=d[c[e++]]);d&&((b=d[c[e]])||(b=d[c[e].replace(/-/g,"_")]),b&&(m[a]=b));return b};c.getLocalization=function(a,b,c){var d;a=u(a,b,c);z(a,l,function(a){d=a});return d};d("dojo-unit-tests")&&y.push(function(a){a.register("tests.i18n.unit",function(a){var b;b=t("{prop:1}",x,"nonsense",A);a.is({prop:1},b);a.is(void 0,b[1]);b=t("({prop:1})",x,"nonsense",A);a.is({prop:1},b);a.is(void 0,b[1]);b=t("{'prop-x':1}",x,"nonsense",A);
a.is({"prop-x":1},b);a.is(void 0,b[1]);b=t("({'prop-x':1})",x,"nonsense",A);a.is({"prop-x":1},b);a.is(void 0,b[1]);b=t("define({'prop-x':1})",x,"nonsense",A);a.is(A,b);a.is({"prop-x":1},A.result);b=t("define('some/module', {'prop-x':1})",x,"nonsense",A);a.is(A,b);a.is({"prop-x":1},A.result);b=t("this is total nonsense and should throw an error",x,"nonsense",A);a.is(b instanceof Error,!0)})});return a.mixin(c,{dynamic:!0,normalize:function(a,b){return/^\./.test(a)?b(a):a},load:z,cache:m,getL10nName:r})})},
"url:app/config.json":'{\n    //Mandatory\n    "id": "App",\n    //Optional\n    "name": "Boilerplate-App",\n    //Optional\n    "description": "Sample Boilerplate-App to help devs get starteds",\n    //Optional, but very useful for views properties\n    "loaderConfig": {\n        "paths": {\n            "app": "../app"\n        }\n    },\n    /*\n    //Optional, default is "dojox/css3/transit"\n    "transit": "dojox/css3/transit",\n    */\n    //Optional, but required when not using the parser, and its required by views\n    "dependencies": [\n        "dojox/app/controllers/History",\n        "dojox/app/controllers/HistoryHash",\n        "dojox/mobile/deviceTheme"\n\n    ],\n    //Optional, they get mixed into the Application, mixes after dojox/app/module/lifecycle\n    "modules": [\n    ],\n    //Mandatory, they listen to App.emit events, they implement dojox/app/Controller\n    "controllers": [\n        //listens to "app-init, app-load"\n        "dojox/app/controllers/Load",\n        //listens to "app-transition, app-domNode"\n        "dojox/app/controllers/Transition",\n        //listens to "app-initLayout,app-layoutVIew,app-resize"\n        "dojox/app/controllers/Layout"\n    ],\n    /*\n    //Optional, App levels stores shared with views\n    "stores": {\n        "store1":{\n            "type": "dojo/store/Memory",\n            "observable": true,\n            "params": { // parameters used to initialize the data store\n                "data": "modelApp.names"\n            }\n        },\n        "store2":{\n            "type": "dojo/store/JsonRest",\n            "params": {\n                "data": "modelApp.repeatData"\n            }\n        }\n    },\n    */\n\n    //Optional\n    "template": "app/views/app.html",\n\n    //Optional, other examples are "flip, none"\n    "defaultTransition": "slide",\n    //Mandatory, one or a set of views view1+view2+view3\n    "defaultView": "view1",\n\n    //Optional, App level stings\n    "nls": "app/nls/app_strings",\n    //Mandatory, Specify Application child views\n    "views": {\n        "view1":{\n            //Mandatory for defaultViews\n            "template": "app/views/view1/view1.html",\n\n            //Optional, listens to View.emit events\n            //  init\n            //  beforeActivate\n            //  afterActivate\n            //  beforeDeactivate\n            //  afterDeactivate\n            //  destroy\n            //"controller": "app/views/view1/view1_controller.js",\n            //Optional, overwrites the transition type only for this view\n            "transition": "slide",\n            //Optional, view level strings they get mixed into global nls object\n            "nls": "app/views/view1/nls/view1_strings",\n            //Optional, dependencies for this specific view, declare in template\n            "dependencies":["dojox/mobile/RoundRectList","dojox/mobile/ListItem"]\n        },\n        "view2":{\n            //Mandatory for defaultViews\n            "template": "app/views/view2/view2.html",\n             "transition": "slide"\n        }\n    },\n    "has": {\n        "html5history": {\n            "controllers": [\n                "dojox/app/controllers/History"\n            ]\n        },\n        "!html5history": {\n            "controllers": [\n                "dojox/app/controllers/HistoryHash"\n            ]\n        }\n    }\n}\n',
"url:app/views/app.html":'\x3cdiv\x3e\n    \x3cdiv class\x3d"navPane" data-app-constraint\x3d"top"\x3e\n        \x3cdiv\x3e${nls.app_template_title}\x3c/div\x3e\n        \x3cdiv\x3e${nls.app_string}\x3c/div\x3e\n    \x3c/div\x3e\n\x3c/div\x3e\n',"url:app/views/view1/view1.html":'\x3cdiv class\x3d"view1"\x3e\n    \x3cdiv\x3e${nls.view1_template_title}\x3c/div\x3e\n    \x3cdiv\x3e${name}\x3c/div\x3e\n    \x3cdiv\x3e${template}\x3c/div\x3e\n    \x3cdiv\x3e${nls.app_string}\x3c/div\x3e\n    \x3cdiv\x3e${nls.view1_string}\x3c/div\x3e\n    \x3ca href\x3d"${nls.locale_link}"\x3e Click to change locale: ${nls.locale_link}\x3c/a\x3e\n    \x3cul data-dojo-type\x3d"dojox/mobile/RoundRectList"\x3e\n        \x3cli data-dojo-type\x3d"dojox/mobile/ListItem" data-dojo-props\x3d"clickable:true,target:\'view2\',url:\'#view2\'"\x3e\n            Go to View 2\n        \x3c/li\x3e\n    \x3c/ul\x3e\n\n\x3c/div\x3e\n',
"url:app/views/view2/view2.html":"\x3cdiv class\x3d\"view2\"\x3e\n    \x3cbutton onclick\x3d\"event.target.dispatchEvent(new CustomEvent('startTransition', {\n                                                'bubbles':true,\n                                                'detail':   {\n                                                            target: 'view1',\n                                                            url: '#view1',\n                                                            transitionDir: -1\n                                                        }\n                                                }));\"\n    \x3e\n    Back\n    \x3c/button\x3e\n    \n    \x3cdiv\x3e${name}\x3c/div\x3e\n    \x3cdiv\x3e${template}\x3c/div\x3e\n    \x3cdiv\x3e${nls.app_string}\x3c/div\x3e\n\x3c/div\x3e\n",
"*now":function(h){h(['dojo/i18n!*preload*app/nls/main*["ar","ca","cs","da","de","el","en-gb","en-us","es-es","fi-fi","fr-fr","he-il","hu","it-it","ja-jp","ko-kr","nl-nl","nb","pl","pt-br","pt-pt","ru","sk","sl","sv","th","tr","zh-tw","zh-cn","ROOT"]'])}}});
define("dojo/sniff require dojox/app/main dojox/json/ref dojo/text!app/config.json dojo/text!app/views/app.html dojo/text!app/views/view1/view1.html dojo/text!app/views/view2/view2.html dojo/domReady!".split(" "),function(h,l,d,g,b){h.add("html5history",!h("ie")||9<h("ie"));new d(g.fromJson(b))});
//@ sourceMappingURL=main.js.map