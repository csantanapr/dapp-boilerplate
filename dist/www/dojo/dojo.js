/*
	Copyright (c) 2004-2011, The Dojo Foundation All Rights Reserved.
	Available via Academic Free License >= 2.1 OR the modified BSD license.
	see: http://dojotoolkit.org/license for details
*/

/*
	This is an optimized version of Dojo, built for deployment and not for
	development. To get sources and documentation, please visit:

		http://dojotoolkit.org
*/

//>>built
(function(e,t){var n=function(){},r=function(e){for(var t in e)return 0;return 1},i={}.toString,s=function(e){return i.call(e)=="[object Function]"},o=function(e){return i.call(e)=="[object String]"},u=function(e){return i.call(e)=="[object Array]"},a=function(e,t){if(e)for(var n=0;e[n];)t(e[n++])},f=function(e,t){for(var n in t)e[n]=t[n];return e},l=function(e,t){return f(new Error(e),{src:"dojoLoader",info:t})},c=1,h=function(){return"_"+c++},p=function(e,t,n){return xt(e,t,n,0,p)},d=this,v=d.document,m=v&&v.createElement("DiV"),g=p.has=function(e){return s(y[e])?y[e]=y[e](d,v,m):y[e]},y=g.cache=t.hasCache;g.add=function(e,t,n,r){return(y[e]===undefined||r)&&(y[e]=t),n&&g(e)},0,0;for(var x in e.has)g.add(x,e.has[x],0,1);var T=1,N=2,C=3,k=4,L=5,A=0,O="sync",M="xd",_=[],D=0,P=n,H=n,B;p.async=1;var U=new Function("return eval(arguments[0]);");p.eval=function(e,t){return U(e+"\r\n////@ sourceURL="+t)};var z={},W="error",X=p.signal=function(e,t){var n=z[e];a(n&&n.slice(0),function(e){e.apply(null,u(t)?t:[t])})},V=p.on=function(e,t){var n=z[e]||(z[e]=[]);return n.push(t),{remove:function(){for(var e=0;e<n.length;e++)if(n[e]===t){n.splice(e,1);return}}}},$=[],J={},K=[],Q={},G=p.map={},Y=[],Z={},et="",tt={},nt="url:",rt={},it={},st=0,ot=function(e){var t,n,r,i,s;for(t in rt)n=rt[t],r=t.match(/^url\:(.+)/),r?tt[nt+qt(r[1],e)]=n:t=="*now"?i=n:t!="*noref"&&(s=Ht(t,e),tt[s.mid]=tt[nt+s.url]=n);i&&i(Tt(e)),rt={}},ut=function(e){return e.replace(/([\.$?*|{}\(\)\[\]\\\/\+^])/g,function(e){return"\\"+e})},at=function(e,t){t.splice(0,t.length);for(var n in e)t.push([n,e[n],new RegExp("^"+ut(n)+"(/|$)"),n.length]);return t.sort(function(e,t){return t[3]-e[3]}),t},ft=function(e,t){a(e,function(e){t.push([o(e[0])?new RegExp("^"+ut(e[0])+"$"):e[0],e[1]])})},lt=function(e){var t=e.name;t||(t=e,e={name:t}),e=f({main:"main"},e),e.location=e.location?e.location:t,e.packageMap&&(G[t]=e.packageMap),e.main.indexOf("./")||(e.main=e.main.substring(2)),Q[t]=e},ct=[],ht=function(e,t,n){for(var r in e){r=="waitSeconds"&&(p.waitms=(e[r]||0)*1e3),r=="cacheBust"&&(et=e[r]?o(e[r])?e[r]:(new Date).getTime()+"":"");if(r=="baseUrl"||r=="combo")p[r]=e[r];e[r]!==y&&(p.rawConfig[r]=e[r],r!="has"&&g.add("config-"+r,e[r],0,t))}p.baseUrl||(p.baseUrl="./"),/\/$/.test(p.baseUrl)||(p.baseUrl+="/");for(r in e.has)g.add(r,e.has[r],0,t);a(e.packages,lt);for(b in e.packagePaths)a(e.packagePaths[b],function(e){var t=b+"/"+e;o(e)&&(e={name:e}),e.location=t,lt(e)});at(f(G,e.map),Y),a(Y,function(e){e[1]=at(e[1],[]),e[0]=="*"&&(Y.star=e)}),at(f(J,e.paths),K),ft(e.aliases,$);if(t)ct.push({config:e.config});else for(r in e.config){var s=Ft(r,n);s.config=f(s.config||{},e.config[r])}e.cache&&(ot(),rt=e.cache,e.cache["*noref"]&&ot()),X("config",[e,p.rawConfig])};if(g("dojo-cdn")||1){var pt=v.getElementsByTagName("script"),S=0,dt,vt,mt,gt;while(S<pt.length){dt=pt[S++],(mt=dt.getAttribute("src"))&&(gt=mt.match(/(((.*)\/)|^)dojo\.js(\W|$)/i))&&(vt=gt[3]||"",t.baseUrl=t.baseUrl||vt,st=dt);if(mt=dt.getAttribute("data-dojo-config")||dt.getAttribute("djConfig"))it=p.eval("({ "+mt+" })","data-dojo-config"),st=dt}}p.rawConfig={},ht(t,1),g("dojo-cdn")&&(Q.dojo.location=vt,vt&&(vt+="/"),Q.dijit.location=vt+"../dijit/",Q.dojox.location=vt+"../dojox/"),ht(e,1),ht(it,1);var St=function(e){tn(function(){a(e.deps,ln)})},xt=function(e,t,r,i,s){var a,c;if(o(e)){a=Ft(e,i,!0);if(a&&a.executed)return a.result;throw l("undefinedModule",e)}u(e)||(ht(e,0,i),e=t,t=r);if(u(e))if(!e.length)t&&t();else{c="require*"+h();for(var d,v=[],m=0;m<e.length;)d=e[m++],v.push(Ft(d,i));a=f(Dt("",c,0,""),{injected:N,deps:v,def:t||n,require:i?i.require:p,gc:1}),Z[a.mid]=a,St(a);var g=en&&A!=O;tn(function(){Zt(a,g)}),a.executed||Nt.push(a),nn()}return s},Tt=function(e){if(!e)return p;var t=e.require;return t||(t=function(n,r,i){return xt(n,r,i,e,t)},e.require=f(t,p),t.module=e,t.toUrl=function(t){return qt(t,e)},t.toAbsMid=function(t){return It(t,e)}),t},Nt=[],Ct=[],kt={},Lt=function(e){e.injected=T,kt[e.mid]=1,e.url&&(kt[e.url]=e.pack||1),vn()},At=function(e){e.injected=N,delete kt[e.mid],e.url&&delete kt[e.url],r(kt)&&(dn(),0)},Ot=p.idle=function(){return!Ct.length&&r(kt)&&!Nt.length&&!en},Mt=function(e,t){if(t)for(var n=0;n<t.length;n++)if(t[n][2].test(e))return t[n];return 0},_t=function(e){var t=[],n,r;e=e.replace(/\\/g,"/").split("/");while(e.length)n=e.shift(),n==".."&&t.length&&r!=".."?(t.pop(),r=t[t.length-1]):n!="."&&t.push(r=n);return t.join("/")},Dt=function(e,t,n,r){return{pid:e,mid:t,pack:n,url:r,executed:0,def:0}},Pt=function(e,t,n,r,i,o,u,f,c){var h,p,d,v,m,y,b,w;w=e,b=/^\./.test(e);if(/(^\/)|(\:)|(\.js$)/.test(e)||b&&!t)return Dt(0,e,0,e);e=_t(b?t.mid+"/../"+e:e);if(/^\./.test(e))throw l("irrationalPath",e);t&&(v=Mt(t.mid,o)),v=v||o.star,v=v&&Mt(e,v[1]),v&&(e=v[1]+e.substring(v[3])),gt=e.match(/^([^\/]+)(\/(.+))?$/),h=gt?gt[1]:"",(p=n[h])?e=h+"/"+(d=gt[3]||p.main):h="";var E=0,S=0;return a(f,function(t){var n=e.match(t[0]);n&&n.length>E&&(S=s(t[1])?e.replace(t[0],t[1]):t[1])}),S?Pt(S,0,n,r,i,o,u,f,c):(y=r[e],y?c?Dt(y.pid,y.mid,y.pack,y.url):r[e]:(v=Mt(e,u),v?m=v[1]+e.substring(v[3]):h?m=p.location+"/"+d:g("config-tlmSiblingOfDojo")?m="../"+e:m=e,/(^\/)|(\:)/.test(m)||(m=i+m),m+=".js",Dt(h,e,p,_t(m))))},Ht=function(e,t){return Pt(e,t,Q,Z,p.baseUrl,Y,K,$)},Bt=function(e,t,n){return e.normalize?e.normalize(t,function(e){return It(e,n)}):It(t,n)},jt=0,Ft=function(e,t,n){var r,i,s,o;return r=e.match(/^(.+?)\!(.*)$/),r?(i=Ft(r[1],t,n),i.executed===L&&!i.load&&Kt(i),i.load?(s=Bt(i,r[2],t),e=i.mid+"!"+(i.dynamic?++jt+"!":"")+s):(s=r[2],e=i.mid+"!"+ ++jt+"!waitingForPlugin"),o={plugin:i,mid:e,req:Tt(t),prid:s}):o=Ht(e,t),Z[o.mid]||!n&&(Z[o.mid]=o)},It=p.toAbsMid=function(e,t){return Ht(e,t).mid},qt=p.toUrl=function(e,t){var n=Ht(e+"/x",t),r=n.url;return rn(n.pid===0?e:r.substring(0,r.length-5))},Rt={injected:N,executed:L,def:C,result:C},Ut=function(e){return Z[e]=f({mid:e},Rt)},zt=Ut("require"),Wt=Ut("exports"),Xt=Ut("module"),Vt=function(e,t){p.trace("loader-run-factory",[e.mid]);var n=e.def,r;0;if(g("config-dojo-loader-catches"))try{r=s(n)?n.apply(null,t):n}catch(i){X(W,e.result=l("factoryThrew",[e,i]))}else r=s(n)?n.apply(null,t):n;e.result=r===undefined&&e.cjs?e.cjs.exports:r,0},$t={},Jt=0,Kt=function(e){var t=e.result;return e.dynamic=t.dynamic,e.normalize=t.normalize,e.load=t.load,e},Qt=function(e){var t={};a(e.loadQ,function(n){var r=Bt(e,n.prid,n.req.module),i=e.dynamic?n.mid.replace(/waitingForPlugin$/,r):e.mid+"!"+r,s=f(f({},n),{mid:i,prid:r,injected:0});Z[i]||sn(Z[i]=s),t[n.mid]=Z[i],At(n),delete Z[n.mid]}),e.loadQ=0;var n=function(e){for(var n,r=e.deps||[],i=0;i<r.length;i++)n=t[r[i].mid],n&&(r[i]=n)};for(var r in Z)n(Z[r]);a(Nt,n)},Gt=function(e){p.trace("loader-finish-exec",[e.mid]),e.executed=L,e.defOrder=Jt++,0,e.loadQ&&(Kt(e),Qt(e));for(S=0;S<Nt.length;)Nt[S]===e?Nt.splice(S,1):S++;/^require\*/.test(e.mid)&&delete Z[e.mid]},Yt=[],Zt=function(e,t){if(e.executed===k)return p.trace("loader-circular-dependency",[Yt.concat(e.mid).join("->")]),!e.def||t?$t:e.cjs&&e.cjs.exports;if(!e.executed){if(!e.def)return $t;var n=e.mid,r=e.deps||[],i,s,o=[],u=0;e.executed=k;while(i=r[u++]){s=i===zt?Tt(e):i===Wt?e.cjs.exports:i===Xt?e.cjs:Zt(i,t);if(s===$t)return e.executed=0,p.trace("loader-exec-module",["abort",n]),0,$t;o.push(s)}Vt(e,o),Gt(e),0}return e.result},en=0,tn=function(e){try{en++,e()}finally{en--}Ot()&&X("idle",[])},nn=function(){if(en)return;tn(function(){P();for(var e,t,n=0;n<Nt.length;)e=Jt,t=Nt[n],Zt(t),e!=Jt?(P(),n=0):n++})};g("dojo-loader-eval-hint-url")===undefined&&g.add("dojo-loader-eval-hint-url",1);var rn=function(e){return e+="",e+(et?(/\?/.test(e)?"&":"?")+et:"")},sn=function(e){var t=e.plugin;t.executed===L&&!t.load&&Kt(t);var n=function(t){e.result=t,At(e),Gt(e),nn()};t.load?t.load(e.prid,e.req,n):t.loadQ?t.loadQ.push(e):(t.loadQ=[e],Nt.unshift(t),ln(t))},on=0,un=0,an=0,fn=function(e,t){g("config-stripStrict")&&(e=e.replace(/"use strict"/g,"")),an=1;if(g("config-dojo-loader-catches"))try{e===on?on.call(null):p.eval(e,g("dojo-loader-eval-hint-url")?t.url:t.mid)}catch(n){X(W,l("evalModuleThrew",t))}else e===on?on.call(null):p.eval(e,g("dojo-loader-eval-hint-url")?t.url:t.mid);an=0},ln=function(e){var t=e.mid,n=e.url;if(e.executed||e.injected||kt[t]||e.url&&(e.pack&&kt[e.url]===e.pack||kt[e.url]==1))return;Lt(e);if(e.plugin){sn(e);return}var i=function(){hn(e);if(e.injected!==N){if(g("dojo-enforceDefine")){X(W,l("noDefine",e));return}At(e),f(e,Rt),p.trace("loader-define-nonmodule",[e.url])}nn()};on=tt[t]||tt[nt+e.url];if(on){p.trace("loader-inject",["cache",e.mid,n]),fn(on,e),i();return}p.trace("loader-inject",["script",e.mid,n]),un=e,p.injectUrl(rn(n),i,e),un=0},cn=function(e,t,n){p.trace("loader-define-module",[e.mid,t]);var r=e.mid;if(e.injected===N)return X(W,l("multipleDefine",e)),e;f(e,{deps:t,def:n,cjs:{id:e.mid,uri:e.url,exports:e.result={},setExports:function(t){e.cjs.exports=t},config:function(){return e.config}}});for(var i=0;t[i];i++)t[i]=Ft(t[i],e);return At(e),!s(n)&&!t.length&&(e.result=n,Gt(e)),e},hn=function(e,t){var n=[],r,i;while(Ct.length)i=Ct.shift(),t&&(i[0]=t.shift()),r=i[0]&&Ft(i[0])||e,n.push([r,i[1],i[2]]);ot(e),a(n,function(e){St(cn.apply(null,e))})},pn=0,dn=n,vn=n;dn=function(){pn&&clearTimeout(pn),pn=0},vn=function(){dn(),p.waitms&&(pn=window.setTimeout(function(){dn(),X(W,l("timeout",kt))},p.waitms))},g.add("ie-event-behavior",v.attachEvent&&typeof Windows=="undefined"&&(typeof opera=="undefined"||opera.toString()!="[object Opera]"));var mn=function(e,t,n,r){return g("ie-event-behavior")?(e.attachEvent(n,r),function(){e.detachEvent(n,r)}):(e.addEventListener(t,r,!1),function(){e.removeEventListener(t,r,!1)})},gn=mn(window,"load","onload",function(){p.pageLoaded=1,v.readyState!="complete"&&(v.readyState="complete"),gn()}),pt=v.getElementsByTagName("script"),S=0,dt;while(!st)/^dojo/.test((dt=pt[S++])&&dt.type)||(st=dt);p.injectUrl=function(e,t,n){var r=n.node=v.createElement("script"),i=function(e){e=e||window.event;var n=e.target||e.srcElement;if(e.type==="load"||/complete|loaded/.test(n.readyState))s(),o(),t&&t()},s=mn(r,"load","onreadystatechange",i),o=mn(r,"error","onerror",function(t){s(),o(),X(W,l("scriptError",[e,t]))});return r.type="text/javascript",r.charset="utf-8",r.src=e,st.parentNode.insertBefore(r,st),r},p.log=n,p.trace=n;var bn=function(e,t,n){var r=arguments.length,i=["require","exports","module"],a=[0,e,t];r==1?a=[0,s(e)?i:[],e]:r==2&&o(e)?a=[e,s(t)?i:[],t]:r==3&&(a=[e,t,n]),p.trace("loader-define",a.slice(0,2));var f=a[0]&&Ft(a[0]),c;if(f&&!kt[f.mid])St(cn(f,a[1],a[2]));else if(!g("ie-event-behavior")||!1||an)Ct.push(a);else{f=f||un;if(!f)for(e in kt){c=Z[e];if(c&&c.node&&c.node.readyState==="interactive"){f=c;break}}f?(ot(f),St(cn(f,a[1],a[2]))):X(W,l("ieDefineFailed",a[0])),nn()}};bn.amd={vendor:"dojotoolkit.org"},f(f(p,t.loaderPatch),e.loaderPatch),V(W,function(e){try{0;if(e instanceof Error){for(var t in e)0;0}}catch(n){}}),f(p,{uid:h,cache:tt,packs:Q});if(d.define)return;d.define=bn,d.require=p,a(ct,function(e){ht(e)});var Sn=it.deps||e.deps||t.deps,xn=it.callback||e.callback||t.callback;p.boot=Sn||xn?[Sn||[],xn]:0})(this.dojoConfig||this.djConfig||this.require||{},{async:0,hasCache:{"config-selectorEngine":"lite","config-tlmSiblingOfDojo":1,"dojo-built":1,"dojo-loader":1,dom:1,"host-browser":1},packages:[{location:".",name:"dojo"},{location:"../dijit",name:"dijit"},{location:"../dojox",name:"dojox"},{location:"../app",name:"app"}]}),require({cache:{"dojo/main":function(){define(["./_base/kernel","./has","require","./sniff","./_base/lang","./_base/array","./_base/config","./ready","./_base/declare","./_base/connect","./_base/Deferred","./_base/json","./_base/Color","./has!dojo-firebug?./_firebug/firebug","./_base/browser","require"],function(e,t,n,r,i,s,o,u){o.isDebug&&n(["./_firebug/firebug"]),1;var a=o.require;return a&&(a=s.map(i.isArray(a)?a:[a],function(e){return e.replace(/\./g,"/")}),e.isAsync?n(a):u(1,function(){n(a)})),e})},"dojo/_base/kernel":function(){define(["../has","./config","require","module"],function(e,t,n,r){var i,s,o={},u={},a={config:t,global:this,dijit:o,dojox:u},f={dojo:["dojo",a],dijit:["dijit",o],dojox:["dojox",u]},l=n.map&&n.map[r.id.match(/[^\/]+/)[0]],c;for(s in l)f[s]?f[s][0]=l[s]:f[s]=[l[s],{}];for(s in f)c=f[s],c[1]._scopeName=c[0],t.noGlobals||(this[c[0]]=c[1]);a.scopeMap=f,a.baseUrl=a.config.baseUrl=n.baseUrl,a.isAsync=n.async,a.locale=t.locale;var h="$Rev: 43d05c6 $".match(/\d+/);a.version={major:1,minor:9,patch:1,flag:"",revision:h?+h[0]:NaN,toString:function(){var e=a.version;return e.major+"."+e.minor+"."+e.patch+e.flag+" ("+e.revision+")"}},1,Function("d","d.eval = function(){return d.global.eval ? d.global.eval(arguments[0]) : eval(arguments[0]);}")(a),a.exit=function(){},1,typeof console!="undefined"||(console={});var p=["assert","count","debug","dir","dirxml","error","group","groupEnd","info","profile","profileEnd","time","timeEnd","trace","warn","log"],d;i=0;while(d=p[i++])console[d]||function(){var e=d+"";console[e]="log"in console?function(){var t=Array.apply({},arguments);t.unshift(e+":"),console.log(t.join(" "))}:function(){},console[e]._fake=!0}();e.add("dojo-debug-messages",!!t.isDebug),a.deprecated=a.experimental=function(){},e("dojo-debug-messages")&&(a.deprecated=function(e,t,n){var r="DEPRECATED: "+e;t&&(r+=" "+t),n&&(r+=" -- will be removed in version: "+n),0},a.experimental=function(e,t){var n="EXPERIMENTAL: "+e+" -- APIs subject to change without notice.";t&&(n+=" "+t),0}),1;if(t.modulePaths){a.deprecated("dojo.modulePaths","use paths configuration");var v={};for(s in t.modulePaths)v[s.replace(/\./g,"/")]=t.modulePaths[s];n({paths:v})}return 1,a.moduleUrl=function(e,t){a.deprecated("dojo.moduleUrl()","use require.toUrl","2.0");var r=null;return e&&(r=n.toUrl(e.replace(/\./g,"/")+(t?"/"+t:"")+"/*.*").replace(/\/\*\.\*/,"")+(t?"":"/")),r},a._hasResource={},a})},"dojo/has":function(){define(["require","module"],function(e,t){var n=e.has||function(){};n.add("dom-addeventlistener",!!document.addEventListener),n.add("touch","ontouchstart"in document||window.navigator.msMaxTouchPoints>0),n.add("device-width",screen.availWidth||innerWidth);var a=document.createElement("form");return n.add("dom-attributes-explicit",a.attributes.length==0),n.add("dom-attributes-specified-flag",a.attributes.length>0&&a.attributes.length<40),n.clearElement=function(e){return e.innerHTML="",e},n.normalize=function(e,t){var r=e.match(/[\?:]|[^:\?]*/g),i=0,s=function(e){var t=r[i++];return t==":"?0:r[i++]=="?"?!e&&n(t)?s():(s(!0),s(e)):t||0};return e=s(),e&&t(e)},n.load=function(e,t,n){e?t([e],n):n()},n})},"dojo/_base/config":function(){define(["../has","require"],function(e,t){var n={},r=t.rawConfig,i;for(i in r)n[i]=r[i];return!n.locale&&typeof navigator!="undefined"&&(n.locale=(navigator.language||navigator.userLanguage).toLowerCase()),n})},"dojo/sniff":function(){define(["./has"],function(e){var t=navigator,n=t.userAgent,r=t.appVersion,i=parseFloat(r);e.add("air",n.indexOf("AdobeAIR")>=0),e.add("msapp",parseFloat(n.split("MSAppHost/")[1])||undefined),e.add("khtml",r.indexOf("Konqueror")>=0?i:undefined),e.add("webkit",parseFloat(n.split("WebKit/")[1])||undefined),e.add("chrome",parseFloat(n.split("Chrome/")[1])||undefined),e.add("safari",r.indexOf("Safari")>=0&&!e("chrome")?parseFloat(r.split("Version/")[1]):undefined),e.add("mac",r.indexOf("Macintosh")>=0),e.add("quirks",document.compatMode=="BackCompat");if(n.match(/(iPhone|iPod|iPad)/)){var s=RegExp.$1.replace(/P/,"p"),o=n.match(/OS ([\d_]+)/)?RegExp.$1:"1",u=parseFloat(o.replace(/_/,".").replace(/_/g,""));e.add(s,u),e.add("ios",u)}e.add("android",parseFloat(n.split("Android ")[1])||undefined),e.add("bb",(n.indexOf("BlackBerry")>=0||n.indexOf("BB10")>=0)&&parseFloat(n.split("Version/")[1])||undefined),e.add("svg",typeof SVGAngle!="undefined");if(!e("webkit")){n.indexOf("Opera")>=0&&e.add("opera",i>=9.8?parseFloat(n.split("Version/")[1])||i:i),n.indexOf("Gecko")>=0&&!e("khtml")&&!e("webkit")&&e.add("mozilla",i),e("mozilla")&&e.add("ff",parseFloat(n.split("Firefox/")[1]||n.split("Minefield/")[1])||undefined);if(document.all&&!e("opera")){var a=parseFloat(r.split("MSIE ")[1])||undefined,f=document.documentMode;f&&f!=5&&Math.floor(a)!=f&&(a=f),e.add("ie",a)}e.add("wii",typeof opera!="undefined"&&opera.wiiremote)}return e})},"dojo/_base/lang":function(){define(["./kernel","../has","../sniff"],function(e,t){t.add("bug-for-in-skips-shadowed",function(){for(var e in{toString:1})return 0;return 1});var n=t("bug-for-in-skips-shadowed")?"hasOwnProperty.valueOf.isPrototypeOf.propertyIsEnumerable.toLocaleString.toString.constructor".split("."):[],r=n.length,i=function(t,n,r){var i,s=0,o=e.global;if(!r){if(!t.length)return o;i=t[s++];try{r=e.scopeMap[i]&&e.scopeMap[i][1]}catch(u){}r=r||(i in o?o[i]:n?o[i]={}:undefined)}while(r&&(i=t[s++]))r=i in r?r[i]:n?r[i]={}:undefined;return r},s=Object.prototype.toString,o=function(e,t,n){return(n||[]).concat(Array.prototype.slice.call(e,t||0))},u=/\{([^\}]+)\}/g,a={_extraNames:n,_mixin:function(e,i,s){var o,u,a,f={};for(o in i){u=i[o];if(!(o in e)||e[o]!==u&&(!(o in f)||f[o]!==u))e[o]=s?s(u):u}if(t("bug-for-in-skips-shadowed")&&i)for(a=0;a<r;++a){o=n[a],u=i[o];if(!(o in e)||e[o]!==u&&(!(o in f)||f[o]!==u))e[o]=s?s(u):u}return e},mixin:function(e,t){e||(e={});for(var n=1,r=arguments.length;n<r;n++)a._mixin(e,arguments[n]);return e},setObject:function(e,t,n){var r=e.split("."),s=r.pop(),o=i(r,!0,n);return o&&s?o[s]=t:undefined},getObject:function(e,t,n){return i(e.split("."),t,n)},exists:function(e,t){return a.getObject(e,!1,t)!==undefined},isString:function(e){return typeof e=="string"||e instanceof String},isArray:function(e){return e&&(e instanceof Array||typeof e=="array")},isFunction:function(e){return s.call(e)==="[object Function]"},isObject:function(e){return e!==undefined&&(e===null||typeof e=="object"||a.isArray(e)||a.isFunction(e))},isArrayLike:function(e){return e&&e!==undefined&&!a.isString(e)&&!a.isFunction(e)&&(!e.tagName||e.tagName.toLowerCase()!="form")&&(a.isArray(e)||isFinite(e.length))},isAlien:function(e){return e&&!a.isFunction(e)&&/\{\s*\[native code\]\s*\}/.test(String(e))},extend:function(e,t){for(var n=1,r=arguments.length;n<r;n++)a._mixin(e.prototype,arguments[n]);return e},_hitchArgs:function(t,n){var r=a._toArray(arguments,2),i=a.isString(n);return function(){var s=a._toArray(arguments),o=i?(t||e.global)[n]:n;return o&&o.apply(t||this,r.concat(s))}},hitch:function(t,n){if(arguments.length>2)return a._hitchArgs.apply(e,arguments);n||(n=t,t=null);if(a.isString(n)){t=t||e.global;if(!t[n])throw['lang.hitch: scope["',n,'"] is null (scope="',t,'")'].join("");return function(){return t[n].apply(t,arguments||[])}}return t?function(){return n.apply(t,arguments||[])}:n},delegate:function(){function e(){}return function(t,n){e.prototype=t;var r=new e;return e.prototype=null,n&&a._mixin(r,n),r}}(),_toArray:t("ie")?function(){function e(e,t,n){var r=n||[];for(var i=t||0;i<e.length;i++)r.push(e[i]);return r}return function(t){return(t.item?e:o).apply(this,arguments)}}():o,partial:function(t){var n=[null];return a.hitch.apply(e,n.concat(a._toArray(arguments)))},clone:function(e){if(!e||typeof e!="object"||a.isFunction(e))return e;if(e.nodeType&&"cloneNode"in e)return e.cloneNode(!0);if(e instanceof Date)return new Date(e.getTime());if(e instanceof RegExp)return new RegExp(e);var t,n,r;if(a.isArray(e)){t=[];for(n=0,r=e.length;n<r;++n)n in e&&t.push(a.clone(e[n]))}else t=e.constructor?new e.constructor:{};return a._mixin(t,e,a.clone)},trim:String.prototype.trim?function(e){return e.trim()}:function(e){return e.replace(/^\s\s*/,"").replace(/\s\s*$/,"")},replace:function(e,t,n){return e.replace(n||u,a.isFunction(t)?t:function(e,n){return a.getObject(n,!1,t)})}};return a.mixin(e,a),a})},"dojo/_base/array":function(){define(["./kernel","../has","./lang"],function(e,t,n){function s(e){return r[e]=new Function("item","index","array",e)}function o(e){var t=!e;return function(n,i,o){var u=0,a=n&&n.length||0,f;a&&typeof n=="string"&&(n=n.split("")),typeof i=="string"&&(i=r[i]||s(i));if(o)for(;u<a;++u){f=!i.call(o,n[u],u,n);if(e^f)return!f}else for(;u<a;++u){f=!i(n[u],u,n);if(e^f)return!f}return t}}function u(e){var t=1,n=0,r=0;return e||(t=n=r=-1),function(s,o,u,f){if(f&&t>0)return a.lastIndexOf(s,o,u);var l=s&&s.length||0,c=e?l+r:n,h;u===i?h=e?n:l+r:u<0?(h=l+u,h<0&&(h=n)):h=u>=l?l+r:u,l&&typeof s=="string"&&(s=s.split(""));for(;h!=c;h+=t)if(s[h]==o)return h;return-1}}var r={},i,a={every:o(!1),some:o(!0),indexOf:u(!0),lastIndexOf:u(!1),forEach:function(e,t,n){var i=0,o=e&&e.length||0;o&&typeof e=="string"&&(e=e.split("")),typeof t=="string"&&(t=r[t]||s(t));if(n)for(;i<o;++i)t.call(n,e[i],i,e);else for(;i<o;++i)t(e[i],i,e)},map:function(e,t,n,i){var o=0,u=e&&e.length||0,a=new(i||Array)(u);u&&typeof e=="string"&&(e=e.split("")),typeof t=="string"&&(t=r[t]||s(t));if(n)for(;o<u;++o)a[o]=t.call(n,e[o],o,e);else for(;o<u;++o)a[o]=t(e[o],o,e);return a},filter:function(e,t,n){var i=0,o=e&&e.length||0,u=[],a;o&&typeof e=="string"&&(e=e.split("")),typeof t=="string"&&(t=r[t]||s(t));if(n)for(;i<o;++i)a=e[i],t.call(n,a,i,e)&&u.push(a);else for(;i<o;++i)a=e[i],t(a,i,e)&&u.push(a);return u},clearCache:function(){r={}}};return n.mixin(e,a),a})},"dojo/ready":function(){define(["./_base/kernel","./has","require","./domReady","./_base/lang"],function(e,t,n,r,i){var s=0,o=[],u=0,a=function(){s=1,e._postLoad=e.config.afterOnLoad=!0,f()},f=function(){if(u)return;u=1;while(s&&(!r||r._Q.length==0)&&(n.idle?n.idle():!0)&&o.length){var e=o.shift();try{e()}catch(t){t.info=t.message;if(!n.signal)throw t;n.signal("error",t)}}u=0};n.on&&n.on("idle",f),r&&(r._onQEmpty=f);var l=e.ready=e.addOnLoad=function(t,n,r){var s=i._toArray(arguments);typeof t!="number"?(r=n,n=t,t=1e3):s.shift(),r=r?i.hitch.apply(e,s):function(){n()},r.priority=t;for(var u=0;u<o.length&&t>=o[u].priority;u++);o.splice(u,0,r),f()};1;var c=e.config.addOnLoad;return c&&l[i.isArray(c)?"apply":"call"](e,c),r?r(a):a(),l})},"dojo/domReady":function(){define(["./has"],function(e){function a(e){o.push(e),s&&f()}function f(){if(u)return;u=!0;while(o.length)try{o.shift()(n)}catch(e){0}u=!1,a._onQEmpty()}var t=this,n=document,r={loaded:1,complete:1},i=typeof n.readyState!="string",s=!!r[n.readyState],o=[],u;a.load=function(e,t,n){a(n)},a._Q=o,a._onQEmpty=function(){},i&&(n.readyState="loading");if(!s){var l=[],c=function(e){e=e||t.event;if(s||e.type=="readystatechange"&&!r[n.readyState])return;i&&(n.readyState="complete"),s=1,f()},h=function(e,t){e.addEventListener(t,c,!1),o.push(function(){e.removeEventListener(t,c,!1)})};if(!e("dom-addeventlistener")){h=function(e,t){t="on"+t,e.attachEvent(t,c),o.push(function(){e.detachEvent(t,c)})};var p=n.createElement("div");try{p.doScroll&&t.frameElement===null&&l.push(function(){try{return p.doScroll("left"),1}catch(e){}})}catch(d){}}h(n,"DOMContentLoaded"),h(t,"load"),"onreadystatechange"in n?h(n,"readystatechange"):i||l.push(function(){return r[n.readyState]});if(l.length){var v=function(){if(s)return;var e=l.length;while(e--)if(l[e]()){c("poller");return}setTimeout(v,30)};v()}}return a})},"dojo/_base/declare":function(){define(["./kernel","../has","./lang"],function(e,t,n){function f(e,t){throw new Error("declare"+(t?" "+t:"")+": "+e)}function l(e,t){var n=[],r=[{cls:0,refs:[]}],i={},o=1,a=e.length,l=0,c,h,p,d,v,m,g,y;for(;l<a;++l){p=e[l],p?s.call(p)!="[object Function]"&&f("mixin #"+l+" is not a callable constructor.",t):f("mixin #"+l+" is unknown. Did you use dojo.require to pull it in?",t),h=p._meta?p._meta.bases:[p],d=0;for(c=h.length-1;c>=0;--c)v=h[c].prototype,v.hasOwnProperty("declaredClass")||(v.declaredClass="uniqName_"+u++),g=v.declaredClass,i.hasOwnProperty(g)||(i[g]={count:0,refs:[],cls:h[c]},++o),m=i[g],d&&d!==m&&(m.refs.push(d),++d.count),d=m;++d.count,r[0].refs.push(d)}while(r.length){d=r.pop(),n.push(d.cls),--o;while(y=d.refs,y.length==1){d=y[0];if(!d||--d.count){d=0;break}n.push(d.cls),--o}if(d)for(l=0,a=y.length;l<a;++l)d=y[l],--d.count||r.push(d)}return o&&f("can't build consistent linearization",t),p=e[0],n[0]=p?p._meta&&p===n[n.length-p._meta.bases.length]?p._meta.bases.length:1:0,n}function c(e,t,n){var r,s,o,u,l,c,h,p,d,v=this._inherited=this._inherited||{};typeof e=="string"&&(r=e,e=t,t=n),n=0,u=e.callee,r=r||u.nom,r||f("can't deduce a name to call inherited()",this.declaredClass),l=this.constructor._meta,o=l.bases,d=v.p;if(r!=a){if(v.c!==u){d=0,c=o[0],l=c._meta;if(l.hidden[r]!==u){s=l.chains,s&&typeof s[r]=="string"&&f("calling chained method with inherited: "+r,this.declaredClass);do{l=c._meta,h=c.prototype;if(l&&(h[r]===u&&h.hasOwnProperty(r)||l.hidden[r]===u))break}while(c=o[++d]);d=c?d:-1}}c=o[++d];if(c){h=c.prototype;if(c._meta&&h.hasOwnProperty(r))n=h[r];else{p=i[r];do{h=c.prototype,n=h[r];if(n&&(c._meta?h.hasOwnProperty(r):n!==p))break}while(c=o[++d])}}n=c&&n||i[r]}else{if(v.c!==u){d=0,l=o[0]._meta;if(l&&l.ctor!==u){s=l.chains,(!s||s.constructor!=="manual")&&f("calling chained constructor with inherited",this.declaredClass);while(c=o[++d]){l=c._meta;if(l&&l.ctor===u)break}d=c?d:-1}}while(c=o[++d]){l=c._meta,n=l?l.ctor:c;if(n)break}n=c&&n}v.c=n,v.p=d;if(n)return t===!0?n:n.apply(this,t||e)}function h(e,t){return typeof e=="string"?this.__inherited(e,t,!0):this.__inherited(e,!0)}function p(e,t,n){var r=this.getInherited(e,t);if(r)return r.apply(this,n||t||e)}function v(e){var t=this.constructor._meta.bases;for(var n=0,r=t.length;n<r;++n)if(t[n]===e)return!0;return this instanceof e}function m(e,r){for(var i in r)i!=a&&r.hasOwnProperty(i)&&(e[i]=r[i]);if(t("bug-for-in-skips-shadowed"))for(var s=n._extraNames,o=s.length;o;)i=s[--o],i!=a&&r.hasOwnProperty(i)&&(e[i]=r[i])}function g(e,r){var o,u;for(o in r)u=r[o],(u!==i[o]||!(o in i))&&o!=a&&(s.call(u)=="[object Function]"&&(u.nom=o),e[o]=u);if(t("bug-for-in-skips-shadowed"))for(var f=n._extraNames,l=f.length;l;)o=f[--l],u=r[o],(u!==i[o]||!(o in i))&&o!=a&&(s.call(u)=="[object Function]"&&(u.nom=o),e[o]=u);return e}function y(e){return C.safeMixin(this.prototype,e),this}function b(e,t){return C([this].concat(e),t||{})}function w(e,t){return function(){var n=arguments,r=n,i=n[0],s,o,u,a=e.length,f;if(!(this instanceof n.callee))return N(n);if(t&&(i&&i.preamble||this.preamble)){f=new Array(e.length),f[0]=n;for(o=0;;){i=n[0],i&&(s=i.preamble,s&&(n=s.apply(this,n)||n)),s=e[o].prototype,s=s.hasOwnProperty("preamble")&&s.preamble,s&&(n=s.apply(this,n)||n);if(++o==a)break;f[o]=n}}for(o=a-1;o>=0;--o)s=e[o],u=s._meta,s=u?u.ctor:s,s&&s.apply(this,f?f[o]:n);s=this.postscript,s&&s.apply(this,r)}}function E(e,t){return function(){var n=arguments,r=n,i=n[0],s;if(!(this instanceof n.callee))return N(n);t&&(i&&(s=i.preamble,s&&(r=s.apply(this,r)||r)),s=this.preamble,s&&s.apply(this,r)),e&&e.apply(this,n),s=this.postscript,s&&s.apply(this,n)}}function S(e){return function(){var t=arguments,n=0,r,i;if(!(this instanceof t.callee))return N(t);for(;r=e[n];++n){i=r._meta,r=i?i.ctor:r;if(r){r.apply(this,t);break}}r=this.postscript,r&&r.apply(this,t)}}function x(e,t,n){return function(){var r,i,s,o=0,u=1;n&&(o=t.length-1,u=-1);for(;r=t[o];o+=u)i=r._meta,s=(i?i.hidden:r.prototype)[e],s&&s.apply(this,arguments)}}function T(e){o.prototype=e.prototype;var t=new o;return o.prototype=null,t}function N(e){var t=e.callee,n=T(t);return t.apply(n,e),n}function C(e,t,o){typeof e!="string"&&(o=t,t=e,e=""),o=o||{};var u,p,g,N,k,L,A,O=1,M=t;s.call(t)=="[object Array]"?(L=l(t,e),g=L[0],O=L.length-g,t=L[O]):(L=[0],t?s.call(t)=="[object Function]"?(g=t._meta,L=L.concat(g?g.bases:t)):f("base class is not a callable constructor.",e):t!==null&&f("unknown base class. Did you use dojo.require to pull it in?",e));if(t)for(p=O-1;;--p){u=T(t);if(!p)break;g=L[p],(g._meta?m:r)(u,g.prototype),N=new Function,N.superclass=t,N.prototype=u,t=u.constructor=N}else u={};C.safeMixin(u,o),g=o.constructor,g!==i.constructor&&(g.nom=a,u.constructor=g);for(p=O-1;p;--p)g=L[p]._meta,g&&g.chains&&(A=r(A||{},g.chains));u["-chains-"]&&(A=r(A||{},u["-chains-"])),g=!A||!A.hasOwnProperty(a),L[0]=N=A&&A.constructor==="manual"?S(L):L.length==1?E(o.constructor,g):w(L,g),N._meta={bases:L,hidden:o,chains:A,parents:M,ctor:o.constructor},N.superclass=t&&t.prototype,N.extend=y,N.createSubclass=b,N.prototype=u,u.constructor=N,u.getInherited=h,u.isInstanceOf=v,u.inherited=d,u.__inherited=c,e&&(u.declaredClass=e,n.setObject(e,N));if(A)for(k in A)u[k]&&typeof A[k]=="string"&&k!=a&&(g=u[k]=x(k,L,A[k]==="after"),g.nom=k);return N}var r=n.mixin,i=Object.prototype,s=i.toString,o=new Function,u=0,a="constructor",d=e.config.isDebug?p:c;return e.safeMixin=C.safeMixin=g,e.declare=C,C})},"dojo/_base/connect":function(){define(["./kernel","../on","../topic","../aspect","./event","../mouse","./sniff","./lang","../keys"],function(e,t,n,r,i,s,o,u){function a(n,i,o,a,f){a=u.hitch(o,a);if(!n||!n.addEventListener&&!n.attachEvent)return r.after(n||e.global,i,a,!0);typeof i=="string"&&i.substring(0,2)=="on"&&(i=i.substring(2)),n||(n=e.global);if(!f)switch(i){case"keypress":i=p;break;case"mouseenter":i=s.enter;break;case"mouseleave":i=s.leave}return t(n,i,a,f)}function h(e){e.keyChar=e.charCode?String.fromCharCode(e.charCode):"",e.charOrCode=e.keyChar||e.keyCode}o.add("events-keypress-typed",function(){var e={charCode:0};try{e=document.createEvent("KeyboardEvent"),(e.initKeyboardEvent||e.initKeyEvent).call(e,"keypress",!0,!0,null,!1,!1,!1,!1,9,3)}catch(t){}return e.charCode==0&&!o("opera")});var f={106:42,111:47,186:59,187:43,188:44,189:45,190:46,191:47,192:96,219:91,220:92,221:93,222:39,229:113},l=o("mac")?"metaKey":"ctrlKey",c=function(e,t){var n=u.mixin({},e,t);return h(n),n.preventDefault=function(){e.preventDefault()},n.stopPropagation=function(){e.stopPropagation()},n},p;if(o("events-keypress-typed")){var d=function(e,t){try{return e.keyCode=t}catch(e){return 0}};p=function(e,n){var r=t(e,"keydown",function(e){var t=e.keyCode,r=t!=13&&t!=32&&(t!=27||!o("ie"))&&(t<48||t>90)&&(t<96||t>111)&&(t<186||t>192)&&(t<219||t>222)&&t!=229;if(r||e.ctrlKey){var i=r?0:t;if(e.ctrlKey){if(t==3||t==13)return n.call(e.currentTarget,e);i>95&&i<106?i-=48:!e.shiftKey&&i>=65&&i<=90?i+=32:i=f[i]||i}var s=c(e,{type:"keypress",faux:!0,charCode:i});n.call(e.currentTarget,s),o("ie")&&d(e,s.keyCode)}}),i=t(e,"keypress",function(e){var t=e.charCode;return t=t>=32?t:0,e=c(e,{charCode:t,faux:!0}),n.call(this,e)});return{remove:function(){r.remove(),i.remove()}}}}else o("opera")?p=function(e,n){return t(e,"keypress",function(e){var t=e.which;return t==3&&(t=99),t=t<32&&!e.shiftKey?0:t,e.ctrlKey&&!e.shiftKey&&t>=65&&t<=90&&(t+=32),n.call(this,c(e,{charCode:t}))})}:p=function(e,n){return t(e,"keypress",function(e){return h(e),n.call(this,e)})};var v={_keypress:p,connect:function(e,t,n,r,i){var s=arguments,o=[],u=0;o.push(typeof s[0]=="string"?null:s[u++],s[u++]);var f=s[u+1];o.push(typeof f=="string"||typeof f=="function"?s[u++]:null,s[u++]);for(var l=s.length;u<l;u++)o.push(s[u]);return a.apply(this,o)},disconnect:function(e){e&&e.remove()},subscribe:function(e,t,r){return n.subscribe(e,u.hitch(t,r))},publish:function(e,t){return n.publish.apply(n,[e].concat(t))},connectPublisher:function(e,t,n){var r=function(){v.publish(e,arguments)};return n?v.connect(t,n,r):v.connect(t,r)},isCopyKey:function(e){return e[l]}};return v.unsubscribe=v.disconnect,u.mixin(e,v),v})},"dojo/on":function(){define(["./has!dom-addeventlistener?:./aspect","./_base/kernel","./sniff"],function(e,t,n){"use strict";function o(e,t,r,o,u){var a=t.match(/(.*):(.*)/);if(a)return t=a[2],a=a[1],i.selector(a,t).call(u,e,r);n("touch")&&(s.test(t)&&(r=x(r)),!n("event-orientationchange")&&t=="orientationchange"&&(t="resize",e=window,r=x(r))),p&&(r=p(r));if(e.addEventListener){var f=t in c,l=f?c[t]:t;return e.addEventListener(l,r,f),{remove:function(){e.removeEventListener(l,r,f)}}}t="on"+t;if(g&&e.attachEvent)return g(e,t,r);throw new Error("Target must be an event emitter")}function u(){this.cancelable=!1,this.defaultPrevented=!0}function a(){this.bubbles=!1}var r=window.ScriptEngineMajorVersion;n.add("jscript",r&&r()+ScriptEngineMinorVersion()/10),n.add("event-orientationchange",n("touch")&&!n("android")),n.add("event-stopimmediatepropagation",window.Event&&!!window.Event.prototype&&!!window.Event.prototype.stopImmediatePropagation),n.add("event-focusin",function(e,t,n){return!!n.attachEvent});var i=function(e,t,n,r){return typeof e.on=="function"&&typeof t!="function"&&!e.nodeType?e.on(t,n):i.parse(e,t,n,o,r,this)};i.pausable=function(e,t,n,r){var s,o=i(e,t,function(){if(!s)return n.apply(this,arguments)},r);return o.pause=function(){s=!0},o.resume=function(){s=!1},o},i.once=function(e,t,n,r){var s=i(e,t,function(){return s.remove(),n.apply(this,arguments)});return s},i.parse=function(e,t,n,r,i,s){if(t.call)return t.call(s,e,n);if(t.indexOf(",")>-1){var o=t.split(/\s*,\s*/),u=[],a=0,f;while(f=o[a++])u.push(r(e,f,n,i,s));return u.remove=function(){for(var e=0;e<u.length;e++)u[e].remove()},u}return r(e,t,n,i,s)};var s=/^touch/;i.selector=function(e,n,r){return function(s,o){function f(n){u=u&&u.matches?u:t.query;while(!u.matches(n,e,s))if(n==s||r===!1||!(n=n.parentNode)||n.nodeType!=1)return;return n}var u=typeof e=="function"?{matches:e}:this,a=n.bubble;return a?i(s,a(f),o):i(s,n,function(e){var t=f(e.target);return t&&o.call(t,e)})}};var f=[].slice,l=i.emit=function(e,t,n){var r=f.call(arguments,2),i="on"+t;if("parentNode"in e){var s=r[0]={};for(var o in n)s[o]=n[o];s.preventDefault=u,s.stopPropagation=a,s.target=e,s.type=t,n=s}do e[i]&&e[i].apply(e,r);while(n&&n.bubbles&&(e=e.parentNode));return n&&n.cancelable&&n},c=n("event-focusin")?{}:{focusin:"focus",focusout:"blur"};if(!n("event-stopimmediatepropagation"))var h=function(){this.immediatelyStopped=!0,this.modified=!0},p=function(e){return function(t){if(!t.immediatelyStopped)return t.stopImmediatePropagation=h,e.apply(this,arguments)}};if(n("dom-addeventlistener"))i.emit=function(e,t,n){if(e.dispatchEvent&&document.createEvent){var r=e.ownerDocument.createEvent("HTMLEvents");r.initEvent(t,!!n.bubbles,!!n.cancelable);for(var s in n)s in r||(r[s]=n[s]);return e.dispatchEvent(r)&&r}return l.apply(i,arguments)};else{i._fixEvent=function(e,t){if(!e){var n=t&&(t.ownerDocument||t.document||t).parentWindow||window;e=n.event}if(!e)return e;try{d&&e.type==d.type&&e.srcElement==d.target&&(e=d)}catch(r){}if(!e.target){e.target=e.srcElement,e.currentTarget=t||e.srcElement,e.type=="mouseover"&&(e.relatedTarget=e.fromElement),e.type=="mouseout"&&(e.relatedTarget=e.toElement),e.stopPropagation||(e.stopPropagation=b,e.preventDefault=w);switch(e.type){case"keypress":var i="charCode"in e?e.charCode:e.keyCode;i==10?(i=0,e.keyCode=13):i==13||i==27?i=0:i==3&&(i=99),e.charCode=i,y(e)}}return e};var d,v=function(e){this.handle=e};v.prototype.remove=function(){delete _dojoIEListeners_[this.handle]};var m=function(e){return function(t){t=i._fixEvent(t,this);var n=e.call(this,t);return t.modified&&(d||setTimeout(function(){d=null}),d=t),n}},g=function(t,r,i){i=m(i);if(((t.ownerDocument?t.ownerDocument.parentWindow:t.parentWindow||t.window||window)!=top||n("jscript")<5.8)&&!n("config-_allow_leaks")){typeof _dojoIEListeners_=="undefined"&&(_dojoIEListeners_=[]);var s=t[r];if(!s||!s.listeners){var o=s;s=Function("event","var callee = arguments.callee; for(var i = 0; i<callee.listeners.length; i++){var listener = _dojoIEListeners_[callee.listeners[i]]; if(listener){listener.call(this,event);}}"),s.listeners=[],t[r]=s,s.global=this,o&&s.listeners.push(_dojoIEListeners_.push(o)-1)}var u;return s.listeners.push(u=s.global._dojoIEListeners_.push(i)-1),new v(u)}return e.after(t,r,i,!0)},y=function(e){e.keyChar=e.charCode?String.fromCharCode(e.charCode):"",e.charOrCode=e.keyChar||e.keyCode},b=function(){this.cancelBubble=!0},w=i._preventDefault=function(){this.bubbledKeyCode=this.keyCode;if(this.ctrlKey)try{this.keyCode=0}catch(e){}this.defaultPrevented=!0,this.returnValue=!1,this.modified=!0}}if(n("touch"))var E=function(){},S=window.orientation,x=function(e){return function(t){var r=t.corrected;if(!r){var i=t.type;try{delete t.type}catch(s){}if(t.type){if(n("mozilla")){var r={};for(var o in t)r[o]=t[o]}else{E.prototype=t;var r=new E}r.preventDefault=function(){t.preventDefault()},r.stopPropagation=function(){t.stopPropagation()}}else r=t,r.type=i;t.corrected=r;if(i=="resize")return S==window.orientation?null:(S=window.orientation,r.type="orientationchange",e.call(this,r));"rotation"in r||(r.rotation=0,r.scale=1);var u=r.changedTouches[0];for(var a in u)delete r[a],r[a]=u[a]}return e.call(this,r)}};return i})},"dojo/topic":function(){define(["./Evented"],function(e){var t=new e;return{publish:function(e,n){return t.emit.apply(t,arguments)},subscribe:function(e,n){return t.on.apply(t,arguments)}}})},"dojo/Evented":function(){define(["./aspect","./on"],function(e,t){"use strict";function r(){}var n=e.after;return r.prototype={on:function(e,r){return t.parse(this,e,r,function(e,t){return n(e,"on"+t,r,!0)})},emit:function(e,n){var r=[this];return r.push.apply(r,arguments),t.emit.apply(t,r)}},r})},"dojo/aspect":function(){define([],function(){"use strict";function n(e,n,r,i){var s=e[n],o=n=="around",u;if(o){var a=r(function(){return s.advice(this,arguments)});u={remove:function(){a&&(a=e=r=null)},advice:function(e,t){return a?a.apply(e,t):s.advice(e,t)}}}else u={remove:function(){if(u.advice){var t=u.previous,i=u.next;!i&&!t?delete e[n]:(t?t.next=i:e[n]=i,i&&(i.previous=t)),e=r=u.advice=null}},id:t++,advice:r,receiveArguments:i};if(s&&!o)if(n=="after"){while(s.next&&(s=s.next));s.next=u,u.previous=s}else n=="before"&&(e[n]=u,u.next=s,s.previous=u);else e[n]=u;return u}function r(r){return function(i,s,o,u){var a=i[s],f;if(!a||a.target!=i)i[s]=f=function(){var n=t,r=arguments,i=f.before;while(i)r=i.advice.apply(this,r)||r,i=i.next;if(f.around)var s=f.around.advice(this,r);var o=f.after;while(o&&o.id<n){if(o.receiveArguments){var u=o.advice.apply(this,r);s=u===e?s:u}else s=o.advice.call(this,s,r);o=o.next}return s},a&&(f.around={advice:function(e,t){return a.apply(e,t)}}),f.target=i;var l=n(f||a,r,o,u);return o=null,l}}var e,t=0,i=r("after"),s=r("before"),o=r("around");return{before:s,around:o,after:i}})},"dojo/_base/event":function(){define(["./kernel","../on","../has","../dom-geometry"],function(e,t,n,r){if(t._fixEvent){var i=t._fixEvent;t._fixEvent=function(e,t){return e=i(e,t),e&&r.normalizeEvent(e),e}}var s={fix:function(e,n){return t._fixEvent?t._fixEvent(e,n):e},stop:function(e){n("dom-addeventlistener")||e&&e.preventDefault?(e.preventDefault(),e.stopPropagation()):(e=e||window.event,e.cancelBubble=!0,t._preventDefault.call(e))}};return e.fixEvent=s.fix,e.stopEvent=s.stop,s})},"dojo/dom-geometry":function(){define(["./sniff","./_base/window","./dom","./dom-style"],function(e,t,n,r){function o(e,t,n,r,i,s){s=s||"px";var o=e.style;isNaN(t)||(o.left=t+s),isNaN(n)||(o.top=n+s),r>=0&&(o.width=r+s),i>=0&&(o.height=i+s)}function u(e){return e.tagName.toLowerCase()=="button"||e.tagName.toLowerCase()=="input"&&(e.getAttribute("type")||"").toLowerCase()=="button"}function a(e){return i.boxModel=="border-box"||e.tagName.toLowerCase()=="table"||u(e)}var i={};i.boxModel="content-box",e("ie")&&(i.boxModel=document.compatMode=="BackCompat"?"border-box":"content-box"),i.getPadExtents=function(t,i){t=n.byId(t);var s=i||r.getComputedStyle(t),o=r.toPixelValue,u=o(t,s.paddingLeft),a=o(t,s.paddingTop),f=o(t,s.paddingRight),l=o(t,s.paddingBottom);return{l:u,t:a,r:f,b:l,w:u+f,h:a+l}};var s="none";i.getBorderExtents=function(t,i){t=n.byId(t);var o=r.toPixelValue,u=i||r.getComputedStyle(t),a=u.borderLeftStyle!=s?o(t,u.borderLeftWidth):0,f=u.borderTopStyle!=s?o(t,u.borderTopWidth):0,l=u.borderRightStyle!=s?o(t,u.borderRightWidth):0,c=u.borderBottomStyle!=s?o(t,u.borderBottomWidth):0;return{l:a,t:f,r:l,b:c,w:a+l,h:f+c}},i.getPadBorderExtents=function(t,s){t=n.byId(t);var o=s||r.getComputedStyle(t),u=i.getPadExtents(t,o),a=i.getBorderExtents(t,o);return{l:u.l+a.l,t:u.t+a.t,r:u.r+a.r,b:u.b+a.b,w:u.w+a.w,h:u.h+a.h}},i.getMarginExtents=function(t,i){t=n.byId(t);var s=i||r.getComputedStyle(t),o=r.toPixelValue,u=o(t,s.marginLeft),a=o(t,s.marginTop),f=o(t,s.marginRight),l=o(t,s.marginBottom);return{l:u,t:a,r:f,b:l,w:u+f,h:a+l}},i.getMarginBox=function(o,u){o=n.byId(o);var a=u||r.getComputedStyle(o),f=i.getMarginExtents(o,a),l=o.offsetLeft-f.l,c=o.offsetTop-f.t,h=o.parentNode,p=r.toPixelValue,d;if(e("mozilla")){var v=parseFloat(a.left),m=parseFloat(a.top);!isNaN(v)&&!isNaN(m)?(l=v,c=m):h&&h.style&&(d=r.getComputedStyle(h),d.overflow!="visible"&&(l+=d.borderLeftStyle!=s?p(o,d.borderLeftWidth):0,c+=d.borderTopStyle!=s?p(o,d.borderTopWidth):0))}else(e("opera")||e("ie")==8&&!e("quirks"))&&h&&(d=r.getComputedStyle(h),l-=d.borderLeftStyle!=s?p(o,d.borderLeftWidth):0,c-=d.borderTopStyle!=s?p(o,d.borderTopWidth):0);return{l:l,t:c,w:o.offsetWidth+f.w,h:o.offsetHeight+f.h}},i.getContentBox=function(s,o){s=n.byId(s);var u=o||r.getComputedStyle(s),a=s.clientWidth,f,l=i.getPadExtents(s,u),c=i.getBorderExtents(s,u);return a?(f=s.clientHeight,c.w=c.h=0):(a=s.offsetWidth,f=s.offsetHeight),e("opera")&&(l.l+=c.l,l.t+=c.t),{l:l.l,t:l.t,w:a-l.w-c.w,h:f-l.h-c.h}},i.setContentSize=function(t,r,s){t=n.byId(t);var u=r.w,f=r.h;if(a(t)){var l=i.getPadBorderExtents(t,s);u>=0&&(u+=l.w),f>=0&&(f+=l.h)}o(t,NaN,NaN,u,f)};var f={l:0,t:0,w:0,h:0};return i.setMarginBox=function(s,l,c){s=n.byId(s);var h=c||r.getComputedStyle(s),p=l.w,d=l.h,v=a(s)?f:i.getPadBorderExtents(s,h),m=i.getMarginExtents(s,h);if(e("webkit")&&u(s)){var g=s.style;p>=0&&!g.width&&(g.width="4px"),d>=0&&!g.height&&(g.height="4px")}p>=0&&(p=Math.max(p-v.w-m.w,0)),d>=0&&(d=Math.max(d-v.h-m.h,0)),o(s,l.l,l.t,p,d)},i.isBodyLtr=function(n){return n=n||t.doc,(t.body(n).dir||n.documentElement.dir||"ltr").toLowerCase()=="ltr"},i.docScroll=function(r){r=r||t.doc;var s=t.doc.parentWindow||t.doc.defaultView;return"pageXOffset"in s?{x:s.pageXOffset,y:s.pageYOffset}:(s=e("quirks")?t.body(r):r.documentElement)&&{x:i.fixIeBiDiScrollLeft(s.scrollLeft||0,r),y:s.scrollTop||0}},e("ie")&&(i.getIeDocumentElementOffset=function(r){r=r||t.doc;var i=r.documentElement;if(e("ie")<8){var s=i.getBoundingClientRect(),o=s.left,u=s.top;return e("ie")<7&&(o+=i.clientLeft,u+=i.clientTop),{x:o<0?0:o,y:u<0?0:u}}return{x:0,y:0}}),i.fixIeBiDiScrollLeft=function(r,s){s=s||t.doc;var o=e("ie");if(o&&!i.isBodyLtr(s)){var u=e("quirks"),a=u?t.body(s):s.documentElement,f=t.global;return o==6&&!u&&f.frameElement&&a.scrollHeight>a.clientHeight&&(r+=a.clientLeft),o<8||u?r+a.clientWidth-a.scrollWidth:-r}return r},i.position=function(r,s){r=n.byId(r);var o=t.body(r.ownerDocument),u=r.getBoundingClientRect();u={x:u.left,y:u.top,w:u.right-u.left,h:u.bottom-u.top};if(e("ie")<9){var a=i.getIeDocumentElementOffset(r.ownerDocument);u.x-=a.x+(e("quirks")?o.clientLeft+o.offsetLeft:0),u.y-=a.y+(e("quirks")?o.clientTop+o.offsetTop:0)}if(s){var f=i.docScroll(r.ownerDocument);u.x+=f.x,u.y+=f.y}return u},i.getMarginSize=function(t,s){t=n.byId(t);var o=i.getMarginExtents(t,s||r.getComputedStyle(t)),u=t.getBoundingClientRect();return{w:u.right-u.left+o.w,h:u.bottom-u.top+o.h}},i.normalizeEvent=function(t){"layerX"in t||(t.layerX=t.offsetX,t.layerY=t.offsetY);if(!e("dom-addeventlistener")){var n=t.target,r=n&&n.ownerDocument||document,s=e("quirks")?r.body:r.documentElement,o=i.getIeDocumentElementOffset(r);t.pageX=t.clientX+i.fixIeBiDiScrollLeft(s.scrollLeft||0,r)-o.x,t.pageY=t.clientY+(s.scrollTop||0)-o.y}},i})},"dojo/_base/window":function(){define(["./kernel","./lang","../sniff"],function(e,t,n){var r={global:e.global,doc:this.document||null,body:function(t){return t=t||e.doc,t.body||t.getElementsByTagName("body")[0]},setContext:function(t,n){e.global=r.global=t,e.doc=r.doc=n},withGlobal:function(t,n,i,s){var o=e.global;try{return e.global=r.global=t,r.withDoc.call(null,t.document,n,i,s)}finally{e.global=r.global=o}},withDoc:function(t,i,s,o){var u=r.doc,a=n("quirks"),f=n("ie"),l,c,h;try{return e.doc=r.doc=t,e.isQuirks=n.add("quirks",e.doc.compatMode=="BackCompat",!0,!0),n("ie")&&(h=t.parentWindow)&&h.navigator&&(l=parseFloat(h.navigator.appVersion.split("MSIE ")[1])||undefined,c=t.documentMode,c&&c!=5&&Math.floor(l)!=c&&(l=c),e.isIE=n.add("ie",l,!0,!0)),s&&typeof i=="string"&&(i=s[i]),i.apply(s,o||[])}finally{e.doc=r.doc=u,e.isQuirks=n.add("quirks",a,!0,!0),e.isIE=n.add("ie",f,!0,!0)}}};return t.mixin(e,r),r})},"dojo/dom":function(){define(["./sniff","./_base/window"],function(e,t){if(e("ie")<=7)try{document.execCommand("BackgroundImageCache",!1,!0)}catch(n){}var r={};e("ie")?r.byId=function(e,n){if(typeof e!="string")return e;var r=n||t.doc,i=e&&r.getElementById(e);if(!(!i||i.attributes.id.value!=e&&i.id!=e))return i;var s=r.all[e];if(!s||s.nodeName)s=[s];var o=0;while(i=s[o++])if(i.attributes&&i.attributes.id&&i.attributes.id.value==e||i.id==e)return i}:r.byId=function(e,n){return(typeof e=="string"?(n||t.doc).getElementById(e):e)||null},r.isDescendant=function(e,t){try{e=r.byId(e),t=r.byId(t);while(e){if(e==t)return!0;e=e.parentNode}}catch(n){}return!1},e.add("css-user-select",function(e,t,n){if(!n)return!1;var r=n.style,i=["Khtml","O","ms","Moz","Webkit"],s=i.length,o="userSelect",u;do if(typeof r[o]!="undefined")return o;while(s--&&(o=i[s]+"UserSelect"));return!1});var i=e("css-user-select");return r.setSelectable=i?function(e,t){r.byId(e).style[i]=t?"":"none"}:function(e,t){e=r.byId(e);var n=e.getElementsByTagName("*"),i=n.length;if(t){e.removeAttribute("unselectable");while(i--)n[i].removeAttribute("unselectable")}else{e.setAttribute("unselectable","on");while(i--)n[i].setAttribute("unselectable","on")}},r})},"dojo/dom-style":function(){define(["./sniff","./dom"],function(e,t){function c(t,n,r){n=n.toLowerCase();if(e("ie")){if(r=="auto"){if(n=="height")return t.offsetHeight;if(n=="width")return t.offsetWidth}if(n=="fontweight")switch(r){case 700:return"bold";case 400:default:return"normal"}}return n in f||(f[n]=l.test(n)),f[n]?i(t,r):r}var n,r={};e("webkit")?n=function(e){var t;if(e.nodeType==1){var n=e.ownerDocument.defaultView;t=n.getComputedStyle(e,null),!t&&e.style&&(e.style.display="",t=n.getComputedStyle(e,null))}return t||{}}:e("ie")&&(e("ie")<9||e("quirks"))?n=function(e){return e.nodeType==1&&e.currentStyle?e.currentStyle:{}}:n=function(e){return e.nodeType==1?e.ownerDocument.defaultView.getComputedStyle(e,null):{}},r.getComputedStyle=n;var i;e("ie")?i=function(e,t){if(!t)return 0;if(t=="medium")return 4;if(t.slice&&t.slice(-2)=="px")return parseFloat(t);var n=e.style,r=e.runtimeStyle,i=e.currentStyle,s=n.left,o=r.left;r.left=i.left;try{n.left=t,t=n.pixelLeft}catch(u){t=0}return n.left=s,r.left=o,t}:i=function(e,t){return parseFloat(t)||0},r.toPixelValue=i;var s="DXImageTransform.Microsoft.Alpha",o=function(e,t){try{return e.filters.item(s)}catch(n){return t?{}:null}},u=e("ie")<9||e("ie")<10&&e("quirks")?function(e){try{return o(e).Opacity/100}catch(t){return 1}}:function(e){return n(e).opacity},a=e("ie")<9||e("ie")<10&&e("quirks")?function(e,t){t===""&&(t=1);var n=t*100,r=t===1;r?(e.style.zoom="",o(e)&&(e.style.filter=e.style.filter.replace(new RegExp("\\s*progid:"+s+"\\([^\\)]+?\\)","i"),""))):(e.style.zoom=1,o(e)?o(e,1).Opacity=n:e.style.filter+=" progid:"+s+"(Opacity="+n+")",o(e,1).Enabled=!0);if(e.tagName.toLowerCase()=="tr")for(var i=e.firstChild;i;i=i.nextSibling)i.tagName.toLowerCase()=="td"&&a(i,t);return t}:function(e,t){return e.style.opacity=t},f={left:!0,top:!0},l=/margin|padding|width|height|max|min|offset/,h={cssFloat:1,styleFloat:1,"float":1};return r.get=function(n,i){var s=t.byId(n),o=arguments.length,a=i=="opacity";if(o==2&&a)return u(s);i=h[i]?"cssFloat"in s.style?"cssFloat":"styleFloat":i;var f=r.getComputedStyle(s);return o==1?f:c(s,i,f[i]||s.style[i])},r.set=function(n,i,s){var o=t.byId(n),u=arguments.length,f=i=="opacity";i=h[i]?"cssFloat"in o.style?"cssFloat":"styleFloat":i;if(u==3)return f?a(o,s):o.style[i]=s;for(var l in i)r.set(n,l,i[l]);return r.getComputedStyle(o)},r})},"dojo/mouse":function(){define(["./_base/kernel","./on","./has","./dom","./_base/window"],function(e,t,n,r,i){function o(e,n){var i=function(i,s){return t(i,e,function(e){if(n)return n(e,s);if(!r.isDescendant(e.relatedTarget,i))return s.call(this,e)})};return i.bubble=function(t){return o(e,function(e,n){var r=t(e.target),i=e.relatedTarget;if(r&&r!=(i&&i.nodeType==1&&t(i)))return n.call(r,e)})},i}n.add("dom-quirks",i.doc&&i.doc.compatMode=="BackCompat"),n.add("events-mouseenter",i.doc&&"onmouseenter"in i.doc.createElement("div")),n.add("events-mousewheel",i.doc&&"onmousewheel"in i.doc);var s;n("dom-quirks")&&n("ie")||!n("dom-addeventlistener")?s={LEFT:1,MIDDLE:4,RIGHT:2,isButton:function(e,t){return e.button&t},isLeft:function(e){return e.button&1},isMiddle:function(e){return e.button&4},isRight:function(e){return e.button&2}}:s={LEFT:0,MIDDLE:1,RIGHT:2,isButton:function(e,t){return e.button==t},isLeft:function(e){return e.button==0},isMiddle:function(e){return e.button==1},isRight:function(e){return e.button==2}},e.mouseButtons=s;var u;return n("events-mousewheel")?u="mousewheel":u=function(e,n){return t(e,"DOMMouseScroll",function(e){e.wheelDelta=-e.detail,n.call(this,e)})},{_eventHandler:o,enter:o("mouseover"),leave:o("mouseout"),wheel:u,isLeft:s.isLeft,isMiddle:s.isMiddle,isRight:s.isRight}})},"dojo/_base/sniff":function(){define(["./kernel","./lang","../sniff"],function(e,t,n){return e._name="browser",t.mixin(e,{isBrowser:!0,isFF:n("ff"),isIE:n("ie"),isKhtml:n("khtml"),isWebKit:n("webkit"),isMozilla:n("mozilla"),isMoz:n("mozilla"),isOpera:n("opera"),isSafari:n("safari"),isChrome:n("chrome"),isMac:n("mac"),isIos:n("ios"),isAndroid:n("android"),isWii:n("wii"),isQuirks:n("quirks"),isAir:n("air")}),n})},"dojo/keys":function(){define(["./_base/kernel","./sniff"],function(e,t){return e.keys={BACKSPACE:8,TAB:9,CLEAR:12,ENTER:13,SHIFT:16,CTRL:17,ALT:18,META:t("webkit")?91:224,PAUSE:19,CAPS_LOCK:20,ESCAPE:27,SPACE:32,PAGE_UP:33,PAGE_DOWN:34,END:35,HOME:36,LEFT_ARROW:37,UP_ARROW:38,RIGHT_ARROW:39,DOWN_ARROW:40,INSERT:45,DELETE:46,HELP:47,LEFT_WINDOW:91,RIGHT_WINDOW:92,SELECT:93,NUMPAD_0:96,NUMPAD_1:97,NUMPAD_2:98,NUMPAD_3:99,NUMPAD_4:100,NUMPAD_5:101,NUMPAD_6:102,NUMPAD_7:103,NUMPAD_8:104,NUMPAD_9:105,NUMPAD_MULTIPLY:106,NUMPAD_PLUS:107,NUMPAD_ENTER:108,NUMPAD_MINUS:109,NUMPAD_PERIOD:110,NUMPAD_DIVIDE:111,F1:112,F2:113,F3:114,F4:115,F5:116,F6:117,F7:118,F8:119,F9:120,F10:121,F11:122,F12:123,F13:124,F14:125,F15:126,NUM_LOCK:144,SCROLL_LOCK:145,UP_DPAD:175,DOWN_DPAD:176,LEFT_DPAD:177,RIGHT_DPAD:178,copyKey:t("mac")&&!t("air")?t("safari")?91:224:17}})},"dojo/_base/Deferred":function(){define(["./kernel","../Deferred","../promise/Promise","../errors/CancelError","../has","./lang","../when"],function(e,t,n,r,i,s,o){var u=function(){},a=Object.freeze||function(){},f=e.Deferred=function(e){function g(e){if(l)throw new Error("This deferred has already been resolved");o=e,l=!0,y()}function y(){var e;while(!e&&v){var n=v;v=v.next;if(e=n.progress==u)l=!1;var r=p?n.error:n.resolved;i("config-useDeferredInstrumentation")&&p&&t.instrumentRejected&&t.instrumentRejected(o,!!r);if(r)try{var a=r(o);if(a&&typeof a.then=="function"){a.then(s.hitch(n.deferred,"resolve"),s.hitch(n.deferred,"reject"),s.hitch(n.deferred,"progress"));continue}var f=e&&a===undefined;e&&!f&&(p=a instanceof Error),n.deferred[f&&p?"reject":"resolve"](f?o:a)}catch(c){n.deferred.reject(c)}else p?n.deferred.reject(o):n.deferred.resolve(o)}}var o,l,c,h,p,d,v,m=this.promise=new n;this.isResolved=m.isResolved=function(){return h==0},this.isRejected=m.isRejected=function(){return h==1},this.isFulfilled=m.isFulfilled=function(){return h>=0},this.isCanceled=m.isCanceled=function(){return c},this.resolve=this.callback=function(e){this.fired=h=0,this.results=[e,null],g(e)},this.reject=this.errback=function(e){p=!0,this.fired=h=1,i("config-useDeferredInstrumentation")&&t.instrumentRejected&&t.instrumentRejected(e,!!v),g(e),this.results=[null,e]},this.progress=function(e){var t=v;while(t){var n=t.progress;n&&n(e),t=t.next}},this.addCallbacks=function(e,t){return this.then(e,t,u),this},m.then=this.then=function(e,t,n){var r=n==u?this:new f(m.cancel),i={resolved:e,error:t,progress:n,deferred:r};return v?d=d.next=i:v=d=i,l&&y(),r.promise};var b=this;m.cancel=this.cancel=function(){if(!l){var t=e&&e(b);l||(t instanceof Error||(t=new r(t)),t.log=!1,b.reject(t))}c=!0},a(m)};return s.extend(f,{addCallback:function(t){return this.addCallbacks(s.hitch.apply(e,arguments))},addErrback:function(t){return this.addCallbacks(null,s.hitch.apply(e,arguments))},addBoth:function(t){var n=s.hitch.apply(e,arguments);return this.addCallbacks(n,n)},fired:-1}),f.when=e.when=o,f})},"dojo/Deferred":function(){define(["./has","./_base/lang","./errors/CancelError","./promise/Promise","./promise/instrumentation"],function(e,t,n,r,i){"use strict";var s=0,o=1,u=2,a="This deferred has already been fulfilled.",f=Object.freeze||function(){},l=function(e,t,n,r,i){t===u&&d.instrumentRejected&&e.length===0&&d.instrumentRejected(n,!1,r,i);for(var s=0;s<e.length;s++)c(e[s],t,n,r)},c=function(e,t,n,r){var i=e[t],a=e.deferred;if(i)try{var f=i(n);if(t===s)typeof f!="undefined"&&p(a,t,f);else{if(f&&typeof f.then=="function"){e.cancel=f.cancel,f.then(h(a,o),h(a,u),h(a,s));return}p(a,o,f)}}catch(l){p(a,u,l)}else p(a,t,n);t===u&&d.instrumentRejected&&d.instrumentRejected(n,!!i,r,a.promise)},h=function(e,t){return function(n){p(e,t,n)}},p=function(e,t,n){if(!e.isCanceled())switch(t){case s:e.progress(n);break;case o:e.resolve(n);break;case u:e.reject(n)}},d=function(e){var t=this.promise=new r,i=this,h,p,v,m=!1,g=[];Error.captureStackTrace&&(Error.captureStackTrace(i,d),Error.captureStackTrace(t,d)),this.isResolved=t.isResolved=function(){return h===o},this.isRejected=t.isRejected=function(){return h===u},this.isFulfilled=t.isFulfilled=function(){return!!h},this.isCanceled=t.isCanceled=function(){return m},this.progress=function(e,n){if(!h)return l(g,s,e,null,i),t;if(n===!0)throw new Error(a);return t},this.resolve=function(e,n){if(!h)return l(g,h=o,p=e,null,i),g=null,t;if(n===!0)throw new Error(a);return t};var y=this.reject=function(e,n){if(!h)return Error.captureStackTrace&&Error.captureStackTrace(v={},y),l(g,h=u,p=e,v,i),g=null,t;if(n===!0)throw new Error(a);return t};this.then=t.then=function(e,n,r){var i=[r,e,n];return i.cancel=t.cancel,i.deferred=new d(function(e){return i.cancel&&i.cancel(e)}),h&&!g?c(i,h,p,v):g.push(i),i.deferred.promise},this.cancel=t.cancel=function(t,r){if(!h){if(e){var i=e(t);t=typeof i=="undefined"?t:i}m=!0;if(!h)return typeof t=="undefined"&&(t=new n),y(t),t;if(h===u&&p===t)return t}else if(r===!0)throw new Error(a)},f(t)};return d.prototype.toString=function(){return"[object Deferred]"},i&&i(d),d})},"dojo/errors/CancelError":function(){define(["./create"],function(e){return e("CancelError",null,null,{dojoType:"cancel"})})},"dojo/errors/create":function(){define(["../_base/lang"],function(e){return function(t,n,r,i){r=r||Error;var s=function(e){if(r===Error){Error.captureStackTrace&&Error.captureStackTrace(this,s);var t=Error.call(this,e),i;for(i in t)t.hasOwnProperty(i)&&(this[i]=t[i]);this.message=e,this.stack=t.stack}else r.apply(this,arguments);n&&n.apply(this,arguments)};return s.prototype=e.delegate(r.prototype,i),s.prototype.name=t,s.prototype.constructor=s,s}})},"dojo/promise/Promise":function(){define(["../_base/lang"],function(e){"use strict";function t(){throw new TypeError("abstract")}return e.extend(function(){},{then:function(e,n,r){t()},cancel:function(e,n){t()},isResolved:function(){t()},isRejected:function(){t()},isFulfilled:function(){t()},isCanceled:function(){t()},always:function(e){return this.then(e,e)},otherwise:function(e){return this.then(null,e)},trace:function(){return this},traceRejected:function(){return this},toString:function(){return"[object Promise]"}})})},"dojo/promise/instrumentation":function(){define(["./tracer","../has","../_base/lang","../_base/array"],function(e,t,n,r){function i(e,t,n){var r="";e&&e.stack&&(r+=e.stack),t&&t.stack&&(r+="\n    ----------------------------------------\n    rejected"+t.stack.split("\n").slice(1).join("\n").replace(/^\s+/," ")),n&&n.stack&&(r+="\n    ----------------------------------------\n"+n.stack),0}function s(e,t,n,r){t||i(e,n,r)}function f(e,t,n,i){t?r.some(o,function(t,n){if(t.error===e)return o.splice(n,1),!0}):r.some(o,function(t){return t.error===e})||o.push({error:e,rejection:n,deferred:i,timestamp:(new Date).getTime()}),u||(u=setTimeout(l,a))}function l(){var e=(new Date).getTime(),t=e-a;o=r.filter(o,function(e){return e.timestamp<t?(i(e.error,e.rejection,e.deferred),!1):!0}),o.length?u=setTimeout(l,o[0].timestamp+a-e):u=!1}var o=[],u=!1,a=1e3;return function(r){var i=t("config-useDeferredInstrumentation");if(i){e.on("resolved",n.hitch(console,"log","resolved")),e.on("rejected",n.hitch(console,"log","rejected")),e.on("progress",n.hitch(console,"log","progress"));var o=[];typeof i=="string"&&(o=i.split(","),i=o.shift());if(i==="report-rejections")r.instrumentRejected=s;else{if(i!=="report-unhandled-rejections"&&i!==!0&&i!==1)throw new Error("Unsupported instrumentation usage <"+i+">");r.instrumentRejected=f,a=parseInt(o[0],10)||a}}}})},"dojo/promise/tracer":function(){define(["../_base/lang","./Promise","../Evented"],function(e,t,n){"use strict";function s(e){setTimeout(function(){i.apply(r,e)},0)}var r=new n,i=r.emit;return r.emit=null,t.prototype.trace=function(){var t=e._toArray(arguments);return this.then(function(e){s(["resolved",e].concat(t))},function(e){s(["rejected",e].concat(t))},function(e){s(["progress",e].concat(t))}),this},t.prototype.traceRejected=function(){var t=e._toArray(arguments);return this.otherwise(function(e){s(["rejected",e].concat(t))}),this},r})},"dojo/when":function(){define(["./Deferred","./promise/Promise"],function(e,t){"use strict";return function(r,i,s,o){var u=r&&typeof r.then=="function",a=u&&r instanceof t;if(!u)return arguments.length>1?i?i(r):r:(new e).resolve(r);if(!a){var f=new e(r.cancel);r.then(f.resolve,f.reject,f.progress),r=f.promise}return i||s||o?r.then(i,s,o):r}})},"dojo/_base/json":function(){define(["./kernel","../json"],function(dojo,json){return dojo.fromJson=function(js){return eval("("+js+")")},dojo._escapeString=json.stringify,dojo.toJsonIndentStr="	",dojo.toJson=function(e,t){return json.stringify(e,function(e,t){if(t){var n=t.__json__||t.json;if(typeof n=="function")return n.call(t)}return t},t&&dojo.toJsonIndentStr)},dojo})},"dojo/json":function(){define(["./has"],function(has){"use strict";var hasJSON=typeof JSON!="undefined";has.add("json-parse",hasJSON),has.add("json-stringify",hasJSON&&JSON.stringify({a:0},function(e,t){return t||1})=='{"a":1}');if(has("json-stringify"))return JSON;var escapeString=function(e){return('"'+e.replace(/(["\\])/g,"\\$1")+'"').replace(/[\f]/g,"\\f").replace(/[\b]/g,"\\b").replace(/[\n]/g,"\\n").replace(/[\t]/g,"\\t").replace(/[\r]/g,"\\r")};return{parse:has("json-parse")?JSON.parse:function(str,strict){if(strict&&!/^([\s\[\{]*(?:"(?:\\.|[^"])*"|-?\d[\d\.]*(?:[Ee][+-]?\d+)?|null|true|false|)[\s\]\}]*(?:,|:|$))+$/.test(str))throw new SyntaxError("Invalid characters in JSON");return eval("("+str+")")},stringify:function(e,t,n){function i(e,s,o){t&&(e=t(o,e));var u,a=typeof e;if(a=="number")return isFinite(e)?e+"":"null";if(a=="boolean")return e+"";if(e===null)return"null";if(typeof e=="string")return escapeString(e);if(a=="function"||a=="undefined")return r;if(typeof e.toJSON=="function")return i(e.toJSON(o),s,o);if(e instanceof Date)return'"{FullYear}-{Month+}-{Date}T{Hours}:{Minutes}:{Seconds}Z"'.replace(/\{(\w+)(\+)?\}/g,function(t,n,r){var i=e["getUTC"+n]()+(r?1:0);return i<10?"0"+i:i});if(e.valueOf()!==e)return i(e.valueOf(),s,o);var f=n?s+n:"",l=n?" ":"",c=n?"\n":"";if(e instanceof Array){var h=e.length,p=[];for(o=0;o<h;o++){var d=e[o];u=i(d,f,o),typeof u!="string"&&(u="null"),p.push(c+f+u)}return"["+p.join(",")+c+s+"]"}var v=[];for(o in e){var m;if(e.hasOwnProperty(o)){if(typeof o=="number")m='"'+o+'"';else{if(typeof o!="string")continue;m=escapeString(o)}u=i(e[o],f,o);if(typeof u!="string")continue;v.push(c+f+m+":"+l+u)}}return"{"+v.join(",")+c+s+"}"}var r;return typeof t=="string"&&(n=t,t=null),i(e,"","")}}})},"dojo/_base/Color":function(){define(["./kernel","./lang","./array","./config"],function(e,t,n,r){var i=e.Color=function(e){e&&this.setColor(e)};return i.named={black:[0,0,0],silver:[192,192,192],gray:[128,128,128],white:[255,255,255],maroon:[128,0,0],red:[255,0,0],purple:[128,0,128],fuchsia:[255,0,255],green:[0,128,0],lime:[0,255,0],olive:[128,128,0],yellow:[255,255,0],navy:[0,0,128],blue:[0,0,255],teal:[0,128,128],aqua:[0,255,255],transparent:r.transparentColor||[0,0,0,0]},t.extend(i,{r:255,g:255,b:255,a:1,_set:function(e,t,n,r){var i=this;i.r=e,i.g=t,i.b=n,i.a=r},setColor:function(e){return t.isString(e)?i.fromString(e,this):t.isArray(e)?i.fromArray(e,this):(this._set(e.r,e.g,e.b,e.a),e instanceof i||this.sanitize()),this},sanitize:function(){return this},toRgb:function(){var e=this;return[e.r,e.g,e.b]},toRgba:function(){var e=this;return[e.r,e.g,e.b,e.a]},toHex:function(){var e=n.map(["r","g","b"],function(e){var t=this[e].toString(16);return t.length<2?"0"+t:t},this);return"#"+e.join("")},toCss:function(e){var t=this,n=t.r+", "+t.g+", "+t.b;return(e?"rgba("+n+", "+t.a:"rgb("+n)+")"},toString:function(){return this.toCss(!0)}}),i.blendColors=e.blendColors=function(e,t,r,s){var o=s||new i;return n.forEach(["r","g","b","a"],function(n){o[n]=e[n]+(t[n]-e[n])*r,n!="a"&&(o[n]=Math.round(o[n]))}),o.sanitize()},i.fromRgb=e.colorFromRgb=function(e,t){var n=e.toLowerCase().match(/^rgba?\(([\s\.,0-9]+)\)/);return n&&i.fromArray(n[1].split(/\s*,\s*/),t)},i.fromHex=e.colorFromHex=function(e,t){var r=t||new i,s=e.length==4?4:8,o=(1<<s)-1;return e=Number("0x"+e.substr(1)),isNaN(e)?null:(n.forEach(["b","g","r"],function(t){var n=e&o;e>>=s,r[t]=s==4?17*n:n}),r.a=1,r)},i.fromArray=e.colorFromArray=function(e,t){var n=t||new i;return n._set(Number(e[0]),Number(e[1]),Number(e[2]),Number(e[3])),isNaN(n.a)&&(n.a=1),n.sanitize()},i.fromString=e.colorFromString=function(e,t){var n=i.named[e];return n&&i.fromArray(n,t)||i.fromRgb(e,t)||i.fromHex(e,t)},i})},"dojo/_base/browser":function(){require.has&&require.has.add("config-selectorEngine","acme"),define(["../ready","./kernel","./connect","./unload","./window","./event","./html","./NodeList","../query","./xhr","./fx"],function(e){return e})},"dojo/_base/unload":function(){define(["./kernel","./lang","../on"],function(e,t,n){var r=window,i={addOnWindowUnload:function(i,s){e.windowUnloaded||n(r,"unload",e.windowUnloaded=function(){}),n(r,"unload",t.hitch(i,s))},addOnUnload:function(e,i){n(r,"beforeunload",t.hitch(e,i))}};return e.addOnWindowUnload=i.addOnWindowUnload,e.addOnUnload=i.addOnUnload,i})},"dojo/_base/html":function(){define(["./kernel","../dom","../dom-style","../dom-attr","../dom-prop","../dom-class","../dom-construct","../dom-geometry"],function(e,t,n,r,i,s,o,u){return e.byId=t.byId,e.isDescendant=t.isDescendant,e.setSelectable=t.setSelectable,e.getAttr=r.get,e.setAttr=r.set,e.hasAttr=r.has,e.removeAttr=r.remove,e.getNodeProp=r.getNodeProp,e.attr=function(e,t,n){return arguments.length==2?r[typeof t=="string"?"get":"set"](e,t):r.set(e,t,n)},e.hasClass=s.contains,e.addClass=s.add,e.removeClass=s.remove,e.toggleClass=s.toggle,e.replaceClass=s.replace,e._toDom=e.toDom=o.toDom,e.place=o.place,e.create=o.create,e.empty=function(e){o.empty(e)},e._destroyElement=e.destroy=function(e){o.destroy(e)},e._getPadExtents=e.getPadExtents=u.getPadExtents,e._getBorderExtents=e.getBorderExtents=u.getBorderExtents,e._getPadBorderExtents=e.getPadBorderExtents=u.getPadBorderExtents,e._getMarginExtents=e.getMarginExtents=u.getMarginExtents,e._getMarginSize=e.getMarginSize=u.getMarginSize,e._getMarginBox=e.getMarginBox=u.getMarginBox,e.setMarginBox=u.setMarginBox,e._getContentBox=e.getContentBox=u.getContentBox,e.setContentSize=u.setContentSize,e._isBodyLtr=e.isBodyLtr=u.isBodyLtr,e._docScroll=e.docScroll=u.docScroll,e._getIeDocumentElementOffset=e.getIeDocumentElementOffset=u.getIeDocumentElementOffset,e._fixIeBiDiScrollLeft=e.fixIeBiDiScrollLeft=u.fixIeBiDiScrollLeft,e.position=u.position,e.marginBox=function(t,n){return n?u.setMarginBox(t,n):u.getMarginBox(t)},e.contentBox=function(t,n){return n?u.setContentSize(t,n):u.getContentBox(t)},e.coords=function(r,i){e.deprecated("dojo.coords()","Use dojo.position() or dojo.marginBox()."),r=t.byId(r);var s=n.getComputedStyle(r),o=u.getMarginBox(r,s),a=u.position(r,i);return o.x=a.x,o.y=a.y,o},e.getProp=i.get,e.setProp=i.set,e.prop=function(e,t,n){return arguments.length==2?i[typeof t=="string"?"get":"set"](e,t):i.set(e,t,n)},e.getStyle=n.get,e.setStyle=n.set,e.getComputedStyle=n.getComputedStyle,e.__toPixelValue=e.toPixelValue=n.toPixelValue,e.style=function(e,t,r){switch(arguments.length){case 1:return n.get(e);case 2:return n[typeof t=="string"?"get":"set"](e,t)}return n.set(e,t,r)},e})},"dojo/dom-attr":function(){define(["exports","./sniff","./_base/lang","./dom","./dom-style","./dom-prop"],function(e,t,n,r,i,s){function a(e,t){var n=e.getAttributeNode&&e.getAttributeNode(t);return n&&n.specified}var o={innerHTML:1,className:1,htmlFor:t("ie"),value:1},u={classname:"class",htmlfor:"for",tabindex:"tabIndex",readonly:"readOnly"};e.has=function(t,n){var i=n.toLowerCase();return o[s.names[i]||n]||a(r.byId(t),u[i]||n)},e.get=function(t,i){t=r.byId(t);var f=i.toLowerCase(),l=s.names[f]||i,c=o[l],h=t[l];if(c&&typeof h!="undefined")return h;if(l=="href"||typeof h!="boolean"&&!n.isFunction(h)){var p=u[f]||i;return a(t,p)?t.getAttribute(p):null}return h},e.set=function(a,f,l){a=r.byId(a);if(arguments.length==2){for(var c in f)e.set(a,c,f[c]);return a}var h=f.toLowerCase(),p=s.names[h]||f,d=o[p];return p=="style"&&typeof l!="string"?(i.set(a,l),a):d||typeof l=="boolean"||n.isFunction(l)?s.set(a,f,l):(a.setAttribute(u[h]||f,l),a)},e.remove=function(t,n){r.byId(t).removeAttribute(u[n.toLowerCase()]||n)},e.getNodeProp=function(t,n){t=r.byId(t);var i=n.toLowerCase(),o=s.names[i]||n;if(o in t&&o!="href")return t[o];var f=u[i]||n;return a(t,f)?t.getAttribute(f):null}})},"dojo/dom-prop":function(){define(["exports","./_base/kernel","./sniff","./_base/lang","./dom","./dom-style","./dom-construct","./_base/connect"],function(e,t,n,r,i,s,o,u){var a={},f=0,l=t._scopeName+"attrid";e.names={"class":"className","for":"htmlFor",tabindex:"tabIndex",readonly:"readOnly",colspan:"colSpan",frameborder:"frameBorder",rowspan:"rowSpan",valuetype:"valueType"},e.get=function(n,r){n=i.byId(n);var s=r.toLowerCase(),o=e.names[s]||r;return n[o]},e.set=function(c,h,p){c=i.byId(c);var d=arguments.length;if(d==2&&typeof h!="string"){for(var v in h)e.set(c,v,h[v]);return c}var m=h.toLowerCase(),g=e.names[m]||h;if(g=="style"&&typeof p!="string")return s.set(c,p),c;if(g=="innerHTML")return n("ie")&&c.tagName.toLowerCase()in{col:1,colgroup:1,table:1,tbody:1,tfoot:1,thead:1,tr:1,title:1}?(o.empty(c),c.appendChild(o.toDom(p,c.ownerDocument))):c[g]=p,c;if(r.isFunction(p)){var y=c[l];y||(y=f++,c[l]=y),a[y]||(a[y]={});var b=a[y][g];if(b)u.disconnect(b);else try{delete c[g]}catch(w){}return p?a[y][g]=u.connect(c,g,p):c[g]=null,c}return c[g]=p,c}})},"dojo/dom-construct":function(){define(["exports","./_base/kernel","./sniff","./_base/window","./dom","./dom-attr"],function(e,t,n,r,i,s){function d(e,t){var n=t.parentNode;n&&n.insertBefore(e,t)}function v(e,t){var n=t.parentNode;n&&(n.lastChild==t?n.appendChild(e):n.insertBefore(e,t.nextSibling))}function g(e){if(e.canHaveChildren)try{e.innerHTML="";return}catch(t){}for(var n;n=e.lastChild;)y(n,e)}function y(e,t){e.firstChild&&g(e),t&&(n("ie")&&t.canHaveChildren&&"removeNode"in e?e.removeNode(!1):t.removeChild(e))}var o={option:["select"],tbody:["table"],thead:["table"],tfoot:["table"],tr:["table","tbody"],td:["table","tbody","tr"],th:["table","thead","tr"],legend:["fieldset"],caption:["table"],colgroup:["table"],col:["table","colgroup"],li:["ul"]},u=/<\s*([\w\:]+)/,a={},f=0,l="__"+t._scopeName+"ToDomId";for(var c in o)if(o.hasOwnProperty(c)){var h=o[c];h.pre=c=="option"?'<select multiple="multiple">':"<"+h.join("><")+">",h.post="</"+h.reverse().join("></")+">"}var p;n("ie")<=8&&(p=function(e){e.__dojo_html5_tested="yes";var t=m("div",{innerHTML:"<nav>a</nav>",style:{visibility:"hidden"}},e.body);t.childNodes.length!==1&&"abbr article aside audio canvas details figcaption figure footer header hgroup mark meter nav output progress section summary time video".replace(/\b\w+\b/g,function(t){e.createElement(t)}),b(t)}),e.toDom=function(t,i){i=i||r.doc;var s=i[l];s||(i[l]=s=++f+"",a[s]=i.createElement("div")),n("ie")<=8&&!i.__dojo_html5_tested&&i.body&&p(i),t+="";var c=t.match(u),h=c?c[1].toLowerCase():"",d=a[s],v,m,g,y;if(c&&o[h]){v=o[h],d.innerHTML=v.pre+t+v.post;for(m=v.length;m;--m)d=d.firstChild}else d.innerHTML=t;if(d.childNodes.length==1)return d.removeChild(d.firstChild);y=i.createDocumentFragment();while(g=d.firstChild)y.appendChild(g);return y},e.place=function(n,r,s){r=i.byId(r),typeof n=="string"&&(n=/^\s*</.test(n)?e.toDom(n,r.ownerDocument):i.byId(n));if(typeof s=="number"){var o=r.childNodes;!o.length||o.length<=s?r.appendChild(n):d(n,o[s<0?0:s])}else switch(s){case"before":d(n,r);break;case"after":v(n,r);break;case"replace":r.parentNode.replaceChild(n,r);break;case"only":e.empty(r),r.appendChild(n);break;case"first":if(r.firstChild){d(n,r.firstChild);break};default:r.appendChild(n)}return n};var m=e.create=function(n,o,u,a){var f=r.doc;return u&&(u=i.byId(u),f=u.ownerDocument),typeof n=="string"&&(n=f.createElement(n)),o&&s.set(n,o),u&&e.place(n,u,a),n};e.empty=function(t){g(i.byId(t))};var b=e.destroy=function(t){t=i.byId(t);if(!t)return;y(t,t.parentNode)}})},"dojo/dom-class":function(){define(["./_base/lang","./_base/array","./dom"],function(e,t,n){function u(e){if(typeof e=="string"||e instanceof String){if(e&&!s.test(e))return o[0]=e,o;var n=e.split(s);return n.length&&!n[0]&&n.shift(),n.length&&!n[n.length-1]&&n.pop(),n}return e?t.filter(e,function(e){return e}):[]}var r="className",i,s=/\s+/,o=[""],a={};return i={contains:function(t,i){return(" "+n.byId(t)[r]+" ").indexOf(" "+i+" ")>=0},add:function(t,i){t=n.byId(t),i=u(i);var s=t[r],o;s=s?" "+s+" ":" ",o=s.length;for(var a=0,f=i.length,l;a<f;++a)l=i[a],l&&s.indexOf(" "+l+" ")<0&&(s+=l+" ");o<s.length&&(t[r]=s.substr(1,s.length-2))},remove:function(i,s){i=n.byId(i);var o;if(s!==undefined){s=u(s),o=" "+i[r]+" ";for(var a=0,f=s.length;a<f;++a)o=o.replace(" "+s[a]+" "," ");o=e.trim(o)}else o="";i[r]!=o&&(i[r]=o)},replace:function(t,s,o){t=n.byId(t),a[r]=t[r],i.remove(a,o),i.add(a,s),t[r]!==a[r]&&(t[r]=a[r])},toggle:function(t,r,s){t=n.byId(t);if(s===undefined){r=u(r);for(var o=0,a=r.length,f;o<a;++o)f=r[o],i[i.contains(t,f)?"remove":"add"](t,f)}else i[s?"add":"remove"](t,r);return s}},i})},"dojo/_base/NodeList":function(){define(["./kernel","../query","./array","./html","../NodeList-dom"],function(e,t,n){var r=t.NodeList,i=r.prototype;return i.connect=r._adaptAsForEach(function(){return e.connect.apply(this,arguments)}),i.coords=r._adaptAsMap(e.coords),r.events=["blur","focus","change","click","error","keydown","keypress","keyup","load","mousedown","mouseenter","mouseleave","mousemove","mouseout","mouseover","mouseup","submit"],n.forEach(r.events,function(e){var t="on"+e;i[t]=function(e,n){return this.connect(t,e,n)}}),e.NodeList=r,r})},"dojo/query":function(){define(["./_base/kernel","./has","./dom","./on","./_base/array","./_base/lang","./selector/_loader","./selector/_loader!default"],function(e,t,n,r,i,s,o,u){"use strict";function E(e,t){var r=function(r,i){if(typeof i=="string"){i=n.byId(i);if(!i)return new t([])}var s=typeof r=="string"?e(r,i):r?r.end&&r.on?r:[r]:[];return s.end&&s.on?s:new t(s)};r.matches=e.match||function(e,t,n){return r.filter([e],t,n).length>0},r.filter=e.filter||function(e,t,n){return r(t,n).filter(function(t){return i.indexOf(e,t)>-1})};if(typeof e!="function"){var s=e.search;e=function(e,t){return s(t||document,e)}}return r}t.add("array-extensible",function(){return s.delegate([],{length:1}).length==1&&!t("bug-for-in-skips-shadowed")});var a=Array.prototype,f=a.slice,l=a.concat,c=i.forEach,h=function(e,t,n){var r=new(n||this._NodeListCtor||b)(e);return t?r._stash(t):r},p=function(t,n,r){return n=[0].concat(f.call(n,0)),r=r||e.global,function(e){return n[0]=e,t.apply(r,n)}},d=function(e,t){return function(){return this.forEach(p(e,arguments,t)),this}},v=function(e,t){return function(){return this.map(p(e,arguments,t))}},m=function(e,t){return function(){return this.filter(p(e,arguments,t))}},g=function(t,n,r){return function(){var i=arguments,s=p(t,i,r);return n.call(r||e.global,i)?this.map(s):(this.forEach(s),this)}},y=function(e){var n=this instanceof b&&t("array-extensible");typeof e=="number"&&(e=Array(e));var r=e&&"length"in e?e:arguments;if(n||!r.sort){var i=n?this:[],o=i.length=r.length;for(var u=0;u<o;u++)i[u]=r[u];if(n)return i;r=i}return s._mixin(r,w),r._NodeListCtor=function(e){return b(e)},r},b=y,w=b.prototype=t("array-extensible")?[]:{};b._wrap=w._wrap=h,b._adaptAsMap=v,b._adaptAsForEach=d,b._adaptAsFilter=m,b._adaptWithCondition=g,c(["slice","splice"],function(e){var t=a[e];w[e]=function(){return this._wrap(t.apply(this,arguments),e=="slice"?this:null)}}),c(["indexOf","lastIndexOf","every","some"],function(t){var n=i[t];w[t]=function(){return n.apply(e,[this].concat(f.call(arguments,0)))}}),s.extend(y,{constructor:b,_NodeListCtor:b,toString:function(){return this.join(",")},_stash:function(e){return this._parent=e,this},on:function(e,t){var n=this.map(function(n){return r(n,e,t)});return n.remove=function(){for(var e=0;e<n.length;e++)n[e].remove()},n},end:function(){return this._parent?this._parent:new this._NodeListCtor(0)},concat:function(e){var t=f.call(this,0),n=i.map(arguments,function(e){return f.call(e,0)});return this._wrap(l.apply(t,n),this)},map:function(e,t){return this._wrap(i.map(this,e,t),this)},forEach:function(e,t){return c(this,e,t),this},filter:function(e){var t=arguments,n=this,r=0;if(typeof e=="string"){n=S._filterResult(this,t[0]);if(t.length==1)return n._stash(this);r=1}return this._wrap(i.filter(n,t[r],t[r+1]),this)},instantiate:function(e,t){var n=s.isFunction(e)?e:s.getObject(e);return t=t||{},this.forEach(function(e){new n(t,e)})},at:function(){var e=new this._NodeListCtor(0);return c(arguments,function(t){t<0&&(t=this.length+t),this[t]&&e.push(this[t])},this),e._stash(this)}});var S=E(u,y);return e.query=E(u,function(e){return y(e)}),S.load=function(e,t,n){o.load(e,t,function(e){n(E(e,y))})},e._filterQueryResult=S._filterResult=function(e,t,n){return new y(S.filter(e,t,n))},e.NodeList=S.NodeList=y,S})},"dojo/selector/_loader":function(){define(["../has","require"],function(e,t){"use strict";var n=document.createElement("div");e.add("dom-qsa2.1",!!n.querySelectorAll),e.add("dom-qsa3",function(){try{return n.innerHTML="<p class='TEST'></p>",n.querySelectorAll(".TEST:empty").length==1}catch(e){}});var r,i="./acme",s="./lite";return{load:function(n,o,u,a){var f=t;n=n=="default"?e("config-selectorEngine")||"css3":n,n=n=="css2"||n=="lite"?s:n=="css2.1"?e("dom-qsa2.1")?s:i:n=="css3"?e("dom-qsa3")?s:i:n=="acme"?i:(f=o)&&n;if(n.charAt(n.length-1)=="?"){n=n.substring(0,n.length-1);var l=!0}if(l&&(e("dom-compliant-qsa")||r))return u(r);f([n],function(e){n!="./lite"&&(r=e),u(e)})}}})},"dojo/selector/lite":function(){define(["../has","../_base/kernel"],function(e,t){"use strict";var n=document.createElement("div"),r=n.matchesSelector||n.webkitMatchesSelector||n.mozMatchesSelector||n.msMatchesSelector||n.oMatchesSelector,i=n.querySelectorAll,s=/([^\s,](?:"(?:\\.|[^"])+"|'(?:\\.|[^'])+'|[^,])*)/g;e.add("dom-matches-selector",!!r),e.add("dom-qsa",!!i);var o=function(e,n){if(f&&e.indexOf(",")>-1)return f(e,n);var r=n?n.ownerDocument||n:t.doc||document,s=(i?/^([\w]*)#([\w\-]+$)|^(\.)([\w\-\*]+$)|^(\w+$)/:/^([\w]*)#([\w\-]+)(?:\s+(.*))?$|(?:^|(>|.+\s+))([\w\-\*]+)(\S*$)/).exec(e);n=n||r;if(s){if(s[2]){var l=t.byId?t.byId(s[2],r):r.getElementById(s[2]);if(!l||s[1]&&s[1]!=l.tagName.toLowerCase())return[];if(n!=r){var c=l;while(c!=n){c=c.parentNode;if(!c)return[]}}return s[3]?o(s[3],l):[l]}if(s[3]&&n.getElementsByClassName)return n.getElementsByClassName(s[4]);var l;if(s[5]){l=n.getElementsByTagName(s[5]);if(!s[4]&&!s[6])return l;e=(s[4]||"")+s[6]}}if(i)return n.nodeType===1&&n.nodeName.toLowerCase()!=="object"?u(n,e,n.querySelectorAll):n.querySelectorAll(e);l||(l=n.getElementsByTagName("*"));var h=[];for(var p=0,d=l.length;p<d;p++){var v=l[p];v.nodeType==1&&a(v,e,n)&&h.push(v)}return h},u=function(e,t,n){var r=e,i=e.getAttribute("id"),o=i||"__dojo__",u=e.parentNode,a=/^\s*[+~]/.test(t);if(a&&!u)return[];i?o=o.replace(/'/g,"\\$&"):e.setAttribute("id",o),a&&u&&(e=e.parentNode);var f=t.match(s);for(var l=0;l<f.length;l++)f[l]="[id='"+o+"'] "+f[l];t=f.join(",");try{return n.call(e,t)}finally{i||r.removeAttribute("id")}};if(!e("dom-matches-selector"))var a=function(){function i(e,t,n){var i=t.charAt(0);if(i=='"'||i=="'")t=t.slice(1,-1);t=t.replace(/\\/g,"");var s=r[n||""];return function(n){var r=n.getAttribute(e);return r&&s(r,t)}}function s(e){return function(t,n){while((t=t.parentNode)!=n)if(e(t,n))return!0}}function o(e){return function(t,n){return t=t.parentNode,e?t!=n&&e(t,n):t==n}}function a(e,t){return e?function(n,r){return t(n)&&e(n,r)}:t}var e=n.tagName=="div"?"toLowerCase":"toUpperCase",t={"":function(t){return t=t[e](),function(e){return e.tagName==t}},".":function(e){var t=" "+e+" ";return function(n){return n.className.indexOf(e)>-1&&(" "+n.className+" ").indexOf(t)>-1}},"#":function(e){return function(t){return t.id==e}}},r={"^=":function(e,t){return e.indexOf(t)==0},"*=":function(e,t){return e.indexOf(t)>-1},"$=":function(e,t){return e.substring(e.length-t.length,e.length)==t},"~=":function(e,t){return(" "+e+" ").indexOf(" "+t+" ")>-1},"|=":function(e,t){return(e+"-").indexOf(t+"-")==0},"=":function(e,t){return e==t},"":function(e,t){return!0}},u={};return function(e,n,r){var f=u[n];if(!f){if(n.replace(/(?:\s*([> ])\s*)|(#|\.)?((?:\\.|[\w-])+)|\[\s*([\w-]+)\s*(.?=)?\s*("(?:\\.|[^"])+"|'(?:\\.|[^'])+'|(?:\\.|[^\]])*)\s*\]/g,function(e,n,r,u,l,c,h){return u?f=a(f,t[r||""](u.replace(/\\/g,""))):n?f=(n==" "?s:o)(f):l&&(f=a(f,i(l,h,c))),""}))throw new Error("Syntax error in query");if(!f)return!0;u[n]=f}return f(e,r)}}();if(!e("dom-qsa"))var f=function(e,t){var n=e.match(s),r=[];for(var i=0;i<n.length;i++){e=new String(n[i].replace(/\s*$/,"")),e.indexOf=escape;var u=o(e,t);for(var a=0,f=u.length;a<f;a++){var l=u[a];r[l.sourceIndex]=l}}var c=[];for(i in r)c.push(r[i]);return c};return o.match=r?function(e,t,n){return n&&n.nodeType!=9?u(n,t,function(t){return r.call(e,t)}):r.call(e,t)}:a,o})},"dojo/NodeList-dom":function(){define(["./_base/kernel","./query","./_base/array","./_base/lang","./dom-class","./dom-construct","./dom-geometry","./dom-attr","./dom-style"],function(e,t,n,r,i,s,o,u,a){function v(e){return function(t,n,r){return arguments.length==2?e[typeof n=="string"?"get":"set"](t,n):e.set(t,n,r)}}var f=function(e){return e.length==1&&typeof e[0]=="string"},l=function(e){var t=e.parentNode;t&&t.removeChild(e)},c=t.NodeList,h=c._adaptWithCondition,p=c._adaptAsForEach,d=c._adaptAsMap;return r.extend(c,{_normalize:function(t,n){var i=t.parse===!0;if(typeof t.template=="string"){var o=t.templateFunc||e.string&&e.string.substitute;t=o?o(t.template,t):t}var u=typeof t;return u=="string"||u=="number"?(t=s.toDom(t,n&&n.ownerDocument),t.nodeType==11?t=r._toArray(t.childNodes):t=[t]):r.isArrayLike(t)?r.isArray(t)||(t=r._toArray(t)):t=[t],i&&(t._runParse=!0),t},_cloneNode:function(e){return e.cloneNode(!0)},_place:function(t,n,r,i){if(n.nodeType!=1&&r=="only")return;var o=n,u,a=t.length;for(var f=a-1;f>=0;f--){var l=i?this._cloneNode(t[f]):t[f];if(t._runParse&&e.parser&&e.parser.parse){u||(u=o.ownerDocument.createElement("div")),u.appendChild(l),e.parser.parse(u),l=u.firstChild;while(u.firstChild)u.removeChild(u.firstChild)}f==a-1?s.place(l,o,r):o.parentNode.insertBefore(l,o),o=l}},position:d(o.position),attr:h(v(u),f),style:h(v(a),f),addClass:p(i.add),removeClass:p(i.remove),toggleClass:p(i.toggle),replaceClass:p(i.replace),empty:p(s.empty),removeAttr:p(u.remove),marginBox:d(o.getMarginBox),place:function(e,n){var r=t(e)[0];return this.forEach(function(e){s.place(e,r,n)})},orphan:function(e){return(e?t._filterResult(this,e):this).forEach(l)},adopt:function(e,n){return t(e).place(this[0],n)._stash(this)},query:function(e){if(!e)return this;var n=new c;return this.map(function(r){t(e,r).forEach(function(e){e!==undefined&&n.push(e)})}),n._stash(this)},filter:function(e){var r=arguments,i=this,s=0;if(typeof e=="string"){i=t._filterResult(this,r[0]);if(r.length==1)return i._stash(this);s=1}return this._wrap(n.filter(i,r[s],r[s+1]),this)},addContent:function(e,t){e=this._normalize(e,this[0]);for(var n=0,r;r=this[n];n++)e.length?this._place(e,r,t,n>0):s.empty(r);return this}}),c})},"dojo/_base/xhr":function(){define(["./kernel","./sniff","require","../io-query","../dom","../dom-form","./Deferred","./config","./json","./lang","./array","../on","../aspect","../request/watch","../request/xhr","../request/util"],function(e,t,n,r,i,s,o,u,a,f,l,c,h,p,d,v){e._xhrObj=d._create;var m=e.config;e.objectToQuery=r.objectToQuery,e.queryToObject=r.queryToObject,e.fieldToObject=s.fieldToObject,e.formToObject=s.toObject,e.formToQuery=s.toQuery,e.formToJson=s.toJson,e._blockAsync=!1;var g=e._contentHandlers=e.contentHandlers={text:function(e){return e.responseText},json:function(e){return a.fromJson(e.responseText||null)},"json-comment-filtered":function(e){u.useCommentedJson||0;var t=e.responseText,n=t.indexOf("/*"),r=t.lastIndexOf("*/");if(n==-1||r==-1)throw new Error("JSON was not comment filtered");return a.fromJson(t.substring(n+2,r))},javascript:function(t){return e.eval(t.responseText)},xml:function(e){var n=e.responseXML;n&&t("dom-qsa2.1")&&!n.querySelectorAll&&t("dom-parser")&&(n=(new DOMParser).parseFromString(e.responseText,"application/xml"));if(t("ie"))if(!n||!n.documentElement){var r=function(e){return"MSXML"+e+".DOMDocument"},i=["Microsoft.XMLDOM",r(6),r(4),r(3),r(2)];l.some(i,function(t){try{var r=new ActiveXObject(t);r.async=!1,r.loadXML(e.responseText),n=r}catch(i){return!1}return!0})}return n},"json-comment-optional":function(e){return e.responseText&&/^[^{\[]*\/\*/.test(e.responseText)?g["json-comment-filtered"](e):g.json(e)}};e._ioSetArgs=function(t,n,u,a){var l={args:t,url:t.url},c=null;if(t.form){var h=i.byId(t.form),p=h.getAttributeNode("action");l.url=l.url||(p?p.value:null),c=s.toObject(h)}var d=[{}];c&&d.push(c),t.content&&d.push(t.content),t.preventCache&&d.push({"dojo.preventCache":(new Date).valueOf()}),l.query=r.objectToQuery(f.mixin.apply(null,d)),l.handleAs=t.handleAs||"text";var v=new o(function(e){e.canceled=!0,n&&n(e);var t=e.ioArgs.error;return t||(t=new Error("request cancelled"),t.dojoType="cancel",e.ioArgs.error=t),t});v.addCallback(u);var g=t.load;g&&f.isFunction(g)&&v.addCallback(function(e){return g.call(t,e,l)});var y=t.error;y&&f.isFunction(y)&&v.addErrback(function(e){return y.call(t,e,l)});var b=t.handle;return b&&f.isFunction(b)&&v.addBoth(function(e){return b.call(t,e,l)}),v.addErrback(function(e){return a(e,v)}),m.ioPublish&&e.publish&&l.args.ioPublish!==!1&&(v.addCallbacks(function(t){return e.publish("/dojo/io/load",[v,t]),t},function(t){return e.publish("/dojo/io/error",[v,t]),t}),v.addBoth(function(t){return e.publish("/dojo/io/done",[v,t]),t})),v.ioArgs=l,v};var y=function(e){var t=g[e.ioArgs.handleAs](e.ioArgs.xhr);return t===undefined?null:t},b=function(e,t){return t.ioArgs.args.failOk||0,e},w=function(t){E<=0&&(E=0,m.ioPublish&&e.publish&&(!t||t&&t.ioArgs.args.ioPublish!==!1)&&e.publish("/dojo/io/stop"))},E=0;h.after(p,"_onAction",function(){E-=1}),h.after(p,"_onInFlight",w),e._ioCancelAll=p.cancelAll,e._ioNotifyStart=function(t){m.ioPublish&&e.publish&&t.ioArgs.args.ioPublish!==!1&&(E||e.publish("/dojo/io/start"),E+=1,e.publish("/dojo/io/send",[t]))},e._ioWatch=function(e,t,n,r){var i=e.ioArgs.options=e.ioArgs.args;f.mixin(e,{response:e.ioArgs,isValid:function(n){return t(e)},isReady:function(t){return n(e)},handleResponse:function(t){return r(e)}}),p(e),w(e)};var S="application/x-www-form-urlencoded";return e._ioAddQueryToUrl=function(e){e.query.length&&(e.url+=(e.url.indexOf("?")==-1?"?":"&")+e.query,e.query=null)},e.xhr=function(t,n,r){var i,s=e._ioSetArgs(n,function(e){i&&i.cancel()},y,b),o=s.ioArgs;"postData"in n?o.query=n.postData:"putData"in n?o.query=n.putData:"rawBody"in n?o.query=n.rawBody:(arguments.length>2&&!r||"POST|PUT".indexOf(t.toUpperCase())===-1)&&e._ioAddQueryToUrl(o);var u={method:t,handleAs:"text",timeout:n.timeout,withCredentials:n.withCredentials,ioArgs:o};typeof n.headers!="undefined"&&(u.headers=n.headers),typeof n.contentType!="undefined"&&(u.headers||(u.headers={}),u.headers["Content-Type"]=n.contentType),typeof o.query!="undefined"&&(u.data=o.query),typeof n.sync!="undefined"&&(u.sync=n.sync),e._ioNotifyStart(s);try{i=d(o.url,u,!0)}catch(a){return s.cancel(),s}return s.ioArgs.xhr=i.response.xhr,i.then(function(){s.resolve(s)}).otherwise(function(e){o.error=e,e.response&&(e.status=e.response.status,e.responseText=e.response.text,e.xhr=e.response.xhr),s.reject(e)}),s},e.xhrGet=function(t){return e.xhr("GET",t)},e.rawXhrPost=e.xhrPost=function(t){return e.xhr("POST",t,!0)},e.rawXhrPut=e.xhrPut=function(t){return e.xhr("PUT",t,!0)},e.xhrDelete=function(t){return e.xhr("DELETE",t)},e._isDocumentOk=function(e){return v.checkStatus(e.status)},e._getText=function(t){var n;return e.xhrGet({url:t,sync:!0,load:function(e){n=e}}),n},f.mixin(e.xhr,{_xhrObj:e._xhrObj,fieldToObject:s.fieldToObject,formToObject:s.toObject,objectToQuery:r.objectToQuery,formToQuery:s.toQuery,formToJson:s.toJson,queryToObject:r.queryToObject,contentHandlers:g,_ioSetArgs:e._ioSetArgs,_ioCancelAll:e._ioCancelAll,_ioNotifyStart:e._ioNotifyStart,_ioWatch:e._ioWatch,_ioAddQueryToUrl:e._ioAddQueryToUrl,_isDocumentOk:e._isDocumentOk,_getText:e._getText,get:e.xhrGet,post:e.xhrPost,put:e.xhrPut,del:e.xhrDelete}),e.xhr})},"dojo/io-query":function(){define(["./_base/lang"],function(e){var t={};return{objectToQuery:function(r){var i=encodeURIComponent,s=[];for(var o in r){var u=r[o];if(u!=t[o]){var a=i(o)+"=";if(e.isArray(u))for(var f=0,l=u.length;f<l;++f)s.push(a+i(u[f]));else s.push(a+i(u))}}return s.join("&")},queryToObject:function(n){var r=decodeURIComponent,i=n.split("&"),s={},o,u;for(var a=0,f=i.length,l;a<f;++a){l=i[a];if(l.length){var c=l.indexOf("=");c<0?(o=r(l),u=""):(o=r(l.slice(0,c)),u=r(l.slice(c+1))),typeof s[o]=="string"&&(s[o]=[s[o]]),e.isArray(s[o])?s[o].push(u):s[o]=u}}return s}}})},"dojo/dom-form":function(){define(["./_base/lang","./dom","./io-query","./json"],function(e,t,n,r){function i(t,n,r){if(r===null)return;var i=t[n];typeof i=="string"?t[n]=[i,r]:e.isArray(i)?i.push(r):t[n]=r}var s="file|submit|image|reset|button",o={fieldToObject:function(n){var r=null;n=t.byId(n);if(n){var i=n.name,s=(n.type||"").toLowerCase();if(i&&s&&!n.disabled)if(s=="radio"||s=="checkbox")n.checked&&(r=n.value);else if(n.multiple){r=[];var o=[n.firstChild];while(o.length)for(var u=o.pop();u;u=u.nextSibling){if(u.nodeType!=1||u.tagName.toLowerCase()!="option"){u.nextSibling&&o.push(u.nextSibling),u.firstChild&&o.push(u.firstChild);break}u.selected&&r.push(u.value)}}else r=n.value}return r},toObject:function(n){var r={},u=t.byId(n).elements;for(var a=0,f=u.length;a<f;++a){var l=u[a],c=l.name,h=(l.type||"").toLowerCase();c&&h&&s.indexOf(h)<0&&!l.disabled&&(i(r,c,o.fieldToObject(l)),h=="image"&&(r[c+".x"]=r[c+".y"]=r[c].x=r[c].y=0))}return r},toQuery:function(t){return n.objectToQuery(o.toObject(t))},toJson:function(t,n){return r.stringify(o.toObject(t),null,n?4:0)}};return o})},"dojo/request/watch":function(){define(["./util","../errors/RequestTimeoutError","../errors/CancelError","../_base/array","../_base/window","../has!host-browser?dom-addeventlistener?:../on:"],function(e,t,n,r,i,s){function a(){var e=+(new Date);for(var n=0,r;n<u.length&&(r=u[n]);n++){var i=r.response,s=i.options;r.isCanceled&&r.isCanceled()||r.isValid&&!r.isValid(i)?(u.splice(n--,1),f._onAction&&f._onAction()):r.isReady&&r.isReady(i)?(u.splice(n--,1),r.handleResponse(i),f._onAction&&f._onAction()):r.startTime&&r.startTime+(s.timeout||0)<e&&(u.splice(n--,1),r.cancel(new t("Timeout exceeded",i)),f._onAction&&f._onAction())}f._onInFlight&&f._onInFlight(r),u.length||(clearInterval(o),o=null)}function f(e){e.response.options.timeout&&(e.startTime=+(new Date));if(e.isFulfilled())return;u.push(e),o||(o=setInterval(a,50)),e.response.options.sync&&a()}var o=null,u=[];return f.cancelAll=function(){try{r.forEach(u,function(e){try{e.cancel(new n("All requests canceled."))}catch(t){}})}catch(t){}},i&&s&&i.doc.attachEvent&&s(i.global,"unload",function(){f.cancelAll()}),f})},"dojo/request/util":function(){define(["exports","../errors/RequestError","../errors/CancelError","../Deferred","../io-query","../_base/array","../_base/lang","../promise/Promise"],function(e,t,n,r,i,s,o,u){function f(e){return a(e)}function l(e){return e.data||e.text}e.deepCopy=function(n,r){for(var i in r){var s=n[i],o=r[i];s!==o&&(s&&typeof s=="object"&&o&&typeof o=="object"?e.deepCopy(s,o):n[i]=o)}return n},e.deepCreate=function(n,r){r=r||{};var i=o.delegate(n),s,u;for(s in n)u=n[s],u&&typeof u=="object"&&(i[s]=e.deepCreate(u,r[s]));return e.deepCopy(i,r)};var a=Object.freeze||function(e){return e};e.deferred=function(s,c,h,p,d,v){function g(e){throw e.response=s,e}var m=new r(function(e){return c&&c(m,s),!!e&&(e instanceof t||e instanceof n)?e:new n("Request canceled",s)});m.response=s,m.isValid=h,m.isReady=p,m.handleResponse=d;var y=m.then(f).otherwise(g);e.notify&&y.then(o.hitch(e.notify,"emit","load"),o.hitch(e.notify,"emit","error"));var b=y.then(l),w=new u;for(var E in b)b.hasOwnProperty(E)&&(w[E]=b[E]);return w.response=y,a(w),v&&m.then(function(e){v.call(m,e)},function(e){v.call(m,s,e)}),m.promise=w,m.then=w.then,m},e.addCommonMethods=function(t,n){s.forEach(n||["GET","POST","PUT","DELETE"],function(e){t[(e==="DELETE"?"DEL":e).toLowerCase()]=function(n,r){return r=o.delegate(r||{}),r.method=e,t(n,r)}})},e.parseArgs=function(t,n,r){var s=n.data,o=n.query;return s&&!r&&typeof s=="object"&&(n.data=i.objectToQuery(s)),o?(typeof o=="object"&&(o=i.objectToQuery(o)),n.preventCache&&(o+=(o?"&":"")+"request.preventCache="+ +(new Date))):n.preventCache&&(o="request.preventCache="+ +(new Date)),t&&o&&(t+=(~t.indexOf("?")?"&":"?")+o),{url:t,options:n,getHeader:function(e){return null}}},e.checkStatus=function(e){return e=e||0,e>=200&&e<300||e===304||e===1223||!e}})},"dojo/errors/RequestError":function(){define(["./create"],function(e){return e("RequestError",function(e,t){this.response=t})})},"dojo/errors/RequestTimeoutError":function(){define(["./create","./RequestError"],function(e,t){return e("RequestTimeoutError",null,t,{dojoType:"timeout"})})},"dojo/request/xhr":function(){define(["../errors/RequestError","./watch","./handlers","./util","../has"],function(e,t,n,r,i){function s(t,i){var s=t.xhr;t.status=t.xhr.status,t.text=s.responseText,t.options.handleAs==="xml"&&(t.data=s.responseXML);if(!i)try{n(t)}catch(o){i=o}i?this.reject(i):r.checkStatus(s.status)?this.resolve(t):(i=new e("Unable to load "+t.url+" status: "+s.status,t),this.reject(i))}function l(e){return this.xhr.getResponseHeader(e)}function p(n,d,v){var m=r.parseArgs(n,r.deepCreate(h,d),i("native-formdata")&&d&&d.data&&d.data instanceof FormData);n=m.url,d=m.options;var g,y=function(){g&&g()},b=r.deferred(m,f,o,u,s,y),w=m.xhr=p._create();if(!w)return b.cancel(new e("XHR was not created")),v?b:b.promise;m.getHeader=l,a&&(g=a(w,b,m));var E=d.data,S=!d.sync,x=d.method;try{w.open(x,n,S,d.user||c,d.password||c),d.withCredentials&&(w.withCredentials=d.withCredentials);var T=d.headers,N="application/x-www-form-urlencoded";if(T)for(var C in T)C.toLowerCase()==="content-type"?N=T[C]:T[C]&&w.setRequestHeader(C,T[C]);N&&N!==!1&&w.setRequestHeader("Content-Type",N),(!T||!("X-Requested-With"in T))&&w.setRequestHeader("X-Requested-With","XMLHttpRequest"),r.notify&&r.notify.emit("send",m,b.promise.cancel),w.send(E)}catch(k){b.reject(k)}return t(b),w=null,v?b:b.promise}i.add("native-xhr",function(){return typeof XMLHttpRequest!="undefined"}),i.add("dojo-force-activex-xhr",function(){return i("activex")&&!document.addEventListener&&window.location.protocol==="file:"}),i.add("native-xhr2",function(){if(!i("native-xhr"))return;var e=new XMLHttpRequest;return typeof e.addEventListener!="undefined"&&(typeof opera=="undefined"||typeof e.upload!="undefined")}),i.add("native-formdata",function(){return typeof FormData=="function"});var o,u,a,f;i("native-xhr2")?(o=function(e){return!this.isFulfilled()},f=function(e,t){t.xhr.abort()},a=function(t,n,r){function i(e){n.handleResponse(r)}function s(t){var i=t.target,s=new e("Unable to load "+r.url+" status: "+i.status,r);n.handleResponse(r,s)}function o(e){e.lengthComputable&&(r.loaded=e.loaded,r.total=e.total,n.progress(r))}return t.addEventListener("load",i,!1),t.addEventListener("error",s,!1),t.addEventListener("progress",o,!1),function(){t.removeEventListener("load",i,!1),t.removeEventListener("error",s,!1),t.removeEventListener("progress",o,!1),t=null}}):(o=function(e){return e.xhr.readyState},u=function(e){return 4===e.xhr.readyState},f=function(e,t){var n=t.xhr,r=typeof n.abort;(r==="function"||r==="object"||r==="unknown")&&n.abort()});var c,h={data:null,query:null,sync:!1,method:"GET"};p._create=function(){throw new Error("XMLHTTP not available")};if(i("native-xhr")&&!i("dojo-force-activex-xhr"))p._create=function(){return new XMLHttpRequest};else if(i("activex"))try{new ActiveXObject("Msxml2.XMLHTTP"),p._create=function(){return new ActiveXObject("Msxml2.XMLHTTP")}}catch(d){try{new ActiveXObject("Microsoft.XMLHTTP"),p._create=function(){return new ActiveXObject("Microsoft.XMLHTTP")}}catch(d){}}return r.addCommonMethods(p),p})},"dojo/request/handlers":function(){define(["../json","../_base/kernel","../_base/array","../has","../selector/_loader"],function(e,t,n,r){function u(e){var t=o[e.options.handleAs];return e.data=t?t(e):e.data||e.text,e}r.add("activex",typeof ActiveXObject!="undefined"),r.add("dom-parser",function(e){return"DOMParser"in e});var i;if(r("activex")){var s=["Msxml2.DOMDocument.6.0","Msxml2.DOMDocument.4.0","MSXML2.DOMDocument.3.0","MSXML.DOMDocument"];i=function(e){var t=e.data;t&&r("dom-qsa2.1")&&!t.querySelectorAll&&r("dom-parser")&&(t=(new DOMParser).parseFromString(e.text,"application/xml"));if(!t||!t.documentElement){var i=e.text;n.some(s,function(e){try{var n=new ActiveXObject(e);n.async=!1,n.loadXML(i),t=n}catch(r){return!1}return!0})}return t}}var o={javascript:function(e){return t.eval(e.text||"")},json:function(t){return e.parse(t.text||null)},xml:i};return u.register=function(e,t){o[e]=t},u})},"dojo/_base/fx":function(){define(["./kernel","./config","./lang","../Evented","./Color","../aspect","../sniff","../dom","../dom-style"],function(e,t,n,r,i,s,o,u,a){var f=n.mixin,l={},c=l._Line=function(e,t){this.start=e,this.end=t};c.prototype.getValue=function(e){return(this.end-this.start)*e+this.start};var h=l.Animation=function(e){f(this,e),n.isArray(this.curve)&&(this.curve=new c(this.curve[0],this.curve[1]))};h.prototype=new r,n.extend(h,{duration:350,repeat:0,rate:20,_percent:0,_startRepeatCount:0,_getStep:function(){var e=this._percent,t=this.easing;return t?t(e):e},_fire:function(e,n){var r=n||[];if(this[e])if(t.debugAtAllCosts)this[e].apply(this,r);else try{this[e].apply(this,r)}catch(i){0,0}return this},play:function(e,t){var r=this;r._delayTimer&&r._clearTimer();if(t)r._stopTimer(),r._active=r._paused=!1,r._percent=0;else if(r._active&&!r._paused)return r;r._fire("beforeBegin",[r.node]);var i=e||r.delay,s=n.hitch(r,"_play",t);return i>0?(r._delayTimer=setTimeout(s,i),r):(s(),r)},_play:function(e){var t=this;t._delayTimer&&t._clearTimer(),t._startTime=(new Date).valueOf(),t._paused&&(t._startTime-=t.duration*t._percent),t._active=!0,t._paused=!1;var n=t.curve.getValue(t._getStep());return t._percent||(t._startRepeatCount||(t._startRepeatCount=t.repeat),t._fire("onBegin",[n])),t._fire("onPlay",[n]),t._cycle(),t},pause:function(){var e=this;return e._delayTimer&&e._clearTimer(),e._stopTimer(),e._active?(e._paused=!0,e._fire("onPause",[e.curve.getValue(e._getStep())]),e):e},gotoPercent:function(e,t){var n=this;return n._stopTimer(),n._active=n._paused=!0,n._percent=e,t&&n.play(),n},stop:function(e){var t=this;return t._delayTimer&&t._clearTimer(),t._timer?(t._stopTimer(),e&&(t._percent=1),t._fire("onStop",[t.curve.getValue(t._getStep())]),t._active=t._paused=!1,t):t},status:function(){return this._active?this._paused?"paused":"playing":"stopped"},_cycle:function(){var e=this;if(e._active){var t=(new Date).valueOf(),n=e.duration===0?1:(t-e._startTime)/e.duration;n>=1&&(n=1),e._percent=n,e.easing&&(n=e.easing(n)),e._fire("onAnimate",[e.curve.getValue(n)]),e._percent<1?e._startTimer():(e._active=!1,e.repeat>0?(e.repeat--,e.play(null,!0)):e.repeat==-1?e.play(null,!0):e._startRepeatCount&&(e.repeat=e._startRepeatCount,e._startRepeatCount=0),e._percent=0,e._fire("onEnd",[e.node]),!e.repeat&&e._stopTimer())}return e},_clearTimer:function(){clearTimeout(this._delayTimer),delete this._delayTimer}});var p=0,d=null,v={run:function(){}};n.extend(h,{_startTimer:function(){this._timer||(this._timer=s.after(v,"run",n.hitch(this,"_cycle"),!0),p++),d||(d=setInterval(n.hitch(v,"run"),this.rate))},_stopTimer:function(){this._timer&&(this._timer.remove(),this._timer=null,p--),p<=0&&(clearInterval(d),d=null,p=0)}});var m=o("ie")?function(e){var t=e.style;!t.width.length&&a.get(e,"width")=="auto"&&(t.width="auto")}:function(){};l._fade=function(e){e.node=u.byId(e.node);var t=f({properties:{}},e),r=t.properties.opacity={};r.start="start"in t?t.start:function(){return+a.get(t.node,"opacity")||0},r.end=t.end;var i=l.animateProperty(t);return s.after(i,"beforeBegin",n.partial(m,t.node),!0),i},l.fadeIn=function(e){return l._fade(f({end:1},e))},l.fadeOut=function(e){return l._fade(f({end:0},e))},l._defaultEasing=function(e){return.5+Math.sin((e+1.5)*Math.PI)/2};var g=function(e){this._properties=e;for(var t in e){var n=e[t];n.start instanceof i&&(n.tempColor=new i)}};return g.prototype.getValue=function(e){var t={};for(var r in this._properties){var s=this._properties[r],o=s.start;o instanceof i?t[r]=i.blendColors(o,s.end,e,s.tempColor).toCss():n.isArray(o)||(t[r]=(s.end-o)*e+o+(r!="opacity"?s.units||"px":0))}return t},l.animateProperty=function(t){var r=t.node=u.byId(t.node);t.easing||(t.easing=e._defaultEasing);var o=new h(t);return s.after(o,"beforeBegin",n.hitch(o,function(){var e={};for(var t in this.properties){if(t=="width"||t=="height")this.node.display="block";var s=this.properties[t];n.isFunction(s)&&(s=s(r)),s=e[t]=f({},n.isObject(s)?s:{end:s}),n.isFunction(s.start)&&(s.start=s.start(r)),n.isFunction(s.end)&&(s.end=s.end(r));var o=t.toLowerCase().indexOf("color")>=0;function u(e,t){var n={height:e.offsetHeight,width:e.offsetWidth}[t];return n!==undefined?n:(n=a.get(e,t),t=="opacity"?+n:o?n:parseFloat(n))}"end"in s?"start"in s||(s.start=u(r,t)):s.end=u(r,t),o?(s.start=new i(s.start),s.end=new i(s.end)):s.start=t=="opacity"?+s.start:parseFloat(s.start)}this.curve=new g(e)}),!0),s.after(o,"onAnimate",n.hitch(a,"set",o.node),!0),o},l.anim=function(e,t,n,r,i,s){return l.animateProperty({node:e,duration:n||h.prototype.duration,properties:t,easing:r,onEnd:i}).play(s||0)},f(e,l),e._Animation=h,l})}}}),function(){var e=this.require;e({cache:{}}),!e.async&&e(["dojo"]),e.boot&&e.apply(null,e.boot)}()