//>>built
require({cache:{"dojox/app/main":function(){define("require dojo/_base/kernel dojo/_base/lang dojo/_base/declare dojo/_base/config dojo/_base/window dojo/Evented dojo/Deferred dojo/when dojo/has dojo/on dojo/ready dojo/dom-construct dojo/dom-attr ./utils/model ./utils/nls ./module/lifecycle ./utils/hash ./utils/constraints ./utils/config".split(" "),function(k,l,g,d,c,b,a,h,q,n,p,f,m,r,e,u,s,y,D,v){function x(e,m){var a;e=v.configProcessHas(e);e.loaderConfig||(e.loaderConfig={});e.loaderConfig.paths||
(e.loaderConfig.paths={});e.loaderConfig.paths.app||(a=window.location.pathname,"/"!=a.charAt(a.length)&&(a=a.split("/"),a.pop(),a=a.join("/")),e.loaderConfig.paths.app=a);k(e.loaderConfig);e.modules||(e.modules=[]);e.modules.push("./module/lifecycle");var c=e.modules.concat(e.dependencies?e.dependencies:[]);e.template&&(a=e.template,0==a.indexOf("./")&&(a="app/"+a),c.push("dojo/text!"+a));k(c,function(){for(var a=[t],c=0;c<e.modules.length;c++)a.push(arguments[c]);if(e.template)var h={templateString:arguments[arguments.length-
1]};App=d(a,h);f(function(){var a=new App(e,m||b.body());n("app-log-api")?a.log=function(){try{for(var e=0;e<arguments.length-1;e++);}catch(a){}}:a.log=function(){};a.transitionToView=function(e,a,f){p.emit(e,"startTransition",{bubbles:!0,cancelable:!0,detail:a,triggerEvent:f||null})};a.setStatus(a.lifecycle.STARTING);var f=a.id;window[f]&&g.mixin(a,window[f]);window[f]=a;a.start()})})}n.add("app-log-api",(c.app||{}).debugApp);var t=d(a,{constructor:function(e,a){g.mixin(this,e);this.params=e;this.id=
e.id;this.defaultView=e.defaultView;this.controllers=[];this.children={};this.loadedModels={};this.loadedStores={};this.setDomNode(m.create("div",{id:this.id+"_Root",style:"width:100%; height:100%; overflow-y:hidden; overflow-x:hidden;"}));a.appendChild(this.domNode)},createDataStore:function(e){if(e.stores)for(var a in e.stores)if("_"!==a.charAt(0)){var f=e.stores[a].type?e.stores[a].type:"dojo/store/Memory",b={};e.stores[a].params&&g.mixin(b,e.stores[a].params);try{var m=k(f)}catch(c){throw Error(f+
" must be listed in the dependencies");}b.data&&g.isString(b.data)&&(b.data=g.getObject(b.data));if(e.stores[a].observable){try{var h=k("dojo/store/Observable")}catch(u){throw Error("dojo/store/Observable must be listed in the dependencies");}e.stores[a].store=h(new m(b))}else e.stores[a].store=new m(b);this.loadedStores[a]=e.stores[a].store}},createControllers:function(e){if(e){for(var a=[],f=0;f<e.length;f++)a.push(e[f]);var b=new h,m;try{m=k.on("error",function(e){!b.isResolved()&&!b.isRejected()&&
(b.reject("load controllers error."),m.remove())}),k(a,function(){b.resolve.call(b,arguments);m.remove()})}catch(c){b.reject(c),m&&m.remove()}var u=new h;q(b,g.hitch(this,function(e){for(var a=0;a<e.length;a++)this.controllers.push((new e[a](this)).bind());u.resolve(this)}),function(){u.reject("load controllers error.")});return u}},trigger:function(e,a){l.deprecated("dojox.app.Application.trigger","Use dojox.app.Application.emit instead","2.0");this.emit(e,a)},start:function(){this.createDataStore(this.params);
var a=new h,f;try{f=e(this.params.models,this,this)}catch(b){return a.reject(b),a.promise}q(f,g.hitch(this,function(e){this.loadedModels=g.isArray(e)?e[0]:e;this.setupControllers();q(u(this.params),g.hitch(this,function(e){e&&g.mixin(this.nls={},e);this.startup()}))}),function(){a.reject("load model error.")})},setDomNode:function(e){var a=this.domNode;this.domNode=e;this.emit("app-domNode",{oldNode:a,newNode:e})},setupControllers:function(){var e=window.location.hash;this._startView=y.getTarget(e,
this.defaultView);this._startParams=y.getParams(e)},startup:function(){this.selectedChildren={};var e=this.createControllers(this.params.controllers);this.hasOwnProperty("constraint")?D.register(this.params.constraints):this.constraint="center";var a=function(){this.emit("app-load",{viewId:this.defaultView,params:this._startParams,callback:g.hitch(this,function(){var e=this.defaultView.split("+"),a,f;if(0<e.length)for(;0<e.length;)a=e.shift().split(",").shift(),this.children[this.id+"_"+a].hasOwnProperty("constraint")||
(this.children[this.id+"_"+a].constraint=r.get(this.children[this.id+"_"+a].domNode,"data-app-constraint")||"center"),D.register(f=this.children[this.id+"_"+a].constraint),D.setSelectedChild(this,f,this.children[this.id+"_"+a]);else a=this.defaultView.split(",").shift(),this.children[this.id+"_"+a].hasOwnProperty("constraint")||(this.children[this.id+"_"+a].constraint=r.get(this.children[this.id+"_"+a].domNode,"data-app-constraint")||"center"),D.register(f=this.children[this.id+"_"+a].constraint),
D.setSelectedChild(this,f,this.children[this.id+"_"+a]);this.emit("app-transition",{viewId:this._startView,opts:{params:this._startParams}});this.setStatus(this.lifecycle.STARTED)})})};q(e,g.hitch(this,function(){this.template?this.emit("app-init",{app:this,name:this.name,type:this.type,parent:this,templateString:this.templateString,controller:this.controller,callback:g.hitch(this,function(e){this.setDomNode(e.domNode);a.call(this)})}):a.call(this)}))}});return function(e,a){if(!e)throw Error("App Config Missing");
e.validate?k(["dojox/json/schema","dojox/json/ref","dojo/text!dojox/application/schema/application.json"],function(f,b){f=dojox.json.ref.resolveJson(f);f.validate(e,b)&&x(e,a)}):x(e,a)}})},"dojox/app/utils/model":function(){define(["dojo/_base/lang","dojo/Deferred","dojo/promise/all","dojo/when"],function(k,l,g,d){function c(b,a,c,q){var n=b[a].params?b[a].params:{},p=b[a].modelLoader?b[a].modelLoader:"dojox/app/utils/simpleModel";try{var f=require(p)}catch(m){throw Error(p+" must be listed in the dependencies");
}var r=new l,e;try{e=f(b,n,a)}catch(u){throw Error("Error creating "+p+" for model named ["+a+"]: "+u.message);}d(e,k.hitch(this,function(e){q[a]=e;c.log("in app/model, for item\x3d[",a,"] loadedModels \x3d",q);r.resolve(q);return q}),function(e){throw Error("Error loading model named ["+a+"]: "+e.message);});return r}return function(b,a,h){var d={};a.loadedModels&&k.mixin(d,a.loadedModels);if(b){a=[];for(var n in b)"_"!==n.charAt(0)&&a.push(c(b,n,h,d));return 0==a.length?d:g(a)}return d}})},"dojo/promise/all":function(){define(["../_base/array",
"../Deferred","../when"],function(k,l,g){var d=k.some;return function(c){var b,a;c instanceof Array?a=c:c&&"object"===typeof c&&(b=c);var h,q=[];if(b){a=[];for(var n in b)Object.hasOwnProperty.call(b,n)&&(q.push(n),a.push(b[n]));h={}}else a&&(h=[]);if(!a||!a.length)return(new l).resolve(h);var p=new l;p.promise.always(function(){h=q=null});var f=a.length;d(a,function(a,c){b||q.push(c);g(a,function(e){p.isFulfilled()||(h[q[c]]=e,0===--f&&p.resolve(h))},p.reject);return p.isFulfilled()});return p.promise}})},
"dojox/app/utils/nls":function(){define(["require","dojo/Deferred"],function(k,l){return function(g,d){var c=g.nls;if(c){var b=new l,a;try{var h=c,q=h.indexOf("./");0<=q&&(h=c.substring(q+2));a=k.on("error",function(c){!b.isResolved()&&!b.isRejected()&&(c.info[0]&&0<=c.info[0].indexOf(h))&&(b.resolve(!1),a.remove())});0==c.indexOf("./")&&(c="app/"+c);k(["dojo/i18n!"+c],function(c){b.resolve(c);a.remove()})}catch(n){b.reject(n),a&&a.remove()}return b}return!1}})},"dojox/app/module/lifecycle":function(){define(["dojo/_base/declare",
"dojo/topic"],function(k,l){return k(null,{lifecycle:{UNKNOWN:0,STARTING:1,STARTED:2,STOPPING:3,STOPPED:4},_status:0,getStatus:function(){return this._status},setStatus:function(g){this._status=g;l.publish("/app/status",g)}})})},"dojox/app/utils/hash":function(){define(["dojo/_base/lang"],function(k){var l={getParams:function(g){var d;if(g&&g.length){for(;0<g.indexOf("(");){var c=g.indexOf("("),b=g.indexOf(")"),c=g.substring(c,b+1);d||(d={});d=l.getParamObj(d,c);b=c.substring(1,c.indexOf("\x26"));
g=g.replace(c,b)}g=g.split("\x26");for(c=0;c<g.length;c++){var a=g[c].split("\x3d"),b=a[0],a=encodeURIComponent(a[1]||"");b&&a&&(d||(d={}),d[b]=a)}}return d},getParamObj:function(g,d){for(var c,b=d.substring(1,d.indexOf("\x26")),a=d.substring(d.indexOf("\x26"),d.length-1).split("\x26"),h=0;h<a.length;h++){var q=a[h].split("\x3d"),n=q[0],q=encodeURIComponent(q[1]||"");n&&q&&(c||(c={}),c[n]=q)}g[b]=c;return g},buildWithParams:function(g,d){"#"!==g.charAt(0)&&(g="#"+g);for(var c in d){var b=d[c];k.isObject(b)?
g=l.addViewParams(g,c,b):c&&null!=b&&(g=g+"\x26"+c+"\x3d"+d[c])}return g},addViewParams:function(g,d,c){"#"!==g.charAt(0)&&(g="#"+g);var b=g.indexOf(d);if(0<b&&("#"==g.charAt(b-1)||"+"==g.charAt(b-1))&&("\x26"==g.charAt(b+d.length)||"+"==g.charAt(b+d.length)||"-"==g.charAt(b+d.length))){var a=g.substring(b-1,b+d.length+1);c=l.getParamString(c);d=g.charAt(b-1)+"("+d+c+")"+g.charAt(b+d.length);g=g.replace(a,d)}return g},getParamString:function(g){var d="",c;for(c in g){var b=g[c];c&&null!=b&&(d=d+"\x26"+
c+"\x3d"+g[c])}return d},getTarget:function(g,d){for(d||(d="");0<g.indexOf("(");){var c=g.indexOf("("),b=g.indexOf(")"),c=g.substring(c,b+1),b=c.substring(1,c.indexOf("\x26"));g=g.replace(c,b)}return((g&&"#"==g.charAt(0)?g.substr(1):g)||d).split("\x26")[0]}};return l})},"dojox/app/utils/constraints":function(){define(["dojo/_base/array"],function(k){var l=[];return{getSelectedChild:function(g,d){var c=typeof d,c="string"==c||"number"==c?d:d.__hash;return g&&g.selectedChildren&&g.selectedChildren[c]?
g.selectedChildren[c]:null},setSelectedChild:function(g,d,c){var b=typeof d;g.selectedChildren["string"==b||"number"==b?d:d.__hash]=c},getAllSelectedChildren:function(g,d){d=d||[];if(g&&g.selectedChildren)for(var c in g.selectedChildren)if(g.selectedChildren[c]){var b=g.selectedChildren[c];d.push(b);this.getAllSelectedChildren(b,d)}return d},register:function(g){var d=typeof g;if(!g.__hash&&"string"!=d&&"number"!=d){var c=null;k.some(l,function(a){var b=!0,d;for(d in a)if("_"!==d.charAt(0)&&a[d]!=
g[d]){b=!1;break}!0==b&&(c=a);return b});if(c)g.__hash=c.__hash;else{var d="",b;for(b in g)"_"!==b.charAt(0)&&(d+=g[b]);g.__hash=d;l.push(g)}}}}})},"dojox/app/utils/config":function(){define(["dojo/sniff"],function(k){return{configProcessHas:function(l){for(var g in l){var d=l[g];if("has"==g){for(var c in d)if(!("_"==c.charAt(0)&&"_"==c.charAt(1))&&d&&"object"===typeof d){var b=c.split(",");if(0<b.length)for(;0<b.length;){var a=b.shift();if(k(a)||"!"==a.charAt(0)&&!k(a.substring(1))){this.configMerge(l,
d[c]);break}}}delete l.has}else!("_"==g.charAt(0)&&"_"==g.charAt(1))&&(d&&"object"===typeof d)&&this.configProcessHas(d)}return l},configMerge:function(l,g){for(var d in g){var c=l[d],b=g[d];c!==b&&!("_"==d.charAt(0)&&"_"==d.charAt(1))&&(c&&"object"===typeof c&&b&&"object"===typeof b?this.configMerge(c,b):l instanceof Array?l.push(b):l[d]=b)}return l}}})},"dojox/json/ref":function(){define("dojo/_base/array dojo/_base/json dojo/_base/kernel dojo/_base/lang dojo/date/stamp dojox".split(" "),function(k,
l,g,d,c,b){d.getObject("json",!0,b);return b.json.ref={resolveJson:function(a,b){function d(t,z,A,w,H,J){var B,R,C;A=n in t?t[n]:A;if(n in t||void 0!==A&&w)A=(m+A).replace(l,"$2$3");w=J||t;if(void 0!==A){r&&(t.__id=A);if(b.schemas&&!(t instanceof Array)&&(C=A.match(/^(.+\/)[^\.\[]*$/)))H=b.schemas[C[1]];if(e[A]&&t instanceof Array==e[A]instanceof Array)w=e[A],delete w.$ref,delete w._loadObject,R=!0;else if(C=H&&H.prototype)x.prototype=C,w=new x;e[A]=w;u&&(u[A]=b.time)}for(;H;){if(C=H.properties)for(B in t){var O=
C[B];O&&("date-time"==O.format&&"string"==typeof t[B])&&(t[B]=c.fromISOString(t[B]))}H=H["extends"]}H=t.length;for(B in t){if(B==H)break;if(t.hasOwnProperty(B)){C=t[B];if("object"==typeof C&&C&&!(C instanceof Date)&&"__parent"!=B){s=C[p]||f&&C[n];if((!s||!C.__parent)&&t!=g)C.__parent=w;if(s)if(delete t[B],J=s.toString().replace(/(#)([^\.\[])/,"$1.$2").match(/(^([^\[]*\/)?[^#\.\[]*)#?([\.\[].*)?/),e[(m+s).replace(l,"$2$3")]?s=e[(m+s).replace(l,"$2$3")]:(s="$"==J[1]||"this"==J[1]||""==J[1]?a:e[(m+J[1]).replace(l,
"$2$3")])&&J[3]&&J[3].replace(/(\[([^\]]+)\])|(\.?([^\.\[]+))/g,function(e,a,b,f,m){s=s&&s[b?b.replace(/[\"\'\\]/,""):m]}),s)C=s;else{if(!z){var T;T||g.push(w);T=!0;C=d(C,!1,C[p],!0,O);C._loadObject=b.loader}}else z||(C=d(C,g==t,void 0===A?void 0:k(A,B),!1,O,w!=t&&"object"==typeof w[B]&&w[B]))}t[B]=C;if(w!=t&&!w.__isDirty&&(J=w[B],w[B]=C,R&&C!==J&&!w._loadObject&&!("_"==B.charAt(0)&&"_"==B.charAt(1))&&"$ref"!=B&&!(C instanceof Date&&J instanceof Date&&C.getTime()==J.getTime())&&!("function"==typeof C&&
"function"==typeof J&&C.toString()==J.toString())&&e.onUpdate))e.onUpdate(w,B,J,C)}}if(R&&(n in t||w instanceof Array))for(B in w){if(!w.__isDirty&&w.hasOwnProperty(B)&&!t.hasOwnProperty(B)&&!("_"==B.charAt(0)&&"_"==B.charAt(1))&&!(w instanceof Array&&isNaN(B))){if(e.onUpdate&&"_loadObject"!=B&&"_idAttr"!=B)e.onUpdate(w,B,w[B],void 0);for(delete w[B];w instanceof Array&&w.length&&void 0===w[w.length-1];)w.length--}}else if(e.onLoad)e.onLoad(w);return w}b=b||{};var n=b.idAttribute||"id",p=this.refAttribute,
f=b.idAsRef,m=b.idPrefix||"",r=b.assignAbsoluteIds,e=b.index||{},u=b.timeStamps,s,g=[],l=/^(.*\/)?(\w+:\/\/)|[^\/\.]+\/\.\.\/|^.*\/(\/)/,k=this._addProp,x=function(){};a&&"object"==typeof a&&(a=d(a,!1,b.defaultId,!0),d(g,!1));return a},fromJson:function(a,b){try{var c=eval("("+a+")")}catch(d){throw new SyntaxError("Invalid JSON string: "+d.message+" parsing: "+a);}return c?this.resolveJson(c,b):c},toJson:function(a,h,d,n){function p(a,n,s){if("object"==typeof a&&a){if(a instanceof Date)return'"'+
c.toISOString(a,{zulu:!0})+'"';var g=a.__id;if(g){if("#"!=n&&(f&&!g.match(/#/)||e[g]))return s=g,"#"!=g.charAt(0)&&(s=a.__clientId==g?"cid:"+g:g.substring(0,d.length)==d?g.substring(d.length):g),a={},a[r]=s,l.toJson(a,h);n=g}else a.__id=n,u[n]=a;e[n]=a;s=s||"";var t=h?s+l.toJsonIndentStr:"",z=h?"\n":"",g=h?" ":"";if(a instanceof Array)return"["+k.map(a,function(e,a){var b=p(e,m(n,a),t);"string"!=typeof b&&(b="undefined");return z+t+b}).join(","+g)+z+s+"]";var A=[],w;for(w in a)if(a.hasOwnProperty(w)){var H;
if("number"==typeof w)H='"'+w+'"';else if("string"==typeof w&&("_"!=w.charAt(0)||"_"!=w.charAt(1)))H=l._escapeString(w);else continue;var J=p(a[w],m(n,w),t);"string"==typeof J&&A.push(z+t+H+":"+g+J)}return"{"+A.join(","+g)+z+s+"}"}return"function"==typeof a&&b.json.ref.serializeFunctions?a.toString():l.toJson(a)}var f=this._useRefs,m=this._addProp,r=this.refAttribute;d=d||"";var e={},u={};a=p(a,"#","");if(!n)for(var s in u)delete u[s].__id;return a},_addProp:function(a,b){return a+(a.match(/#/)?1==
a.length?"":".":"#")+b},refAttribute:"$ref",_useRefs:!1,serializeFunctions:!1}})},"dojo/date/stamp":function(){define(["../_base/lang","../_base/array"],function(k,l){var g={};k.setObject("dojo.date.stamp",g);g.fromISOString=function(d,c){g._isoRegExp||(g._isoRegExp=/^(?:(\d{4})(?:-(\d{2})(?:-(\d{2}))?)?)?(?:T(\d{2}):(\d{2})(?::(\d{2})(.\d+)?)?((?:[+-](\d{2}):(\d{2}))|Z)?)?$/);var b=g._isoRegExp.exec(d),a=null;if(b){b.shift();b[1]&&b[1]--;b[6]&&(b[6]*=1E3);c&&(c=new Date(c),l.forEach(l.map("FullYear Month Date Hours Minutes Seconds Milliseconds".split(" "),
function(a){return c["get"+a]()}),function(a,c){b[c]=b[c]||a}));a=new Date(b[0]||1970,b[1]||0,b[2]||1,b[3]||0,b[4]||0,b[5]||0,b[6]||0);100>b[0]&&a.setFullYear(b[0]||1970);var h=0,q=b[7]&&b[7].charAt(0);"Z"!=q&&(h=60*(b[8]||0)+(Number(b[9])||0),"-"!=q&&(h*=-1));q&&(h-=a.getTimezoneOffset());h&&a.setTime(a.getTime()+6E4*h)}return a};g.toISOString=function(d,c){var b=function(a){return 10>a?"0"+a:a};c=c||{};var a=[],h=c.zulu?"getUTC":"get",g="";"time"!=c.selector&&(g=d[h+"FullYear"](),g=["0000".substr((g+
"").length)+g,b(d[h+"Month"]()+1),b(d[h+"Date"]())].join("-"));a.push(g);if("date"!=c.selector){g=[b(d[h+"Hours"]()),b(d[h+"Minutes"]()),b(d[h+"Seconds"]())].join(":");h=d[h+"Milliseconds"]();c.milliseconds&&(g+="."+(100>h?"0":"")+b(h));if(c.zulu)g+="Z";else if("time"!=c.selector)var h=d.getTimezoneOffset(),n=Math.abs(h),g=g+((0<h?"-":"+")+b(Math.floor(n/60))+":"+b(n%60));a.push(g)}return a.join("T")};return g})},"dojox/main":function(){define(["dojo/_base/kernel"],function(k){return k.dojox})},"dojo/text":function(){define(["./_base/kernel",
"require","./has","./request"],function(k,l,g,d){var c;c=function(a,b,f){d(a,{sync:!!b}).then(f)};var b={},a=function(a){if(a){a=a.replace(/^\s*<\?xml(\s)+version=[\'\"](\d)*.(\d)*[\'\"](\s)*\?>/im,"");var b=a.match(/<body[^>]*>\s*([\s\S]+)\s*<\/body>/im);b&&(a=b[1])}else a="";return a},h={},q={};k.cache=function(h,d,f){var m;"string"==typeof h?/\//.test(h)?(m=h,f=d):m=l.toUrl(h.replace(/\./g,"/")+(d?"/"+d:"")):(m=h+"",f=d);h=void 0!=f&&"string"!=typeof f?f.value:f;f=f&&f.sanitize;if("string"==typeof h)return b[m]=
h,f?a(h):h;if(null===h)return delete b[m],null;m in b||c(m,!0,function(a){b[m]=a});return f?a(b[m]):b[m]};return{dynamic:!0,normalize:function(a,b){var f=a.split("!"),m=f[0];return(/^\./.test(m)?b(m):m)+(f[1]?"!"+f[1]:"")},load:function(d,g,f){d=d.split("!");var m=1<d.length,r=d[0],e=g.toUrl(d[0]);d="url:"+e;var u=h,s=function(e){f(m?a(e):e)};r in b?u=b[r]:g.cache&&d in g.cache?u=g.cache[d]:e in b&&(u=b[e]);if(u===h)if(q[e])q[e].push(s);else{var l=q[e]=[s];c(e,!g.async,function(a){b[r]=b[e]=a;for(var f=
0;f<l.length;)l[f++](a);delete q[e]})}else s(u)}}})},"dojo/request":function(){define(["./request/default!"],function(k){return k})},"dojo/request/default":function(){define(["exports","require","../has"],function(k,l,g){var d=g("config-requestProvider");d||(d="./xhr");k.getPlatformDefaultId=function(){return"./xhr"};k.load=function(c,b,a,h){l(["platform"==c?"./xhr":d],function(b){a(b)})}})},"dojox/app/controllers/History":function(){define("dojo/_base/lang dojo/_base/declare dojo/on ../Controller ../utils/hash dojo/topic".split(" "),
function(k,l,g,d,c,b){return l("dojox.app.controllers.History",d,{_currentPosition:0,currentState:{},constructor:function(){this.events={"app-domNode":this.onDomNodeChange};if(this.app.domNode)this.onDomNodeChange({oldNode:null,newNode:this.app.domNode});this.bind(window,"popstate",k.hitch(this,this.onPopState))},onDomNodeChange:function(a){null!=a.oldNode&&this.unbind(a.oldNode,"startTransition");this.bind(a.newNode,"startTransition",k.hitch(this,this.onStartTransition))},onStartTransition:function(a){var h=
window.location.hash,d=c.getTarget(h,this.app.defaultView),g=c.getParams(h),p=k.clone(a.detail);p.target=p.title=d;p.url=h;p.params=g;p.id=this._currentPosition;1==history.length&&history.pushState(p,p.href,h);p.bwdTransition=p.transition;k.mixin(this.currentState,p);history.replaceState(this.currentState,this.currentState.href,h);this._currentPosition+=1;a.detail.id=this._currentPosition;h=a.detail.url||"#"+a.detail.target;a.detail.params&&(h=c.buildWithParams(h,a.detail.params));a.detail.fwdTransition=
a.detail.transition;history.pushState(a.detail,a.detail.href,h);this.currentState=k.clone(a.detail);b.publish("/app/history/pushState",a.detail.target)},onPopState:function(a){if(this.app.getStatus()===this.app.lifecycle.STARTED&&a.state){var c=a.state.id<this._currentPosition;c?this._currentPosition-=1:this._currentPosition+=1;var d=k.mixin({reverse:c?!0:!1},a.state);d.transition=c?d.bwdTransition:d.fwdTransition;this.app.emit("app-transition",{viewId:a.state.target,opts:d});b.publish("/app/history/popState",
a.state.target)}}})})},"dojox/app/Controller":function(){define(["dojo/_base/lang","dojo/_base/declare","dojo/on"],function(k,l,g){return l("dojox.app.Controller",null,{constructor:function(d,c){this.events=this.events||c;this._boundEvents=[];this.app=d},bind:function(d,c,b){if(0==arguments.length){if(this.events)for(var a in this.events)"_"!==a.charAt(0)&&this.bind(this.app,a,k.hitch(this,this.events[a]))}else a=g(d,c,b),this._boundEvents.push({event:c,evented:d,signal:a});return this},unbind:function(d,
c){for(var b=this._boundEvents.length,a=0;a<b;a++)if(this._boundEvents[a].event==c&&this._boundEvents[a].evented==d){this._boundEvents[a].signal.remove();this._boundEvents.splice(a,1);return}return this}})})},"dojox/app/controllers/HistoryHash":function(){define("dojo/_base/lang dojo/_base/declare dojo/topic dojo/on ../Controller ../utils/hash dojo/hash".split(" "),function(k,l,g,d,c,b){return l("dojox.app.controllers.HistoryHash",c,{constructor:function(a){this.events={"app-domNode":this.onDomNodeChange};
if(this.app.domNode)this.onDomNodeChange({oldNode:null,newNode:this.app.domNode});g.subscribe("/dojo/hashchange",k.hitch(this,function(a){this._onHashChange(a)}));this._historyStack=[];this._historyDiff=this._historyLen=0;this._previous=this._next=this._current=null;this._newHistoryLen=this._oldHistoryLen=this._index=0;this._startTransitionEvent=this._addToHistoryStack=!1;(a=window.location.hash)&&1<a.length&&(a=a.substr(1));this._historyStack.push({hash:a,url:window.location.href,detail:{target:a}});
this._historyLen=window.history.length;this._index=this._historyStack.length-1;this._current=a;this._historyDiff=window.history.length-this._historyStack.length},onDomNodeChange:function(a){null!=a.oldNode&&this.unbind(a.oldNode,"startTransition");this.bind(a.newNode,"startTransition",k.hitch(this,this.onStartTransition))},onStartTransition:function(a){var c=a.detail.target,d=/#(.+)/;!c&&d.test(a.detail.href)&&(c=a.detail.href.match(d)[1]);c=a.detail.url||"#"+c;a.detail.params&&(c=b.buildWithParams(c,
a.detail.params));this._oldHistoryLen=window.history.length;window.location.hash=c;this._startTransitionEvent=this._addToHistoryStack=!0},_addHistory:function(a){this._historyStack.push({hash:a,url:window.location.href,detail:{target:a}});this._historyLen=window.history.length;this._index=this._historyStack.length-1;this._previous=this._current;this._current=a;this._next=null;this._historyDiff=window.history.length-this._historyStack.length;this._addToHistoryStack=!1},_onHashChange:function(a){if(0>
this._index||this._index>window.history.length-1)throw Error("Application history out of management.");this._newHistoryLen=window.history.length;this._oldHistoryLen>this._newHistoryLen&&(this._historyStack.splice(this._newHistoryLen-this._historyDiff-1,this._historyStack.length-1),this._historyLen=this._historyStack.length,this._oldHistoryLen=0);if(this._addToHistoryStack&&this._oldHistoryLen===this._newHistoryLen)this._historyStack.splice(this._newHistoryLen-this._historyDiff-1,this._historyStack.length-
1),this._addHistory(a);else{if(this._historyLen<window.history.length)this._addHistory(a),this._startTransitionEvent||this.app.emit("app-transition",{viewId:b.getTarget(a),opts:{params:b.getParams(a)||{}}});else if(a!=this._current)if(a===this._previous)this._back(a,this._historyStack[this._index].detail);else if(a===this._next)this._forward(a,this._historyStack[this._index].detail);else{for(var c=-1,d=this._index;0<d;d--)if(a===this._historyStack[d].hash){c=d;break}if(-1===c)for(d=this._index;d<
this._historyStack.length;d++)if(a===this._historyStack[d].hash){c=d;break}0<c<this._historyStack.length?this._go(c,c-this._index):this.app.log("go error. index out of history stack.")}this._startTransitionEvent=!1}},_back:function(a,c){this.app.log("back");this._next=this._historyStack[this._index].hash;this._index--;this._previous=0<this._index?this._historyStack[this._index-1].hash:null;this._current=a;var d=b.getTarget(a,this.app.defaultView);g.publish("/app/history/back",{viewId:d,detail:c});
this.app.emit("app-transition",{viewId:d,opts:k.mixin({reverse:!0},c,{params:b.getParams(a)})})},_forward:function(a,c){this.app.log("forward");this._previous=this._historyStack[this._index].hash;this._index++;this._next=this._index<this._historyStack.length-1?this._historyStack[this._index+1].hash:null;this._current=a;var d=b.getTarget(a,this.app.defaultView);g.publish("/app/history/forward",{viewId:d,detail:c});this.app.emit("app-transition",{viewId:d,opts:k.mixin({reverse:!1},c,{params:b.getParams(a)})})},
_go:function(a,c){if(0>a||a>window.history.length-1)throw Error("Application history.go steps out of management, index: "+a+" length: "+window.history.length);this._index=a;this._current=this._historyStack[a].hash;this._previous=this._historyStack[a-1]?this._historyStack[a-1].hash:null;this._next=this._historyStack[a+1]?this._historyStack[a+1].hash:null;var d=b.getTarget(this._current,this.app.defaultView);g.publish("/app/history/go",{viewId:d,step:c,detail:this._historyStack[a].detail});this.app.emit("app-transition",
{viewId:d,opts:k.mixin({reverse:0>=c},this._historyStack[a].detail,{params:b.getParams(this._current)})})}})})},"dojo/hash":function(){define("./_base/kernel require ./_base/config ./aspect ./_base/lang ./topic ./domReady ./sniff".split(" "),function(k,l,g,d,c,b,a,h){function q(a,e){var b=a.indexOf(e);return 0<=b?a.substring(b+1):""}function n(){return q(location.href,"#")}function p(){b.publish("/dojo/hashchange",n())}function f(){n()!==e&&(e=n(),p())}function m(a){if(u)if(u.isTransitioning())setTimeout(c.hitch(null,
m,a),y);else{var e=u.iframe.location.href,b=e.indexOf("?");u.iframe.location.replace(e.substring(0,b)+"?"+a)}else location.replace("#"+a),!s&&f()}function r(){function a(){e=n();m=s?e:q(r.href,"?");d=!1;u=null}var b=document.createElement("iframe"),f=g.dojoBlankHtmlUrl||l.toUrl("./resources/blank.html");b.id="dojo-hash-iframe";b.src=f+"?"+n();b.style.display="none";document.body.appendChild(b);this.iframe=k.global["dojo-hash-iframe"];var m,d,u,h,s,r=this.iframe.location;this.isTransitioning=function(){return d};
this.pollLocation=function(){if(!s)try{var g=q(r.href,"?");document.title!=h&&(h=this.iframe.document.title=document.title)}catch(l){s=!0}var k=n();if(d&&e===k)if(s||g===u)a(),p();else{setTimeout(c.hitch(this,this.pollLocation),0);return}else if(!(e===k&&(s||m===g))){if(e!==k){e=k;d=!0;u=k;b.src=f+"?"+u;s=!1;setTimeout(c.hitch(this,this.pollLocation),0);return}s||(location.href="#"+r.search.substring(1),a(),p())}setTimeout(c.hitch(this,this.pollLocation),y)};a();setTimeout(c.hitch(this,this.pollLocation),
y)}k.hash=function(a,e){if(!arguments.length)return n();"#"==a.charAt(0)&&(a=a.substring(1));e?m(a):location.href="#"+a;return a};var e,u,s,y=g.hashPollFrequency||100;a(function(){"onhashchange"in k.global&&(!h("ie")||8<=h("ie")&&"BackCompat"!=document.compatMode)?s=d.after(k.global,"onhashchange",p,!0):document.addEventListener?(e=n(),setInterval(f,y)):document.attachEvent&&(u=new r)});return k.hash})},"dojox/mobile":function(){define([".","dojo/_base/lang","dojox/mobile/_base"],function(k,l,g){l.getObject("mobile",
!0,k);return k.mobile})},"dojox/mobile/_base":function(){define("./common ./View ./Heading ./RoundRect ./RoundRectCategory ./EdgeToEdgeCategory ./RoundRectList ./EdgeToEdgeList ./ListItem ./Container ./Pane ./Switch ./ToolBarButton ./ProgressIndicator".split(" "),function(k,l,g,d,c,b,a,h,q,n,p,f){return k})},"dojox/mobile/common":function(){define("dojo/_base/array dojo/_base/config dojo/_base/connect dojo/_base/lang dojo/_base/window dojo/_base/kernel dojo/dom-class dojo/dom-construct dojo/ready dojo/touch dijit/registry ./sniff ./uacss".split(" "),
function(k,l,g,d,c,b,a,h,q,n,p,f){var m=d.getObject("dojox.mobile",!0);c.doc.dojoClick=!0;f("touch")&&(f.add("clicks-prevented",!(4.1<=f("android")||10<=f("ie"))),f("clicks-prevented")&&(m._sendClick=function(a,b){for(var f=a;f;f=f.parentNode)if(f.dojoClick)return;f=c.doc.createEvent("MouseEvents");f.initMouseEvent("click",!0,!0,c.global,1,b.screenX,b.screenY,b.clientX,b.clientY);a.dispatchEvent(f)}));m.getScreenSize=function(){return{h:c.global.innerHeight||c.doc.documentElement.clientHeight,w:c.global.innerWidth||
c.doc.documentElement.clientWidth}};m.updateOrient=function(){var e=m.getScreenSize();a.replace(c.doc.documentElement,e.h>e.w?"dj_portrait":"dj_landscape",e.h>e.w?"dj_landscape":"dj_portrait")};m.updateOrient();m.tabletSize=500;m.detectScreenSize=function(e){var b=m.getScreenSize(),f=Math.min(b.w,b.h),d,h;if(f>=m.tabletSize&&(e||!this._sz||this._sz<m.tabletSize))d="phone",h="tablet";else if(f<m.tabletSize&&(e||!this._sz||this._sz>=m.tabletSize))d="tablet",h="phone";h&&(a.replace(c.doc.documentElement,
"dj_"+h,"dj_"+d),g.publish("/dojox/mobile/screenSize/"+h,[b]));this._sz=f};m.detectScreenSize();m.hideAddressBarWait="number"===typeof l.mblHideAddressBarWait?l.mblHideAddressBarWait:1500;m.hide_1=function(){scrollTo(0,1);m._hidingTimer=0==m._hidingTimer?200:2*m._hidingTimer;setTimeout(function(){m.isAddressBarHidden()||m._hidingTimer>m.hideAddressBarWait?(m.resizeAll(),m._hiding=!1):setTimeout(m.hide_1,m._hidingTimer)},50)};m.hideAddressBar=function(a){!m.disableHideAddressBar&&!m._hiding&&(m._hiding=
!0,m._hidingTimer=f("ios")?200:0,a=screen.availHeight,f("android")&&(a=outerHeight/devicePixelRatio,0==a&&(m._hiding=!1,setTimeout(function(){m.hideAddressBar()},200)),a<=innerHeight&&(a=outerHeight),3>f("android")&&(c.doc.documentElement.style.overflow=c.body().style.overflow="visible")),c.body().offsetHeight<a&&(c.body().style.minHeight=a+"px",m._resetMinHeight=!0),setTimeout(m.hide_1,m._hidingTimer))};m.isAddressBarHidden=function(){return 1===pageYOffset};m.resizeAll=function(a,b){if(!m.disableResizeAll){g.publish("/dojox/mobile/resizeAll",
[a,b]);g.publish("/dojox/mobile/beforeResizeAll",[a,b]);m._resetMinHeight&&(c.body().style.minHeight=m.getScreenSize().h+"px");m.updateOrient();m.detectScreenSize();var f=function(a){var e=a.getParent&&a.getParent();return!(e&&e.resize||!a.resize)},d=function(a){k.forEach(a.getChildren(),function(a){f(a)&&a.resize();d(a)})};b?(b.resize&&b.resize(),d(b)):k.forEach(k.filter(p.toArray(),f),function(a){a.resize()});g.publish("/dojox/mobile/afterResizeAll",[a,b])}};m.openWindow=function(a,b){c.global.open(a,
b||"_blank")};m._detectWindowsTheme=function(){navigator.userAgent.match(/IEMobile\/10\.0/)&&h.create("style",{innerHTML:"@-ms-viewport {width: auto !important}"},c.doc.head);var e=function(){a.add(c.doc.documentElement,"windows_theme");b.experimental("Dojo Mobile Windows theme","Behavior and appearance of the Windows theme are experimental.")},m=f("windows-theme");if(void 0!==m)m&&e();else{for(var d,g=function(a){return a&&-1!==a.indexOf("/windows/")?(f.add("windows-theme",!0),e(),!0):!1},r=c.doc.styleSheets,
m=0;m<r.length;m++)if(!r[m].href){var p=r[m].cssRules||r[m].imports;if(p)for(d=0;d<p.length;d++)if(g(p[d].href))return}d=c.doc.getElementsByTagName("link");for(m=0;m<d.length&&!g(d[m].href);m++);}};!1!==l.mblApplyPageStyles&&a.add(c.doc.documentElement,"mobile");f("chrome")&&a.add(c.doc.documentElement,"dj_chrome");if(c.global._no_dojo_dm){d=c.global._no_dojo_dm;for(var r in d)m[r]=d[r];m.deviceTheme.setDm(m)}f.add("mblAndroidWorkaround",!1!==l.mblAndroidWorkaround&&3>f("android"),void 0,!0);f.add("mblAndroid3Workaround",
!1!==l.mblAndroid3Workaround&&3<=f("android"),void 0,!0);m._detectWindowsTheme();q(function(){m.detectScreenSize(!0);a.add(c.body(),"mblBackground");!1!==l.mblAndroidWorkaroundButtonStyle&&f("android")&&h.create("style",{innerHTML:"BUTTON,INPUT[type\x3d'button'],INPUT[type\x3d'submit'],INPUT[type\x3d'reset'],INPUT[type\x3d'file']::-webkit-file-upload-button{-webkit-appearance:none;} audio::-webkit-media-controls-play-button,video::-webkit-media-controls-play-button{-webkit-appearance:media-play-button;} video::-webkit-media-controls-fullscreen-button{-webkit-appearance:media-fullscreen-button;}"},
c.doc.head,"first");f("mblAndroidWorkaround")&&h.create("style",{innerHTML:".mblView.mblAndroidWorkaround{position:absolute;top:-9999px !important;left:-9999px !important;}"},c.doc.head,"last");var e=m.resizeAll;if(!1!==l.mblHideAddressBar&&-1!=navigator.appVersion.indexOf("Mobile")||!0===l.mblForceHideAddressBar)m.hideAddressBar(),!0===l.mblAlwaysHideAddressBar&&(e=m.hideAddressBar);var b=6<=f("ios");if((f("android")||b)&&void 0!==c.global.onorientationchange){var d=e,r,p,n;b?(p=c.doc.documentElement.clientWidth,
n=c.doc.documentElement.clientHeight):(e=function(a){var e=g.connect(null,"onresize",null,function(a){g.disconnect(e);d(a)})},r=m.getScreenSize());g.connect(null,"onresize",null,function(a){if(b){var e=c.doc.documentElement.clientWidth,f=c.doc.documentElement.clientHeight;e==p&&f!=n&&d(a);p=e;n=f}else e=m.getScreenSize(),e.w==r.w&&100<=Math.abs(e.h-r.h)&&d(a),r=e})}g.connect(null,void 0!==c.global.onorientationchange?"onorientationchange":"onresize",null,e);c.body().style.visibility="visible"});return m})},
"dojo/touch":function(){define("./_base/kernel ./aspect ./dom ./dom-class ./_base/lang ./on ./has ./mouse ./domReady ./_base/window".split(" "),function(k,l,g,d,c,b,a,h,q,n){function p(a,e,f){return u&&f?function(a,e){return b(a,f,e)}:r?function(f,c){var m=b(f,e,c),d=b(f,a,function(a){(!w||(new Date).getTime()>w+1E3)&&c.call(this,a)});return{remove:function(){m.remove();d.remove()}}}:function(e,f){return b(e,a,f)}}function f(a){do if(a.dojoClick)return a.dojoClick;while(a=a.parentNode)}function m(a,
e,c){if(y=!a.target.disabled&&f(a.target))D=a.target,v=a.touches?a.touches[0].pageX:a.clientX,x=a.touches?a.touches[0].pageY:a.clientY,t=("object"==typeof y?y.x:"number"==typeof y?y:0)||4,z=("object"==typeof y?y.y:"number"==typeof y?y:0)||4,s||(s=!0,n.doc.addEventListener(e,function(a){y=y&&a.target==D&&Math.abs((a.touches?a.touches[0].pageX:a.clientX)-v)<=t&&Math.abs((a.touches?a.touches[0].pageY:a.clientY)-x)<=z},!0),n.doc.addEventListener(c,function(a){if(y){A=(new Date).getTime();var e=a.target;
"LABEL"===e.tagName&&(e=g.byId(e.getAttribute("for"))||e);setTimeout(function(){b.emit(e,"click",{bubbles:!0,cancelable:!0,_dojo_click:!0})})}},!0),a=function(a){n.doc.addEventListener(a,function(e){!e._dojo_click&&((new Date).getTime()<=A+1E3&&!("INPUT"==e.target.tagName&&d.contains(e.target,"dijitOffScreen")))&&(e.stopPropagation(),e.stopImmediatePropagation&&e.stopImmediatePropagation(),"click"==a&&(("INPUT"!=e.target.tagName||"radio"==e.target.type||"checkbox"==e.target.type)&&"TEXTAREA"!=e.target.tagName&&
"AUDIO"!=e.target.tagName&&"VIDEO"!=e.target.tagName)&&e.preventDefault())},!0)},a("click"),a("mousedown"),a("mouseup"))}var r=a("touch"),e=5>a("ios"),u=navigator.msPointerEnabled,s,y,D,v,x,t,z,A,w,H;r&&(u?q(function(){n.doc.addEventListener("MSPointerDown",function(a){m(a,"MSPointerMove","MSPointerUp")},!0)}):q(function(){function f(e){var b=c.delegate(e,{bubbles:!0});6<=a("ios")&&(b.touches=e.touches,b.altKey=e.altKey,b.changedTouches=e.changedTouches,b.ctrlKey=e.ctrlKey,b.metaKey=e.metaKey,b.shiftKey=
e.shiftKey,b.targetTouches=e.targetTouches);return b}H=n.body();n.doc.addEventListener("touchstart",function(a){w=(new Date).getTime();var e=H;H=a.target;b.emit(e,"dojotouchout",{relatedTarget:H,bubbles:!0});b.emit(H,"dojotouchover",{relatedTarget:e,bubbles:!0});m(a,"touchmove","touchend")},!0);b(n.doc,"touchmove",function(a){w=(new Date).getTime();var c=n.doc.elementFromPoint(a.pageX-(e?0:n.global.pageXOffset),a.pageY-(e?0:n.global.pageYOffset));c&&(H!==c&&(b.emit(H,"dojotouchout",{relatedTarget:c,
bubbles:!0}),b.emit(c,"dojotouchover",{relatedTarget:H,bubbles:!0}),H=c),b.emit(c,"dojotouchmove",f(a)))});b(n.doc,"touchend",function(a){w=(new Date).getTime();var c=n.doc.elementFromPoint(a.pageX-(e?0:n.global.pageXOffset),a.pageY-(e?0:n.global.pageYOffset))||n.body();b.emit(c,"dojotouchend",f(a))})}));l={press:p("mousedown","touchstart","MSPointerDown"),move:p("mousemove","dojotouchmove","MSPointerMove"),release:p("mouseup","dojotouchend","MSPointerUp"),cancel:p(h.leave,"touchcancel",r?"MSPointerCancel":
null),over:p("mouseover","dojotouchover","MSPointerOver"),out:p("mouseout","dojotouchout","MSPointerOut"),enter:h._eventHandler(p("mouseover","dojotouchover","MSPointerOver")),leave:h._eventHandler(p("mouseout","dojotouchout","MSPointerOut"))};return k.touch=l})},"dijit/registry":function(){define(["dojo/_base/array","dojo/sniff","dojo/_base/window","./main"],function(k,l,g,d){var c={},b={},a={length:0,add:function(a){if(b[a.id])throw Error("Tried to register widget with id\x3d\x3d"+a.id+" but that id is already registered");
b[a.id]=a;this.length++},remove:function(a){b[a]&&(delete b[a],this.length--)},byId:function(a){return"string"==typeof a?b[a]:a},byNode:function(a){return b[a.getAttribute("widgetId")]},toArray:function(){var a=[],c;for(c in b)a.push(b[c]);return a},getUniqueId:function(a){var g;do g=a+"_"+(a in c?++c[a]:c[a]=0);while(b[g]);return"dijit"==d._scopeName?g:d._scopeName+"_"+g},findWidgets:function(a,c){function d(a){for(a=a.firstChild;a;a=a.nextSibling)if(1==a.nodeType){var m=a.getAttribute("widgetId");
m?(m=b[m])&&g.push(m):a!==c&&d(a)}}var g=[];d(a);return g},_destroyAll:function(){d._curFocus=null;d._prevFocus=null;d._activeStack=[];k.forEach(a.findWidgets(g.body()),function(a){a._destroyed||(a.destroyRecursive?a.destroyRecursive():a.destroy&&a.destroy())})},getEnclosingWidget:function(a){for(;a;){var c=1==a.nodeType&&a.getAttribute("widgetId");if(c)return b[c];a=a.parentNode}return null},_hash:b};return d.registry=a})},"dijit/main":function(){define(["dojo/_base/kernel"],function(k){return k.dijit})},
"dojox/mobile/sniff":function(){define(["dojo/_base/kernel","dojo/sniff"],function(k,l){k.deprecated("dojox/mobile/sniff","Use dojo/sniff instead","2.0");l.add("iphone",l("ios"));return l})},"dojox/mobile/uacss":function(){define(["dojo/_base/kernel","dojo/_base/lang","dojo/_base/window","./sniff"],function(k,l,g,d){g=g.doc.documentElement;g.className=l.trim(g.className+" "+[d("bb")?"dj_bb":"",d("android")?"dj_android":"",d("ios")?"dj_ios":"",6<=d("ios")?"dj_ios6":"",d("ios")?"dj_iphone":"",d("ipod")?
"dj_ipod":"",d("ipad")?"dj_ipad":"",d("ie")?"dj_ie":""].join(" ").replace(/ +/g," "));return k})},"dojox/mobile/View":function(){define("dojo/_base/array dojo/_base/config dojo/_base/connect dojo/_base/declare dojo/_base/lang dojo/sniff dojo/_base/window dojo/_base/Deferred dojo/dom dojo/dom-class dojo/dom-construct dojo/dom-geometry dojo/dom-style dijit/registry dijit/_Contained dijit/_Container dijit/_WidgetBase ./ViewController ./common ./transition ./viewRegistry ./_css3".split(" "),function(k,
l,g,d,c,b,a,h,q,n,p,f,m,r,e,u,s,y,D,v,x,t){c.getObject("dojox.mobile",!0);return d("dojox.mobile.View",[s,u,e],{selected:!1,keepScrollPos:!0,tag:"div",baseClass:"mblView",constructor:function(a,e){e&&(q.byId(e).style.visibility="hidden")},destroy:function(){x.remove(this.id);this.inherited(arguments)},buildRendering:function(){this.templateString||(this.domNode=this.containerNode=this.srcNodeRef||p.create(this.tag));this._animEndHandle=this.connect(this.domNode,t.name("animationEnd"),"onAnimationEnd");
this._animStartHandle=this.connect(this.domNode,t.name("animationStart"),"onAnimationStart");l.mblCSS3Transition||(this._transEndHandle=this.connect(this.domNode,t.name("transitionEnd"),"onAnimationEnd"));b("mblAndroid3Workaround")&&m.set(this.domNode,t.name("transformStyle"),"preserve-3d");x.add(this);this.inherited(arguments)},startup:function(){if(!this._started){if(void 0===this._visible){var a=this.getSiblingViews(),e=location.hash&&location.hash.substring(1).split(/,/),b,f,c;k.forEach(a,function(a,
m){-1!==k.indexOf(e,a.id)&&(b=a);0==m&&(c=a);a.selected&&(f=a);a._visible=!1},this);(b||f||c)._visible=!0}this._visible&&(this.show(!0,!0),this.defer(function(){this.onStartView();g.publish("/dojox/mobile/startView",[this])}));"visible"!=this.domNode.style.visibility&&(this.domNode.style.visibility="visible");this.inherited(arguments);a=this.getParent();(!a||!a.resize)&&this.resize();this._visible||this.hide()}},resize:function(){k.forEach(this.getChildren(),function(a){a.resize&&a.resize()})},onStartView:function(){},
onBeforeTransitionIn:function(a,e,b,f,c){},onAfterTransitionIn:function(a,e,b,f,c){},onBeforeTransitionOut:function(a,e,b,f,c){},onAfterTransitionOut:function(a,e,b,f,c){},_clearClasses:function(a){if(a){var e=[];k.forEach(c.trim(a.className||"").split(/\s+/),function(a){(a.match(/^mbl\w*View$/)||-1===a.indexOf("mbl"))&&e.push(a)},this);a.className=e.join(" ")}},_fixViewState:function(a){for(var e=this.domNode.parentNode.childNodes,b=0;b<e.length;b++){var f=e[b];1===f.nodeType&&n.contains(f,"mblView")&&
this._clearClasses(f)}this._clearClasses(a);if(a=r.byNode(a))a._inProgress=!1},convertToId:function(a){return"string"==typeof a?a.replace(/^#?([^&?]+).*/,"$1"):a},_isBookmarkable:function(a){return a.moveTo&&(l.mblForceBookmarkable||"#"===a.moveTo.charAt(0))&&!a.hashchange},performTransition:function(e,f,d,u,h){if(!this._inProgress){this._inProgress=!0;var s,p;if(e&&"object"===typeof e)s=e,p=f;else{s={moveTo:e,transitionDir:f,transition:d,context:u,method:h};p=[];for(var k=5;k<arguments.length;k++)p.push(arguments[k])}this._detail=
s;this._optArgs=p;this._arguments=[s.moveTo,s.transitionDir,s.transition,s.context,s.method];if("#"!==s.moveTo){s.moveTo?p=this.convertToId(s.moveTo):(this._dummyNode||(this._dummyNode=a.doc.createElement("div"),a.body().appendChild(this._dummyNode)),p=this._dummyNode);this.addTransitionInfo&&("string"==typeof s.moveTo&&this._isBookmarkable(s))&&this.addTransitionInfo(this.id,s.moveTo,{transitionDir:s.transitionDir,transition:s.transition});var k=this.domNode,y=k.offsetTop;if(p=this.toNode=q.byId(p)){p.style.visibility=
"hidden";p.style.display="";this._fixViewState(p);var v=r.byNode(p);if(v){if(l.mblAlwaysResizeOnTransition||!v._resized)D.resizeAll(null,v),v._resized=!0;s.transition&&"none"!=s.transition&&v._addTransitionPaddingTop(y);v.load&&v.load();v.movedFrom=k.id}b("mblAndroidWorkaround")&&(!l.mblCSS3Transition&&s.transition&&"none"!=s.transition)&&(m.set(p,t.name("transformStyle"),"preserve-3d"),m.set(k,t.name("transformStyle"),"preserve-3d"),n.add(p,"mblAndroidWorkaround"));this.onBeforeTransitionOut.apply(this,
this._arguments);g.publish("/dojox/mobile/beforeTransitionOut",[this].concat(c._toArray(this._arguments)));if(v){if(this.keepScrollPos&&!this.getParent()){y=a.body().scrollTop||a.doc.documentElement.scrollTop||a.global.pageYOffset||0;k._scrollTop=y;var x=1==s.transitionDir?0:p._scrollTop||0;p.style.top="0px";if(1<y||0!==x)k.style.top=x-y+"px",!1!==l.mblHideAddressBar&&this.defer(function(){a.global.scrollTo(0,x||1)})}else p.style.top="0px";v.onBeforeTransitionIn.apply(v,this._arguments);g.publish("/dojox/mobile/beforeTransitionIn",
[v].concat(c._toArray(this._arguments)))}p.style.display="none";p.style.visibility="visible";D.fromView=this;D.toView=v;this._doTransition(k,p,s.transition,s.transitionDir)}}}},_addTransitionPaddingTop:function(a){this.containerNode.style.paddingTop=a+"px"},_removeTransitionPaddingTop:function(){this.containerNode.style.paddingTop=""},_toCls:function(a){return"mbl"+a.charAt(0).toUpperCase()+a.substring(1)},_doTransition:function(e,d,g,u){var s=-1==u?" mblReverse":"";d.style.display="";if(!g||"none"==
g)this.domNode.style.display="none",this.invokeCallback();else if(l.mblCSS3Transition)h.when(v,c.hitch(this,function(a){var b=m.get(d,"position");m.set(d,"position","absolute");h.when(a(e,d,{transition:g,reverse:-1===u?!0:!1}),c.hitch(this,function(){m.set(d,"position",b);d.style.paddingTop="";this.invokeCallback()}))}));else{-1!=g.indexOf("cube")&&(b("ipad")?m.set(d.parentNode,{webkitPerspective:1600}):b("ios")&&m.set(d.parentNode,{webkitPerspective:800}));var r=this._toCls(g);if(b("mblAndroidWorkaround")){var p=
this;p.defer(function(){n.add(e,r+" mblOut"+s);n.add(d,r+" mblIn"+s);n.remove(d,"mblAndroidWorkaround");p.defer(function(){n.add(e,"mblTransition");n.add(d,"mblTransition")},30)},70)}else n.add(e,r+" mblOut"+s),n.add(d,r+" mblIn"+s),this.defer(function(){n.add(e,"mblTransition");n.add(d,"mblTransition")},100);var q="50% 50%",k="50% 50%",y;-1!=g.indexOf("swirl")||-1!=g.indexOf("zoom")?(q=this.keepScrollPos&&!this.getParent()?a.body().scrollTop||a.doc.documentElement.scrollTop||a.global.pageYOffset||
0:-f.position(e,!0).y,y=a.global.innerHeight/2+q,q="50% "+y+"px",k="50% "+y+"px"):-1!=g.indexOf("scale")&&(q=f.position(e,!0),k=(void 0!==this.clickedPosX?this.clickedPosX:a.global.innerWidth/2)-q.x,q=this.keepScrollPos&&!this.getParent()?a.body().scrollTop||a.doc.documentElement.scrollTop||a.global.pageYOffset||0:-q.y,y=(void 0!==this.clickedPosY?this.clickedPosY:a.global.innerHeight/2)+q,q=k+"px "+y+"px",k=k+"px "+y+"px");m.set(e,t.add({},{transformOrigin:q}));m.set(d,t.add({},{transformOrigin:k}))}},
onAnimationStart:function(a){},onAnimationEnd:function(a){var e=a.animationName||a.target.className;if(!(-1===e.indexOf("Out")&&-1===e.indexOf("In")&&-1===e.indexOf("Shrink"))){var f=!1;n.contains(this.domNode,"mblOut")?(f=!0,this.domNode.style.display="none",n.remove(this.domNode,[this._toCls(this._detail.transition),"mblIn","mblOut","mblReverse"])):this._removeTransitionPaddingTop();m.set(this.domNode,t.add({},{transformOrigin:""}));-1!==e.indexOf("Shrink")&&(a=a.target,a.style.display="none",n.remove(a,
"mblCloseContent"),(a=x.getEnclosingScrollable(this.domNode))&&a.onTouchEnd());f&&this.invokeCallback();this._clearClasses(this.domNode);this.clickedPosX=this.clickedPosY=void 0;-1!==e.indexOf("Cube")&&(-1!==e.indexOf("In")&&b("ios"))&&(this.domNode.parentNode.style[t.name("perspective")]="")}},invokeCallback:function(){this.onAfterTransitionOut.apply(this,this._arguments);g.publish("/dojox/mobile/afterTransitionOut",[this].concat(this._arguments));var e=r.byNode(this.toNode);e&&(e.onAfterTransitionIn.apply(e,
this._arguments),g.publish("/dojox/mobile/afterTransitionIn",[e].concat(this._arguments)),e.movedFrom=void 0,this.setFragIds&&this._isBookmarkable(this._detail)&&this.setFragIds(e));b("mblAndroidWorkaround")&&this.defer(function(){e&&m.set(this.toNode,t.name("transformStyle"),"");m.set(this.domNode,t.name("transformStyle"),"")});var f=this._detail.context,c=this._detail.method;if(f||c)c||(c=f,f=null),f=f||a.global,"string"==typeof c?f[c].apply(f,this._optArgs):"function"==typeof c&&c.apply(f,this._optArgs);
this._detail=this._optArgs=this._arguments=void 0;this._inProgress=!1},isVisible:function(a){if(a){for(a=this.domNode;"BODY"!==a.tagName;a=a.parentNode)if("none"===m.get(a,"display"))return!1;return!0}return"none"!==m.get(this.domNode,"display")},getShowingView:function(){for(var a=this.domNode.parentNode.childNodes,e=0;e<a.length;e++){var b=a[e];if(1===b.nodeType&&n.contains(b,"mblView")&&"none"!==b.style.display)return r.byNode(b)}return null},getSiblingViews:function(){return!this.domNode.parentNode?
[this]:k.map(k.filter(this.domNode.parentNode.childNodes,function(a){return 1===a.nodeType&&n.contains(a,"mblView")}),function(a){return r.byNode(a)})},show:function(a,e){var b=this.getShowingView();a||(b&&(b.onBeforeTransitionOut(b.id),g.publish("/dojox/mobile/beforeTransitionOut",[b,b.id])),this.onBeforeTransitionIn(this.id),g.publish("/dojox/mobile/beforeTransitionIn",[this,this.id]));e?this.domNode.style.display="":k.forEach(this.getSiblingViews(),function(a){a.domNode.style.display=a===this?
"":"none"},this);this.load&&this.load();a||(b&&(b.onAfterTransitionOut(b.id),g.publish("/dojox/mobile/afterTransitionOut",[b,b.id])),this.onAfterTransitionIn(this.id),g.publish("/dojox/mobile/afterTransitionIn",[this,this.id]))},hide:function(){this.domNode.style.display="none"}})})},"dijit/_Contained":function(){define(["dojo/_base/declare","./registry"],function(k,l){return k("dijit._Contained",null,{_getSibling:function(g){var d=this.domNode;do d=d[g+"Sibling"];while(d&&1!=d.nodeType);return d&&
l.byNode(d)},getPreviousSibling:function(){return this._getSibling("previous")},getNextSibling:function(){return this._getSibling("next")},getIndexInParent:function(){var g=this.getParent();return!g||!g.getIndexOfChild?-1:g.getIndexOfChild(this)}})})},"dijit/_Container":function(){define(["dojo/_base/array","dojo/_base/declare","dojo/dom-construct","dojo/_base/kernel"],function(k,l,g,d){return l("dijit._Container",null,{buildRendering:function(){this.inherited(arguments);this.containerNode||(this.containerNode=
this.domNode)},addChild:function(c,b){var a=this.containerNode;if(0<b){for(a=a.firstChild;0<b;)1==a.nodeType&&b--,a=a.nextSibling;a?b="before":(a=this.containerNode,b="last")}g.place(c.domNode,a,b);this._started&&!c._started&&c.startup()},removeChild:function(c){"number"==typeof c&&(c=this.getChildren()[c]);c&&(c=c.domNode)&&c.parentNode&&c.parentNode.removeChild(c)},hasChildren:function(){return 0<this.getChildren().length},_getSiblingOfChild:function(c,b){d.deprecated(this.declaredClass+"::_getSiblingOfChild() is deprecated. Use _KeyNavMixin::_getNext() instead.",
"","2.0");var a=this.getChildren(),g=k.indexOf(a,c);return a[g+b]},getIndexOfChild:function(c){return k.indexOf(this.getChildren(),c)}})})},"dijit/_WidgetBase":function(){define("require dojo/_base/array dojo/aspect dojo/_base/config dojo/_base/connect dojo/_base/declare dojo/dom dojo/dom-attr dojo/dom-class dojo/dom-construct dojo/dom-geometry dojo/dom-style dojo/has dojo/_base/kernel dojo/_base/lang dojo/on dojo/ready dojo/Stateful dojo/topic dojo/_base/window ./Destroyable dojo/has!dojo-bidi?./_BidiMixin ./registry".split(" "),
function(k,l,g,d,c,b,a,h,q,n,p,f,m,r,e,u,s,y,D,v,x,t,z){function A(a){return function(e){h[e?"set":"remove"](this.domNode,a,e);this._set(a,e)}}m.add("dijit-legacy-requires",!r.isAsync);m.add("dojo-bidi",!1);m("dijit-legacy-requires")&&s(0,function(){k(["dijit/_base/manager"])});var w={};d=b("dijit._WidgetBase",[y,x],{id:"",_setIdAttr:"domNode",lang:"",_setLangAttr:A("lang"),dir:"",_setDirAttr:A("dir"),"class":"",_setClassAttr:{node:"domNode",type:"class"},style:"",title:"",tooltip:"",baseClass:"",
srcNodeRef:null,domNode:null,containerNode:null,ownerDocument:null,_setOwnerDocumentAttr:function(a){this._set("ownerDocument",a)},attributeMap:{},_blankGif:d.blankGif||k.toUrl("dojo/resources/blank.gif"),_introspect:function(){var a=this.constructor;if(!a._setterAttrs){var e=a.prototype,b=a._setterAttrs=[],a=a._onMap={},f;for(f in e.attributeMap)b.push(f);for(f in e)/^on/.test(f)&&(a[f.substring(2).toLowerCase()]=f),/^_set[A-Z](.*)Attr$/.test(f)&&(f=f.charAt(4).toLowerCase()+f.substr(5,f.length-
9),(!e.attributeMap||!(f in e.attributeMap))&&b.push(f))}},postscript:function(a,e){this.create(a,e)},create:function(b,f){this._introspect();this.srcNodeRef=a.byId(f);this._connects=[];this._supportingWidgets=[];this.srcNodeRef&&"string"==typeof this.srcNodeRef.id&&(this.id=this.srcNodeRef.id);b&&(this.params=b,e.mixin(this,b));this.postMixInProperties();this.id||(this.id=z.getUniqueId(this.declaredClass.replace(/\./g,"_")),this.params&&delete this.params.id);this.ownerDocument=this.ownerDocument||
(this.srcNodeRef?this.srcNodeRef.ownerDocument:document);this.ownerDocumentBody=v.body(this.ownerDocument);z.add(this);this.buildRendering();var c;if(this.domNode){this._applyAttributes();var d=this.srcNodeRef;d&&(d.parentNode&&this.domNode!==d)&&(d.parentNode.replaceChild(this.domNode,d),c=!0);this.domNode.setAttribute("widgetId",this.id)}this.postCreate();c&&delete this.srcNodeRef;this._created=!0},_applyAttributes:function(){var a={},e;for(e in this.params||{})a[e]=this._get(e);l.forEach(this.constructor._setterAttrs,
function(e){if(!(e in a)){var b=this._get(e);b&&this.set(e,b)}},this);for(e in a)this.set(e,a[e])},postMixInProperties:function(){},buildRendering:function(){this.domNode||(this.domNode=this.srcNodeRef||this.ownerDocument.createElement("div"));if(this.baseClass){var a=this.baseClass.split(" ");this.isLeftToRight()||(a=a.concat(l.map(a,function(a){return a+"Rtl"})));q.add(this.domNode,a)}},postCreate:function(){},startup:function(){this._started||(this._started=!0,l.forEach(this.getChildren(),function(a){!a._started&&
(!a._destroyed&&e.isFunction(a.startup))&&(a.startup(),a._started=!0)}))},destroyRecursive:function(a){this._beingDestroyed=!0;this.destroyDescendants(a);this.destroy(a)},destroy:function(a){function b(e){e.destroyRecursive?e.destroyRecursive(a):e.destroy&&e.destroy(a)}this._beingDestroyed=!0;this.uninitialize();l.forEach(this._connects,e.hitch(this,"disconnect"));l.forEach(this._supportingWidgets,b);this.domNode&&l.forEach(z.findWidgets(this.domNode,this.containerNode),b);this.destroyRendering(a);
z.remove(this.id);this._destroyed=!0},destroyRendering:function(a){this.bgIframe&&(this.bgIframe.destroy(a),delete this.bgIframe);this.domNode&&(a?h.remove(this.domNode,"widgetId"):n.destroy(this.domNode),delete this.domNode);this.srcNodeRef&&(a||n.destroy(this.srcNodeRef),delete this.srcNodeRef)},destroyDescendants:function(a){l.forEach(this.getChildren(),function(e){e.destroyRecursive&&e.destroyRecursive(a)})},uninitialize:function(){return!1},_setStyleAttr:function(a){var b=this.domNode;e.isObject(a)?
f.set(b,a):b.style.cssText=b.style.cssText?b.style.cssText+("; "+a):a;this._set("style",a)},_attrToDom:function(a,b,f){f=3<=arguments.length?f:this.attributeMap[a];l.forEach(e.isArray(f)?f:[f],function(f){var c=this[f.node||f||"domNode"];switch(f.type||"attribute"){case "attribute":e.isFunction(b)&&(b=e.hitch(this,b));f=f.attribute?f.attribute:/^on[A-Z][a-zA-Z]*$/.test(a)?a.toLowerCase():a;c.tagName?h.set(c,f,b):c.set(f,b);break;case "innerText":c.innerHTML="";c.appendChild(this.ownerDocument.createTextNode(b));
break;case "innerHTML":c.innerHTML=b;break;case "class":q.replace(c,b,this[a])}},this)},get:function(a){var e=this._getAttrNames(a);return this[e.g]?this[e.g]():this._get(a)},set:function(a,b){if("object"===typeof a){for(var f in a)this.set(f,a[f]);return this}f=this._getAttrNames(a);var c=this[f.s];if(e.isFunction(c))var d=c.apply(this,Array.prototype.slice.call(arguments,1));else{var c=this.focusNode&&!e.isFunction(this.focusNode)?"focusNode":"domNode",m=this[c]&&this[c].tagName,g;if(g=m)if(!(g=
w[m])){g=this[c];var u={},s;for(s in g)u[s.toLowerCase()]=!0;g=w[m]=u}s=g;f=a in this.attributeMap?this.attributeMap[a]:f.s in this?this[f.s]:s&&f.l in s&&"function"!=typeof b||/^aria-|^data-|^role$/.test(a)?c:null;null!=f&&this._attrToDom(a,b,f);this._set(a,b)}return d||this},_attrPairNames:{},_getAttrNames:function(a){var e=this._attrPairNames;if(e[a])return e[a];var b=a.replace(/^[a-z]|-[a-zA-Z]/g,function(a){return a.charAt(a.length-1).toUpperCase()});return e[a]={n:a+"Node",s:"_set"+b+"Attr",
g:"_get"+b+"Attr",l:b.toLowerCase()}},_set:function(a,e){var b=this[a];this[a]=e;this._created&&e!==b&&(this._watchCallbacks&&this._watchCallbacks(a,b,e),this.emit("attrmodified-"+a,{detail:{prevValue:b,newValue:e}}))},_get:function(a){return this[a]},emit:function(a,e,b){e=e||{};void 0===e.bubbles&&(e.bubbles=!0);void 0===e.cancelable&&(e.cancelable=!0);e.detail||(e.detail={});e.detail.widget=this;var f,c=this["on"+a];c&&(f=c.apply(this,b?b:[e]));this._started&&!this._beingDestroyed&&u.emit(this.domNode,
a.toLowerCase(),e);return f},on:function(a,e){var b=this._onMap(a);return b?g.after(this,b,e,!0):this.own(u(this.domNode,a,e))[0]},_onMap:function(a){var e=this.constructor,b=e._onMap;if(!b){var b=e._onMap={},f;for(f in e.prototype)/^on/.test(f)&&(b[f.replace(/^on/,"").toLowerCase()]=f)}return b["string"==typeof a&&a.toLowerCase()]},toString:function(){return"[Widget "+this.declaredClass+", "+(this.id||"NO ID")+"]"},getChildren:function(){return this.containerNode?z.findWidgets(this.containerNode):
[]},getParent:function(){return z.getEnclosingWidget(this.domNode.parentNode)},connect:function(a,e,b){return this.own(c.connect(a,e,this,b))[0]},disconnect:function(a){a.remove()},subscribe:function(a,b){return this.own(D.subscribe(a,e.hitch(this,b)))[0]},unsubscribe:function(a){a.remove()},isLeftToRight:function(){return this.dir?"ltr"==this.dir:p.isBodyLtr(this.ownerDocument)},isFocusable:function(){return this.focus&&"none"!=f.get(this.domNode,"display")},placeAt:function(e,b){var f=!e.tagName&&
z.byId(e);f&&f.addChild&&(!b||"number"===typeof b)?f.addChild(this,b):(f=f?f.containerNode&&!/after|before|replace/.test(b||"")?f.containerNode:f.domNode:a.byId(e,this.ownerDocument),n.place(this.domNode,f,b),!this._started&&(this.getParent()||{})._started&&this.startup());return this},defer:function(a,b){var f=setTimeout(e.hitch(this,function(){f&&(f=null,this._destroyed||e.hitch(this,a)())}),b||0);return{remove:function(){f&&(clearTimeout(f),f=null);return null}}}});m("dojo-bidi")&&d.extend(t);
return d})},"dojo/Stateful":function(){define(["./_base/declare","./_base/lang","./_base/array","./when"],function(k,l,g,d){return k("dojo.Stateful",null,{_attrPairNames:{},_getAttrNames:function(c){var b=this._attrPairNames;return b[c]?b[c]:b[c]={s:"_"+c+"Setter",g:"_"+c+"Getter"}},postscript:function(c){c&&this.set(c)},_get:function(c,b){return"function"===typeof this[b.g]?this[b.g]():this[c]},get:function(c){return this._get(c,this._getAttrNames(c))},set:function(c,b){if("object"===typeof c){for(var a in c)c.hasOwnProperty(a)&&
"_watchCallbacks"!=a&&this.set(a,c[a]);return this}a=this._getAttrNames(c);var g=this._get(c,a);a=this[a.s];var q;"function"===typeof a?q=a.apply(this,Array.prototype.slice.call(arguments,1)):this[c]=b;if(this._watchCallbacks){var n=this;d(q,function(){n._watchCallbacks(c,g,b)})}return this},_changeAttrValue:function(c,b){var a=this.get(c);this[c]=b;this._watchCallbacks&&this._watchCallbacks(c,a,b);return this},watch:function(c,b){var a=this._watchCallbacks;if(!a)var d=this,a=this._watchCallbacks=
function(b,f,c,g){var e=function(a){if(a){a=a.slice();for(var e=0,g=a.length;e<g;e++)a[e].call(d,b,f,c)}};e(a["_"+b]);g||e(a["*"])};!b&&"function"===typeof c?(b=c,c="*"):c="_"+c;var q=a[c];"object"!==typeof q&&(q=a[c]=[]);q.push(b);var n={};n.unwatch=n.remove=function(){var a=g.indexOf(q,b);-1<a&&q.splice(a,1)};return n}})})},"dijit/Destroyable":function(){define(["dojo/_base/array","dojo/aspect","dojo/_base/declare"],function(k,l,g){return g("dijit.Destroyable",null,{destroy:function(d){this._destroyed=
!0},own:function(){k.forEach(arguments,function(d){var c="destroyRecursive"in d?"destroyRecursive":"destroy"in d?"destroy":"remove",b=l.before(this,"destroy",function(a){d[c](a)}),a=l.after(d,c,function(){b.remove();a.remove()},!0)},this);return arguments}})})},"dojox/mobile/ViewController":function(){define("dojo/_base/kernel dojo/_base/array dojo/_base/connect dojo/_base/declare dojo/_base/lang dojo/_base/window dojo/_base/Deferred dojo/dom dojo/dom-class dojo/dom-construct dojo/on dojo/ready dijit/registry ./ProgressIndicator ./TransitionEvent ./viewRegistry".split(" "),
function(k,l,g,d,c,b,a,h,q,n,p,f,m,r,e,u){var s=d("dojox.mobile.ViewController",null,{dataHandlerClass:"dojox/mobile/dh/DataHandler",dataSourceClass:"dojox/mobile/dh/UrlDataSource",fileTypeMapClass:"dojox/mobile/dh/SuffixFileTypeMap",constructor:function(){this.viewMap={};f(c.hitch(this,function(){p(b.body(),"startTransition",c.hitch(this,"onStartTransition"))}))},findTransitionViews:function(a){if(!a)return[];a.match(/^#?([^&?]+)(.*)/);a=RegExp.$2;var e=m.byId(RegExp.$1);if(!e)return[];for(var b=
e.getParent();b;b=b.getParent())if(b.isVisible&&!b.isVisible()){var f=e.getShowingView();f&&f.id!==e.id&&e.show();e=b}return[e.getShowingView(),e,a]},openExternalView:function(f,d){var g=new a,u=this.viewMap[f.url];if(u)return f.moveTo=u,f.noTransition?m.byId(u).hide():(new e(b.body(),f)).dispatch(),g.resolve(!0),g;for(var s=null,u=d.childNodes.length-1;0<=u;u--){var r=d.childNodes[u];if(1===r.nodeType&&"bottom"===(r.getAttribute("fixed")||r.getAttribute("data-mobile-fixed")||m.byNode(r)&&m.byNode(r).fixed)){s=
r;break}}require([f.dataHandlerClass||this.dataHandlerClass,f.dataSourceClass||this.dataSourceClass,f.fileTypeMapClass||this.fileTypeMapClass],c.hitch(this,function(a,u,r){a=new a(new u(f.data||f.url),d,s);r=f.contentType||r.getContentType(f.url)||"html";a.processData(r,c.hitch(this,function(a){a?(this.viewMap[f.url]=f.moveTo=a,f.noTransition?m.byId(a).hide():(new e(b.body(),f)).dispatch(),g.resolve(!0)):g.reject("Failed to load "+f.url)}))}));return g},onStartTransition:function(a){a.preventDefault();
if(a.detail){var e=a.detail;if(e.moveTo||e.href||e.url||e.scene)if(e.url&&!e.moveTo){var f=e.urlTarget,c=m.byId(f),f=c&&c.containerNode||h.byId(f);f||(f=(c=u.getEnclosingView(a.target))&&c.domNode.parentNode||b.body());this.openExternalView(e,f)}else if(e.href)if(e.hrefTarget&&"_self"!=e.hrefTarget)b.global.open(e.href,e.hrefTarget);else{for(c=u.getEnclosingView(a.target);c;c=u.getParentView(c))f=c;f&&f.performTransition(null,e.transitionDir,e.transition,a.target,function(){location.href=e.href})}else if(e.scene)g.publish("/dojox/mobile/app/pushScene",
[e.scene]);else{var d=this.findTransitionViews(e.moveTo),f=d[0],c=d[1],d=d[2];!location.hash&&!e.hashchange&&(u.initialView=f);e.moveTo&&c&&(e.moveTo=("#"===e.moveTo.charAt(0)?"#"+c.id:c.id)+d);if(f&&!(e.moveTo&&f===m.byId(e.moveTo.replace(/^#?([^&?]+).*/,"$1")))){if((a=m.getEnclosingWidget(a.target))&&a.callback)e.context=a,e.method=a.callback;f.performTransition(e)}}}}});s._instance=new s;s.getInstance=function(){return s._instance};return s})},"dojox/mobile/ProgressIndicator":function(){define("dojo/_base/config dojo/_base/declare dojo/_base/lang dojo/dom-class dojo/dom-construct dojo/dom-geometry dojo/dom-style dojo/has dijit/_Contained dijit/_WidgetBase ./_css3".split(" "),
function(k,l,g,d,c,b,a,h,q,n,p){var f=l("dojox.mobile.ProgressIndicator",[n,q],{interval:100,size:40,removeOnStop:!0,startSpinning:!1,center:!0,colors:null,baseClass:"mblProgressIndicator",constructor:function(){this.colors=[];this._bars=[]},buildRendering:function(){this.inherited(arguments);this.center&&d.add(this.domNode,"mblProgressIndicatorCenter");this.containerNode=c.create("div",{className:"mblProgContainer"},this.domNode);this.spinnerNode=c.create("div",null,this.containerNode);for(var a=
0;12>a;a++){var b=c.create("div",{className:"mblProg mblProg"+a},this.spinnerNode);this._bars.push(b)}this.scale(this.size);this.startSpinning&&this.start()},scale:function(f){var c=f/40;a.set(this.containerNode,p.add({},{transform:"scale("+c+")",transformOrigin:"0 0"}));b.setMarginBox(this.domNode,{w:f,h:f});b.setMarginBox(this.containerNode,{w:f/c,h:f/c})},start:function(){if(this.imageNode){var a=this.imageNode,b=Math.round((this.containerNode.offsetWidth-a.offsetWidth)/2),e=Math.round((this.containerNode.offsetHeight-
a.offsetHeight)/2);a.style.margin=e+"px "+b+"px"}else{var f=0,c=this;this.timer=setInterval(function(){f--;f=0>f?11:f;for(var a=c.colors,e=0;12>e;e++){var b=(f+e)%12;a[b]?c._bars[e].style.backgroundColor=a[b]:d.replace(c._bars[e],"mblProg"+b+"Color","mblProg"+(11===b?0:b+1)+"Color")}},this.interval)}},stop:function(){this.timer&&clearInterval(this.timer);this.timer=null;this.removeOnStop&&(this.domNode&&this.domNode.parentNode)&&this.domNode.parentNode.removeChild(this.domNode)},setImage:function(a){a?
(this.imageNode=c.create("img",{src:a},this.containerNode),this.spinnerNode.style.display="none"):(this.imageNode&&(this.containerNode.removeChild(this.imageNode),this.imageNode=null),this.spinnerNode.style.display="")},destroy:function(){this.inherited(arguments);this===f._instance&&(f._instance=null)}});f._instance=null;f.getInstance=function(a){f._instance||(f._instance=new f(a));return f._instance};return f})},"dojox/mobile/_css3":function(){define(["dojo/_base/window","dojo/_base/array","dojo/has"],
function(k,l,g){var d=[],c=[],b=k.doc.createElement("div").style,a=["webkit"];g.add("css3-animations",function(b,c,d){var f=d.style;return void 0!==f.animation&&void 0!==f.transition||l.some(a,function(a){return void 0!==f[a+"Animation"]&&void 0!==f[a+"Transition"]})});var h={name:function(g,h){var p=(h?c:d)[g];if(!p){if(/End|Start/.test(g))var f=g.length-(g.match(/End/)?3:5),m=g.substr(0,f),r=this.name(m),p=r==m?g.toLowerCase():r+g.substr(f);else if("keyframes"==g)f=this.name("animation",h),p="animation"==
f?g:h?f.replace(/animation/,"keyframes"):f.replace(/Animation/,"Keyframes");else{var e=h?g.replace(/-(.)/g,function(a,e){return e.toUpperCase()}):g;void 0!==b[e]?p=g:(e=e.charAt(0).toUpperCase()+e.slice(1),l.some(a,function(a){void 0!==b[a+e]&&(p=h?"-"+a+"-"+g:a+e)}))}p||(p=g);(h?c:d)[g]=p}return p},add:function(a,b){for(var c in b)b.hasOwnProperty(c)&&(a[h.name(c)]=b[c]);return a}};return h})},"dojox/mobile/TransitionEvent":function(){define(["dojo/_base/declare","dojo/on"],function(k,l){return k("dojox.mobile.TransitionEvent",
null,{constructor:function(g,d,c){this.transitionOptions=d;this.target=g;this.triggerEvent=c||null},dispatch:function(){l.emit(this.target,"startTransition",{bubbles:!0,cancelable:!0,detail:this.transitionOptions,triggerEvent:this.triggerEvent})}})})},"dojox/mobile/viewRegistry":function(){define(["dojo/_base/array","dojo/dom-class","dijit/registry"],function(k,l,g){return{length:0,hash:{},initialView:null,add:function(d){this.hash[d.id]=d;this.length++},remove:function(d){this.hash[d]&&(delete this.hash[d],
this.length--)},getViews:function(){var d=[],c;for(c in this.hash)d.push(this.hash[c]);return d},getParentView:function(d){for(d=d.getParent();d;d=d.getParent())if(l.contains(d.domNode,"mblView"))return d;return null},getChildViews:function(d){return k.filter(this.getViews(),function(c){return this.getParentView(c)===d},this)},getEnclosingView:function(d){for(;d&&"BODY"!==d.tagName;d=d.parentNode)if(1===d.nodeType&&l.contains(d,"mblView"))return g.byNode(d);return null},getEnclosingScrollable:function(d){for(d=
g.getEnclosingWidget(d);d;d=d.getParent())if(d.scrollableParams&&d._v)return d;return null}}})},"dojox/mobile/transition":function(){define(["dojo/_base/Deferred","dojo/_base/config"],function(k,l){if(l.mblCSS3Transition){var g=new k;require([l.mblCSS3Transition],function(d){g.resolve(d)});return g}return null})},"dojox/mobile/Heading":function(){define("dojo/_base/array dojo/_base/connect dojo/_base/declare dojo/_base/lang dojo/_base/window dojo/dom dojo/dom-class dojo/dom-construct dojo/dom-style dojo/dom-attr dijit/registry dijit/_Contained dijit/_Container dijit/_WidgetBase ./ProgressIndicator ./ToolBarButton ./View dojo/has dojo/has!dojo-bidi?dojox/mobile/bidi/Heading".split(" "),
function(k,l,g,d,c,b,a,h,q,n,p,f,m,r,e,u,s,y,D){d.getObject("dojox.mobile",!0);l=g(y("dojo-bidi")?"dojox.mobile.NonBidiHeading":"dojox.mobile.Heading",[r,m,f],{back:"",href:"",moveTo:"",transition:"slide",label:"",iconBase:"",tag:"h1",busy:!1,progStyle:"mblProgWhite",baseClass:"mblHeading",buildRendering:function(){this.templateString||(this.domNode=this.containerNode=this.srcNodeRef||c.doc.createElement(this.tag));this.inherited(arguments);this.templateString||(this.label||k.forEach(this.domNode.childNodes,
function(a){if(3==a.nodeType){var e=d.trim(a.nodeValue);e&&(this.label=e,this.labelNode=h.create("span",{innerHTML:e},a,"replace"))}},this),this.labelNode||(this.labelNode=h.create("span",null,this.domNode)),this.labelNode.className="mblHeadingSpanTitle",this.labelDivNode=h.create("div",{className:"mblHeadingDivTitle",innerHTML:this.labelNode.innerHTML},this.domNode));this.labelDivNode&&(n.set(this.labelDivNode,"role","heading"),n.set(this.labelDivNode,"aria-level","1"));b.setSelectable(this.domNode,
!1)},startup:function(){if(!this._started){var a=this.getParent&&this.getParent();if(!a||!a.resize){var e=this;e.defer(function(){e.resize()})}this.inherited(arguments)}},resize:function(){if(this.labelNode){for(var e,b,f=this.containerNode.childNodes,c=f.length-1;0<=c;c--){var d=f[c];1===d.nodeType&&"none"!==q.get(d,"display")&&(!b&&"right"===q.get(d,"float")&&(b=d),!e&&"left"===q.get(d,"float")&&(e=d))}!this.labelNodeLen&&this.label&&(this.labelNode.style.display="inline",this.labelNodeLen=this.labelNode.offsetWidth,
this.labelNode.style.display="");f=this.domNode.offsetWidth;c=this.labelNodeLen||0;a[f-2*Math.max(b?f-b.offsetLeft+5:0,e?e.offsetLeft+e.offsetWidth+5:0)>c?"add":"remove"](this.domNode,"mblHeadingCenterTitle")}k.forEach(this.getChildren(),function(a){a.resize&&a.resize()})},_setBackAttr:function(a){this._set("back",a);this.backButton?this.backButton.set("label",a):(this.backButton=new u({arrow:"left",label:a,moveTo:this.moveTo,back:!this.moveTo&&!this.href,href:this.href,transition:this.transition,
transitionDir:-1,dir:this.isLeftToRight()?"ltr":"rtl"}),this.backButton.placeAt(this.domNode,"first"));this.resize()},_setMoveToAttr:function(a){this._set("moveTo",a);this.backButton&&(this.backButton.set("moveTo",a),this.backButton.set("back",!a&&!this.href))},_setHrefAttr:function(a){this._set("href",a);this.backButton&&(this.backButton.set("href",a),this.backButton.set("back",!this.moveTo&&!a))},_setTransitionAttr:function(a){this._set("transition",a);this.backButton&&this.backButton.set("transition",
a)},_setLabelAttr:function(a){this._set("label",a);this.labelNode.innerHTML=this.labelDivNode.innerHTML=this._cv?this._cv(a):a},_setBusyAttr:function(b){var f=this._prog;b?(f||(f=this._prog=new e({size:30,center:!1}),a.add(f.domNode,this.progStyle)),h.place(f.domNode,this.domNode,"first"),f.start()):f&&f.stop();this._set("busy",b)}});return y("dojo-bidi")?g("dojox.mobile.Heading",[l,D]):l})},"dojox/mobile/ToolBarButton":function(){define("dojo/_base/declare dojo/_base/lang dojo/_base/window dojo/dom-class dojo/dom-construct dojo/dom-style dojo/dom-attr ./sniff ./_ItemBase dojo/has!dojo-bidi?dojox/mobile/bidi/ToolBarButton".split(" "),
function(k,l,g,d,c,b,a,h,q,n){g=k(h("dojo-bidi")?"dojox.mobile.NonBidiToolBarButton":"dojox.mobile.ToolBarButton",q,{selected:!1,arrow:"",light:!0,defaultColor:"mblColorDefault",selColor:"mblColorDefaultSel",baseClass:"mblToolBarButton",_selStartMethod:"touch",_selEndMethod:"touch",buildRendering:function(){!this.label&&this.srcNodeRef&&(this.label=this.srcNodeRef.innerHTML);this.label=l.trim(this.label);this.domNode=this.srcNodeRef&&"SPAN"===this.srcNodeRef.tagName?this.srcNodeRef:c.create("span");
a.set(this.domNode,"role","button");this.inherited(arguments);if(this.light&&!this.arrow&&(!this.icon||!this.label))this.labelNode=this.tableNode=this.bodyNode=this.iconParentNode=this.domNode,d.add(this.domNode,this.defaultColor+" mblToolBarButtonBody"+(this.icon?" mblToolBarButtonLightIcon":" mblToolBarButtonLightText"));else{this.domNode.innerHTML="";if("left"===this.arrow||"right"===this.arrow)this.arrowNode=c.create("span",{className:"mblToolBarButtonArrow mblToolBarButton"+("left"===this.arrow?
"Left":"Right")+"Arrow "+(10>h("ie")?"":this.defaultColor+" "+this.defaultColor+"45")},this.domNode),d.add(this.domNode,"mblToolBarButtonHas"+("left"===this.arrow?"Left":"Right")+"Arrow");this.bodyNode=c.create("span",{className:"mblToolBarButtonBody"},this.domNode);this.tableNode=c.create("table",{cellPadding:"0",cellSpacing:"0",border:"0"},this.bodyNode);!this.label&&this.arrow&&(this.tableNode.className="mblToolBarButtonText");var b=this.tableNode.insertRow(-1);this.iconParentNode=b.insertCell(-1);
this.labelNode=b.insertCell(-1);this.iconParentNode.className="mblToolBarButtonIcon";this.labelNode.className="mblToolBarButtonLabel";this.icon&&("none"!==this.icon&&this.label)&&(d.add(this.domNode,"mblToolBarButtonHasIcon"),d.add(this.bodyNode,"mblToolBarButtonLabeledIcon"));d.add(this.bodyNode,this.defaultColor)}},startup:function(){this._started||(this.connect(this.domNode,"onkeydown","_onClick"),this.inherited(arguments),this._isOnLine||(this._isOnLine=!0,this.set("icon",void 0!==this._pendingIcon?
this._pendingIcon:this.icon),delete this._pendingIcon))},_onClick:function(a){(!a||!("keydown"===a.type&&13!==a.keyCode))&&!1!==this.onClick(a)&&this.defaultClickAction(a)},onClick:function(){},_setLabelAttr:function(a){this.inherited(arguments);d.toggle(this.tableNode,"mblToolBarButtonText",a||this.arrow)},_setSelectedAttr:function(a){this.inherited(arguments);if(a){if(d.replace(this.bodyNode,this.selColor,this.defaultColor),!(10>h("ie"))&&this.arrowNode){var b=this.selColor,c=this.defaultColor;
d.replace(this.arrowNode,b+" "+b+"45",c+" "+c+"45")}}else d.replace(this.bodyNode,this.defaultColor,this.selColor),!(10>h("ie"))&&this.arrowNode&&(b=this.defaultColor,c=this.selColor,d.replace(this.arrowNode,b+" "+b+"45",c+" "+c+"45"));d.toggle(this.domNode,"mblToolBarButtonSelected",a);d.toggle(this.bodyNode,"mblToolBarButtonBodySelected",a)}});return h("dojo-bidi")?k("dojox.mobile.ToolBarButton",[g,n]):g})},"dojox/mobile/_ItemBase":function(){define("dojo/_base/array dojo/_base/declare dojo/_base/lang dojo/_base/window dojo/dom-class dojo/touch dijit/registry dijit/_Contained dijit/_Container dijit/_WidgetBase ./TransitionEvent ./iconUtils ./sniff dojo/has!dojo-bidi?dojox/mobile/bidi/_ItemBase".split(" "),
function(k,l,g,d,c,b,a,h,q,n,p,f,m,r){g=l(m("dojo-bidi")?"dojox.mobile._NonBidiItemBase":"dojox.mobile._ItemBase",[n,q,h],{icon:"",iconPos:"",alt:"",href:"",hrefTarget:"",moveTo:"",scene:"",clickable:!1,url:"",urlTarget:"",back:!1,transition:"",transitionDir:1,transitionOptions:null,callback:null,label:"",toggle:!1,selected:!1,tabIndex:"0",_setTabIndexAttr:"",paramsToInherit:"transition,icon",_selStartMethod:"none",_selEndMethod:"none",_delayedSelection:!1,_duration:800,_handleClick:!0,buildRendering:function(){this.inherited(arguments);
this._isOnLine=this.inheritParams()},startup:function(){this._started||(this._isOnLine||this.inheritParams(),this._updateHandles(),this.inherited(arguments))},inheritParams:function(){var a=this.getParent();a&&k.forEach(this.paramsToInherit.split(/,/),function(b){if(b.match(/icon/i)){var f=b+"Base",c=b+"Pos";this[b]&&(a[f]&&"/"===a[f].charAt(a[f].length-1))&&(this[b]=a[f]+this[b]);this[b]||(this[b]=a[f]);this[c]||(this[c]=a[c])}this[b]||(this[b]=a[b])},this);return!!a},_updateHandles:function(){this._handleClick&&
"touch"===this._selStartMethod?this._onTouchStartHandle||(this._onTouchStartHandle=this.connect(this.domNode,b.press,"_onTouchStart")):this._onTouchStartHandle&&(this.disconnect(this._onTouchStartHandle),this._onTouchStartHandle=null)},getTransOpts:function(){var a=this.transitionOptions||{};k.forEach("moveTo href hrefTarget url target urlTarget scene transition transitionDir".split(" "),function(b){a[b]=a[b]||this[b]},this);return a},userClickAction:function(){},defaultClickAction:function(a){this.handleSelection(a);
!1!==this.userClickAction(a)&&this.makeTransition(a)},handleSelection:function(a){this._delayedSelection&&this.set("selected",!0);this._onTouchEndHandle&&(this.disconnect(this._onTouchEndHandle),this._onTouchEndHandle=null);a=this.getParent();this.toggle?this.set("selected",!this._currentSel):a&&a.selectOne?this.set("selected",!0):"touch"===this._selEndMethod?this.set("selected",!1):"timer"===this._selEndMethod&&this.defer(function(){this.set("selected",!1)},this._duration)},makeTransition:function(a){if(this.back&&
history)history.back();else if(this.href&&this.hrefTarget&&"_self"!=this.hrefTarget)d.global.open(this.href,this.hrefTarget||"_blank"),this._onNewWindowOpened(a);else{var b=this.getTransOpts(),f=!(!b.moveTo&&!b.href&&!b.url&&!b.target&&!b.scene);if(!1!==this._prepareForTransition(a,f?b:null)&&f)this.setTransitionPos(a),(new p(this.domNode,b,a)).dispatch()}},_onNewWindowOpened:function(){},_prepareForTransition:function(a,b){},_onTouchStart:function(a){this.getParent().isEditing||!1===this.onTouchStart(a)||
(!this._onTouchEndHandle&&"touch"===this._selStartMethod&&(this._onTouchMoveHandle=this.connect(d.body(),b.move,"_onTouchMove"),this._onTouchEndHandle=this.connect(d.body(),b.release,"_onTouchEnd")),this.touchStartX=a.touches?a.touches[0].pageX:a.clientX,this.touchStartY=a.touches?a.touches[0].pageY:a.clientY,this._currentSel=this.selected,this._delayedSelection?this._selTimer=this.defer(function(){this.set("selected",!0)},100):this.set("selected",!0))},onTouchStart:function(){},_onTouchMove:function(a){var b=
a.touches?a.touches[0].pageY:a.clientY;if(4<=Math.abs((a.touches?a.touches[0].pageX:a.clientX)-this.touchStartX)||4<=Math.abs(b-this.touchStartY))this.cancel(),(a=this.getParent())&&a.selectOne?this._prevSel&&this._prevSel.set("selected",!0):this.set("selected",!1)},_disconnect:function(){this.disconnect(this._onTouchMoveHandle);this.disconnect(this._onTouchEndHandle);this._onTouchMoveHandle=this._onTouchEndHandle=null},cancel:function(){this._selTimer&&(this._selTimer.remove(),this._selTimer=null);
this._disconnect()},_onTouchEnd:function(a){if(this._selTimer||!this._delayedSelection)this.cancel(),this._onClick(a)},setTransitionPos:function(a){for(var b=this;!(b=b.getParent(),!b||c.contains(b.domNode,"mblView")););b&&(b.clickedPosX=a.clientX,b.clickedPosY=a.clientY)},transitionTo:function(a,b,f,c){(new p(this.domNode,a&&"object"===typeof a?a:{moveTo:a,href:b,url:f,scene:c,transition:this.transition,transitionDir:this.transitionDir})).dispatch()},_setIconAttr:function(a){this._isOnLine?(this._set("icon",
a),this.iconNode=f.setIcon(a,this.iconPos,this.iconNode,this.alt,this.iconParentNode,this.refNode,this.position)):this._pendingIcon=a},_setLabelAttr:function(a){this._set("label",a);this.labelNode.innerHTML=this._cv?this._cv(a):a},_setSelectedAttr:function(a){if(a){var b=this.getParent();b&&b.selectOne&&(b=k.filter(b.getChildren(),function(a){return a.selected}),k.forEach(b,function(a){this._prevSel=a;a.set("selected",!1)},this))}this._set("selected",a)}});return m("dojo-bidi")?l("dojox.mobile._ItemBase",
[g,r]):g})},"dojox/mobile/iconUtils":function(){define("dojo/_base/array dojo/_base/config dojo/_base/connect dojo/_base/event dojo/_base/lang dojo/_base/window dojo/dom-class dojo/dom-construct dojo/dom-style ./sniff".split(" "),function(k,l,g,d,c,b,a,h,q,n){var p=c.getObject("dojox.mobile",!0);return new function(){this.setupSpriteIcon=function(b,c){if(b&&c){var d=k.map(c.split(/[ ,]/),function(a){return a-0}),e=d[0],g=d[1];q.set(b,{position:"absolute",clip:"rect("+e+"px "+(d[1]+d[2])+"px "+(d[0]+
d[3])+"px "+g+"px)",top:(b.parentNode?q.get(b,"top"):0)-e+"px",left:-g+"px"});a.add(b,"mblSpriteIcon")}};this.createDomButton=function(f,c,d){if(!this._domButtons)if(n("webkit")){var e=function(a,f){var c,d;if(!a){var g={};d=b.doc.styleSheets;for(c=0;c<d.length;c++)d[c]&&e(d[c],g);return g}g=a.cssRules||[];for(c=0;c<g.length;c++)if(d=g[c],d.href&&d.styleSheet)e(d.styleSheet,f);else if(d.selectorText){var m=d.selectorText.split(/,/);for(d=0;d<m.length;d++){var h=m[d],r=h.split(/>/).length-1;if(h.match(/(mblDomButton\w+)/)&&
(h=RegExp.$1,!f[h]||r>f[h]))f[h]=r}}return f};this._domButtons=e()}else this._domButtons={};var g=f.className,s=d||f;if(g.match(/(mblDomButton\w+)/)&&-1===g.indexOf("/")){var p=RegExp.$1,k=4;g.match(/(mblDomButton\w+_(\d+))/)?k=RegExp.$2-0:void 0!==this._domButtons[p]&&(k=this._domButtons[p]);g=null;n("bb")&&!1!==l.mblBBBoxShadowWorkaround&&(g={style:"-webkit-box-shadow:none"});for(var v=0,x=s;v<k;v++)x=x.firstChild||h.create("div",g,x);d&&(setTimeout(function(){a.remove(f,p)},0),a.add(d,p))}else if(-1!==
g.indexOf("."))h.create("img",{src:g},s);else return null;a.add(s,"mblDomButton");c&&q.set(s,c);return s};this.createIcon=function(b,c,r,e,u,s,n){e=e||"";if(b&&0===b.indexOf("mblDomButton"))r?r.className.match(/(mblDomButton\w+)/)&&a.remove(r,RegExp.$1):r=h.create("div",null,s||u,n),r.title=e,a.add(r,b),this.createDomButton(r);else if(b&&"none"!==b){if(!r||"IMG"!==r.nodeName)r=h.create("img",{alt:e},s||u,n);r.src=(b||"").replace("${theme}",p.currentTheme);this.setupSpriteIcon(r,c);c&&u&&(b=c.split(/[ ,]/),
q.set(u,{position:"relative",width:b[2]+"px",height:b[3]+"px"}),a.add(u,"mblSpriteIconParent"));g.connect(r,"ondragstart",d,"stop")}return r};this.iconWrapper=!1;this.setIcon=function(b,c,d,e,g,s,p){if(!g||!b&&!d)return null;if(b&&"none"!==b)return!this.iconWrapper&&0!==b.indexOf("mblDomButton")&&!c?(d&&"DIV"===d.tagName&&(h.destroy(d),d=null),d=this.createIcon(b,null,d,e,g,s,p),a.add(d,"mblImageIcon")):(d&&"IMG"===d.tagName&&(h.destroy(d),d=null),d&&h.empty(d),d||(d=h.create("div",null,s||g,p)),
this.createIcon(b,c,null,null,d),e&&(d.title=e)),a.remove(g,"mblNoIcon"),d;h.destroy(d);a.add(g,"mblNoIcon");return null}}})},"dojox/mobile/RoundRect":function(){define(["dojo/_base/declare","dojo/dom-class","./Container"],function(k,l,g){return k("dojox.mobile.RoundRect",g,{shadow:!1,baseClass:"mblRoundRect",buildRendering:function(){this.inherited(arguments);this.shadow&&l.add(this.domNode,"mblShadow")}})})},"dojox/mobile/Container":function(){define(["dojo/_base/declare","dijit/_Container","./Pane"],
function(k,l,g){return k("dojox.mobile.Container",[g,l],{baseClass:"mblContainer"})})},"dojox/mobile/Pane":function(){define(["dojo/_base/array","dojo/_base/declare","dijit/_Contained","dijit/_WidgetBase"],function(k,l,g,d){return l("dojox.mobile.Pane",[d,g],{baseClass:"mblPane",buildRendering:function(){this.inherited(arguments);this.containerNode||(this.containerNode=this.domNode)},resize:function(){k.forEach(this.getChildren(),function(c){c.resize&&c.resize()})}})})},"dojox/mobile/RoundRectCategory":function(){define("dojo/_base/declare dojo/_base/window dojo/dom-construct dijit/_Contained dijit/_WidgetBase dojo/has dojo/has!dojo-bidi?dojox/mobile/bidi/RoundRectCategory".split(" "),
function(k,l,g,d,c,b,a){l=k(b("dojo-bidi")?"dojox.mobile.NonBidiRoundRectCategory":"dojox.mobile.RoundRectCategory",[c,d],{label:"",tag:"h2",baseClass:"mblRoundRectCategory",buildRendering:function(){var a=this.domNode=this.containerNode=this.srcNodeRef||g.create(this.tag);this.inherited(arguments);!this.label&&(1===a.childNodes.length&&3===a.firstChild.nodeType)&&(this.label=a.firstChild.nodeValue)},_setLabelAttr:function(a){this.label=a;this.domNode.innerHTML=this._cv?this._cv(a):a}});return b("dojo-bidi")?
k("dojox.mobile.RoundRectCategory",[l,a]):l})},"dojox/mobile/EdgeToEdgeCategory":function(){define(["dojo/_base/declare","./RoundRectCategory"],function(k,l){return k("dojox.mobile.EdgeToEdgeCategory",l,{buildRendering:function(){this.inherited(arguments);this.domNode.className="mblEdgeToEdgeCategory";this.type&&"long"==this.type&&(this.domNode.className+=" mblEdgeToEdgeCategoryLong")}})})},"dojox/mobile/RoundRectList":function(){define("dojo/_base/array dojo/_base/declare dojo/_base/event dojo/_base/lang dojo/_base/window dojo/dom-construct dojo/dom-attr dijit/_Contained dijit/_Container dijit/_WidgetBase".split(" "),
function(k,l,g,d,c,b,a,h,q,n){return l("dojox.mobile.RoundRectList",[n,q,h],{transition:"slide",iconBase:"",iconPos:"",select:"",stateful:!1,syncWithViews:!1,editable:!1,tag:"ul",editableMixinClass:"dojox/mobile/_EditableListMixin",baseClass:"mblRoundRectList",filterBoxClass:"mblFilteredRoundRectListSearchBox",buildRendering:function(){this.domNode=this.srcNodeRef||b.create(this.tag);this.select&&(a.set(this.domNode,"role","listbox"),"multiple"===this.select&&a.set(this.domNode,"aria-multiselectable",
"true"));this.inherited(arguments)},postCreate:function(){this.editable&&require([this.editableMixinClass],d.hitch(this,function(a){l.safeMixin(this,new a)}));this.connect(this.domNode,"onselectstart",g.stop);if(this.syncWithViews){var a=function(a,b,c,e,d,g){(b=k.filter(this.getChildren(),function(b){return b.moveTo==="#"+a.id||b.moveTo===a.id})[0])&&b.set("selected",!0)};this.subscribe("/dojox/mobile/afterTransitionIn",a);this.subscribe("/dojox/mobile/startView",a)}},resize:function(){k.forEach(this.getChildren(),
function(a){a.resize&&a.resize()})},onCheckStateChanged:function(){},_setStatefulAttr:function(a){this._set("stateful",a);this.selectOne=a;k.forEach(this.getChildren(),function(a){a.setArrow&&a.setArrow()})},deselectItem:function(a){a.set("selected",!1)},deselectAll:function(){k.forEach(this.getChildren(),function(a){a.set("selected",!1)})},selectItem:function(a){a.set("selected",!0)}})})},"dojox/mobile/EdgeToEdgeList":function(){define(["dojo/_base/declare","./RoundRectList"],function(k,l){return k("dojox.mobile.EdgeToEdgeList",
l,{filterBoxClass:"mblFilteredEdgeToEdgeListSearchBox",buildRendering:function(){this.inherited(arguments);this.domNode.className="mblEdgeToEdgeList"}})})},"dojox/mobile/ListItem":function(){define("dojo/_base/array dojo/_base/declare dojo/_base/lang dojo/dom-class dojo/dom-construct dojo/dom-style dojo/dom-attr dijit/registry dijit/_WidgetBase ./iconUtils ./_ItemBase ./ProgressIndicator dojo/has dojo/has!dojo-bidi?dojox/mobile/bidi/ListItem".split(" "),function(k,l,g,d,c,b,a,h,q,n,p,f,m,r){p=l(m("dojo-bidi")?
"dojox.mobile.NonBidiListItem":"dojox.mobile.ListItem",p,{rightText:"",rightIcon:"",rightIcon2:"",deleteIcon:"",anchorLabel:!1,noArrow:!1,checked:!1,arrowClass:"",checkClass:"",uncheckClass:"",variableHeight:!1,rightIconTitle:"",rightIcon2Title:"",header:!1,tag:"li",busy:!1,progStyle:"",paramsToInherit:"variableHeight,transition,deleteIcon,icon,rightIcon,rightIcon2,uncheckIcon,arrowClass,checkClass,uncheckClass,deleteIconTitle,deleteIconRole",baseClass:"mblListItem",_selStartMethod:"touch",_selEndMethod:"timer",
_delayedSelection:!0,_selClass:"mblListItemSelected",buildRendering:function(){this._templated=!!this.templateString;this._templated||(this.domNode=this.containerNode=this.srcNodeRef||c.create(this.tag));this.inherited(arguments);this.selected&&d.add(this.domNode,this._selClass);this.header&&d.replace(this.domNode,"mblEdgeToEdgeCategory",this.baseClass);if(!this._templated){this.labelNode=c.create("div",{className:"mblListItemLabel"});var a=this.srcNodeRef;a&&(1===a.childNodes.length&&3===a.firstChild.nodeType)&&
this.labelNode.appendChild(a.firstChild);this.domNode.appendChild(this.labelNode)}this._layoutChildren=[]},startup:function(){if(!this._started){var b=this.getParent(),f=this.getTransOpts();if((!this._templated||this.labelNode)&&this.anchorLabel)this.labelNode.style.display="inline",this.labelNode.style.cursor="pointer",this.connect(this.labelNode,"onclick","_onClick"),this.onTouchStart=function(a){return a.target!==this.labelNode};f.moveTo||f.href||f.url||this.clickable||b&&b.select?this.connect(this.domNode,
"onkeydown","_onClick"):this._handleClick=!1;this.inherited(arguments);d.contains(this.domNode,"mblVariableHeight")&&(this.variableHeight=!0);this.variableHeight&&(d.add(this.domNode,"mblVariableHeight"),this.defer("layoutVariableHeight"));this._isOnLine||(this._isOnLine=!0,this.set({icon:void 0!==this._pending_icon?this._pending_icon:this.icon,deleteIcon:void 0!==this._pending_deleteIcon?this._pending_deleteIcon:this.deleteIcon,rightIcon:void 0!==this._pending_rightIcon?this._pending_rightIcon:this.rightIcon,
rightIcon2:void 0!==this._pending_rightIcon2?this._pending_rightIcon2:this.rightIcon2,uncheckIcon:void 0!==this._pending_uncheckIcon?this._pending_uncheckIcon:this.uncheckIcon}),delete this._pending_icon,delete this._pending_deleteIcon,delete this._pending_rightIcon,delete this._pending_rightIcon2,delete this._pending_uncheckIcon);b&&b.select&&(this.set("checked",void 0!==this._pendingChecked?this._pendingChecked:this.checked),a.set(this.domNode,"role","option"),(this._pendingChecked||this.checked)&&
a.set(this.domNode,"aria-selected","true"),delete this._pendingChecked);this.setArrow();this.layoutChildren()}},_updateHandles:function(){var a=this.getParent(),b=this.getTransOpts();b.moveTo||b.href||b.url||this.clickable||a&&a.select?(this._keydownHandle||(this._keydownHandle=this.connect(this.domNode,"onkeydown","_onClick")),this._handleClick=!0):(this._keydownHandle&&(this.disconnect(this._keydownHandle),this._keydownHandle=null),this._handleClick=!1);this.inherited(arguments)},layoutChildren:function(){var a;
k.forEach(this.domNode.childNodes,function(b){if(1===b.nodeType){var f=b.getAttribute("layout")||b.getAttribute("data-mobile-layout")||(h.byNode(b)||{}).layout;f&&(d.add(b,"mblListItemLayout"+f.charAt(0).toUpperCase()+f.substring(1)),this._layoutChildren.push(b),"center"===f&&(a=b))}},this);a&&this.domNode.insertBefore(a,this.domNode.firstChild)},resize:function(){this.variableHeight&&this.layoutVariableHeight();if(!this._templated||this.labelNode)this.labelNode.style.display=this.labelNode.firstChild?
"block":"inline"},_onTouchStart:function(a){!a.target.getAttribute("preventTouch")&&(!a.target.getAttribute("data-mobile-prevent-touch")&&!(h.getEnclosingWidget(a.target)||{}).preventTouch)&&this.inherited(arguments)},_onClick:function(a){if(!(this.getParent().isEditing||a&&"keydown"===a.type&&13!==a.keyCode)&&!1!==this.onClick(a)){var b=this.labelNode;if((this._templated||b)&&this.anchorLabel&&a.currentTarget===b)d.add(b,"mblListItemLabelSelected"),this.defer(function(){d.remove(b,"mblListItemLabelSelected")},
this._duration),this.onAnchorLabelClicked(a);else{var f=this.getParent();f.select&&("single"===f.select?this.checked||this.set("checked",!0):"multiple"===f.select&&this.set("checked",!this.checked));this.defaultClickAction(a)}}},onClick:function(){},onAnchorLabelClicked:function(a){},layoutVariableHeight:function(){var a=this.domNode.offsetHeight;a!==this.domNodeHeight&&(this.domNodeHeight=a,k.forEach(this._layoutChildren.concat([this.rightTextNode,this.rightIcon2Node,this.rightIconNode,this.uncheckIconNode,
this.iconNode,this.deleteIconNode,this.knobIconNode]),function(a){if(a){var e=this.domNode,f=function(){var f=Math.round((e.offsetHeight-a.offsetHeight)/2)-b.get(e,"paddingTop");a.style.marginTop=f+"px"};0===a.offsetHeight&&"IMG"===a.tagName?a.onload=f:f()}},this))},setArrow:function(){if(!this.checked){var b="",f=this.getParent(),c=this.getTransOpts();if(c.moveTo||c.href||c.url||this.clickable)if(!this.noArrow&&(!f||!f.selectOne))b=this.arrowClass||"mblDomButtonArrow",a.set(this.domNode,"role","button");
b&&this._setRightIconAttr(b)}},_findRef:function(a){var b,f="deleteIcon icon rightIcon uncheckIcon rightIcon2 rightText".split(" ");for(a=k.indexOf(f,a)+1;a<f.length;a++)if(b=this[f[a]+"Node"])return b;for(a=f.length-1;0<=a;a--)if(b=this[f[a]+"Node"])return b.nextSibling;return this.domNode.firstChild},_setIcon:function(a,b){if(this._isOnLine){this._set(b,a);this[b+"Node"]=n.setIcon(a,this[b+"Pos"],this[b+"Node"],this[b+"Title"]||this.alt,this.domNode,this._findRef(b),"before");if(this[b+"Node"]){var f=
b.charAt(0).toUpperCase()+b.substring(1);d.add(this[b+"Node"],"mblListItem"+f)}(f=this[b+"Role"])&&this[b+"Node"].setAttribute("role",f)}else this["_pending_"+b]=a},_setDeleteIconAttr:function(a){this._setIcon(a,"deleteIcon")},_setIconAttr:function(a){this._setIcon(a,"icon")},_setRightTextAttr:function(a){!this._templated&&!this.rightTextNode&&(this.rightTextNode=c.create("div",{className:"mblListItemRightText"},this.labelNode,"before"));this.rightText=a;this.rightTextNode.innerHTML=this._cv?this._cv(a):
a},_setRightIconAttr:function(a){this._setIcon(a,"rightIcon")},_setUncheckIconAttr:function(a){this._setIcon(a,"uncheckIcon")},_setRightIcon2Attr:function(a){this._setIcon(a,"rightIcon2")},_setCheckedAttr:function(b){if(this._isOnLine){var f=this.getParent();f&&("single"===f.select&&b)&&k.forEach(f.getChildren(),function(b){b!==this&&b.checked&&b.set("checked",!1)&&a.set(b.domNode,"aria-selected","false")},this);this._setRightIconAttr(this.checkClass||"mblDomButtonCheck");this._setUncheckIconAttr(this.uncheckClass);
d.toggle(this.domNode,"mblListItemChecked",b);d.toggle(this.domNode,"mblListItemUnchecked",!b);d.toggle(this.domNode,"mblListItemHasUncheck",!!this.uncheckIconNode);this.rightIconNode.style.position=this.uncheckIconNode&&!b?"absolute":"";if(f&&this.checked!==b)f.onCheckStateChanged(this,b);this._set("checked",b);a.set(this.domNode,"aria-selected",b?"true":"false")}else this._pendingChecked=b},_setBusyAttr:function(a){var b=this._prog;a?(this._progNode||(this._progNode=c.create("div",{className:"mblListItemIcon"}),
b=this._prog=new f({size:25,center:!1,removeOnStop:!1}),d.add(b.domNode,this.progStyle),this._progNode.appendChild(b.domNode)),this.iconNode?this.domNode.replaceChild(this._progNode,this.iconNode):c.place(this._progNode,this._findRef("icon"),"before"),b.start()):this._progNode&&(this.iconNode?this.domNode.replaceChild(this.iconNode,this._progNode):this.domNode.removeChild(this._progNode),b.stop());this._set("busy",a)},_setSelectedAttr:function(a){this.inherited(arguments);d.toggle(this.domNode,this._selClass,
a)},_setClickableAttr:function(a){this._set("clickable",a);this._updateHandles()},_setMoveToAttr:function(a){this._set("moveTo",a);this._updateHandles()},_setHrefAttr:function(a){this._set("href",a);this._updateHandles()},_setUrlAttr:function(a){this._set("url",a);this._updateHandles()}});p.ChildWidgetProperties={layout:"",preventTouch:!1};g.extend(q,p.ChildWidgetProperties);return m("dojo-bidi")?l("dojox.mobile.ListItem",[p,r]):p})},"dojox/mobile/Switch":function(){define("dojo/_base/array dojo/_base/connect dojo/_base/declare dojo/_base/event dojo/_base/window dojo/dom-class dojo/dom-construct dojo/dom-style dojo/dom-attr dojo/touch dijit/_Contained dijit/_WidgetBase ./sniff ./_maskUtils ./common dojo/has!dojo-bidi?dojox/mobile/bidi/Switch".split(" "),
function(k,l,g,d,c,b,a,h,q,n,p,f,m,r,e,u){p=g(m("dojo-bidi")?"dojox.mobile.NonBidiSwitch":"dojox.mobile.Switch",[f,p],{value:"on",name:"",leftLabel:"ON",rightLabel:"OFF",shape:"mblSwDefaultShape",tabIndex:"0",_setTabIndexAttr:"",baseClass:"mblSwitch",role:"",buildRendering:function(){this.templateString||(this.domNode=this.srcNodeRef&&"SPAN"===this.srcNodeRef.tagName?this.srcNodeRef:a.create("span"));"undefined"!=typeof this.domNode.style.msTouchAction&&(this.domNode.style.msTouchAction="none");this.inherited(arguments);
if(!this.templateString){var f=this.srcNodeRef&&this.srcNodeRef.className||this.className||this["class"];if(f=f.match(/mblSw.*Shape\d*/))this.shape=f;b.add(this.domNode,this.shape);this.domNode.innerHTML='\x3cdiv class\x3d"mblSwitchInner"\x3e\x3cdiv class\x3d"mblSwitchBg mblSwitchBgLeft"\x3e\x3cdiv class\x3d"mblSwitchText mblSwitchTextLeft"\x3e\x3c/div\x3e\x3c/div\x3e\x3cdiv class\x3d"mblSwitchBg mblSwitchBgRight"\x3e\x3cdiv class\x3d"mblSwitchText mblSwitchTextRight"\x3e\x3c/div\x3e\x3c/div\x3e\x3cdiv class\x3d"mblSwitchKnob"\x3e\x3c/div\x3e\x3cinput type\x3d"hidden"'+
(this.name?' name\x3d"'+this.name+'"':"")+"\x3e\x3c/div\x3e\x3c/div\x3e";f=this.inner=this.domNode.firstChild;this.left=f.childNodes[0];this.right=f.childNodes[1];this.knob=f.childNodes[2];this.input=f.childNodes[3]}q.set(this.domNode,"role","checkbox");q.set(this.domNode,"aria-checked","on"===this.value?"true":"false");this.switchNode=this.domNode;m("windows-theme")&&(f=a.create("div",{className:"mblSwitchContainer"}),this.labelNode=a.create("label",{"class":"mblSwitchLabel","for":this.id},f),f.appendChild(this.domNode.cloneNode(!0)),
this.domNode=f,this.focusNode=f.childNodes[1],this.labelNode.innerHTML="off"==this.value?this.rightLabel:this.leftLabel,this.switchNode=this.domNode.childNodes[1],f=this.inner=this.domNode.childNodes[1].firstChild,this.left=f.childNodes[0],this.right=f.childNodes[1],this.knob=f.childNodes[2],this.input=f.childNodes[3])},postCreate:function(){this.connect(this.switchNode,"onclick","_onClick");this.connect(this.switchNode,"onkeydown","_onClick");this._startHandle=this.connect(this.switchNode,n.press,
"onTouchStart");this._initialValue=this.value},_changeState:function(a,f){var e="on"===a;this.left.style.display="";this.right.style.display="";this.inner.style.left="";f&&b.add(this.switchNode,"mblSwitchAnimation");b.remove(this.switchNode,e?"mblSwitchOff":"mblSwitchOn");b.add(this.switchNode,e?"mblSwitchOn":"mblSwitchOff");q.set(this.switchNode,"aria-checked",e?"true":"false");var c=this;c.defer(function(){c.left.style.display=e?"":"none";c.right.style.display=!e?"":"none";b.remove(c.switchNode,
"mblSwitchAnimation")},f?300:0)},_createMaskImage:function(){this._timer&&(this._timer.remove(),delete this._timer);if(!this._hasMaskImage&&(this._width=this.switchNode.offsetWidth-this.knob.offsetWidth,this._hasMaskImage=!0,m("webkit")||m("svg"))){var a=h.get(this.left,"borderTopLeftRadius");if("0px"!=a){var b=a.split(" "),a=parseFloat(b[0]),b=1==b.length?a:parseFloat(b[1]),f=this.switchNode.offsetWidth,e=this.switchNode.offsetHeight;(this.shape+"Mask"+f+e+a+b).replace(/\./,"_");r.createRoundMask(this.switchNode,
0,0,0,0,f,e,a,b,1)}}},_onClick:function(a){if((!a||!("keydown"===a.type&&13!==a.keyCode))&&!1!==this.onClick(a)&&!this._moved)this.value=this.input.value="on"==this.value?"off":"on",this._changeState(this.value,!0),this.onStateChanged(this.value)},onClick:function(){},onTouchStart:function(a){this._moved=!1;this.innerStartX=this.inner.offsetLeft;this._conn||(this._conn=[this.connect(this.inner,n.move,"onTouchMove"),this.connect(c.doc,n.release,"onTouchEnd")],m("windows-theme")&&this._conn.push(this.connect(c.doc,
"MSPointerCancel","onTouchEnd")));this.touchStartX=a.touches?a.touches[0].pageX:a.clientX;this.left.style.display="";this.right.style.display="";d.stop(a);this._createMaskImage()},onTouchMove:function(a){a.preventDefault();if(a.targetTouches){if(1!=a.targetTouches.length)return;a=a.targetTouches[0].clientX-this.touchStartX}else a=a.clientX-this.touchStartX;var b=this.innerStartX+a;b<=-(this._width-10)&&(b=-this._width);-10<=b&&(b=0);this.inner.style.left=b+"px";10<Math.abs(a)&&(this._moved=!0)},onTouchEnd:function(a){k.forEach(this._conn,
l.disconnect);this._conn=null;this.innerStartX==this.inner.offsetLeft?m("touch")&&m("clicks-prevented")&&e._sendClick(this.inner,a):(a=this.inner.offsetLeft<-(this._width/2)?"off":"on",a=this._newState(a),this._changeState(a,!0),a!=this.value&&(this.value=this.input.value=a,this.onStateChanged(a)))},_newState:function(a){return a},onStateChanged:function(a){this.labelNode&&(this.labelNode.innerHTML="off"==a?this.rightLabel:this.leftLabel)},_setValueAttr:function(a){this._changeState(a,!1);if(this.value!=
a)this.onStateChanged(a);this.value=this.input.value=a},_setLeftLabelAttr:function(a){this.leftLabel=a;this.left.firstChild.innerHTML=this._cv?this._cv(a):a},_setRightLabelAttr:function(a){this.rightLabel=a;this.right.firstChild.innerHTML=this._cv?this._cv(a):a},reset:function(){this.set("value",this._initialValue)}});return m("dojo-bidi")?g("dojox.mobile.Switch",[p,u]):p})},"dojox/mobile/_maskUtils":function(){define(["dojo/_base/window","dojo/dom-style","./sniff"],function(k,l,g){var d={};return{createRoundMask:function(c,
b,a,h,q,n,p,f,m,r){h=b+n+h;var e=a+p+q;if(g("webkit"))q=("DojoMobileMask"+b+a+n+p+f+m).replace(/\./g,"_"),d[q]||(d[q]=1,h=k.doc.getCSSCanvasContext("2d",q,h,e),h.beginPath(),f==m?2==f&&5==n?(h.fillStyle="rgba(0,0,0,0.5)",h.fillRect(1,0,3,2),h.fillRect(0,1,5,1),h.fillRect(0,p-2,5,1),h.fillRect(1,p-1,3,2),h.fillStyle="rgb(0,0,0)",h.fillRect(0,2,5,p-4)):2==f&&5==p?(h.fillStyle="rgba(0,0,0,0.5)",h.fillRect(0,1,2,3),h.fillRect(1,0,1,5),h.fillRect(n-2,0,1,5),h.fillRect(n-1,1,2,3),h.fillStyle="rgb(0,0,0)",
h.fillRect(2,0,n-4,5)):(h.fillStyle="#000000",h.moveTo(b+f,a),h.arcTo(b,a,b,a+f,f),h.lineTo(b,a+p-f),h.arcTo(b,a+p,b+f,a+p,f),h.lineTo(b+n-f,a+p),h.arcTo(b+n,a+p,b+n,a+f,f),h.lineTo(b+n,a+f),h.arcTo(b+n,a,b+n-f,a,f)):(p=Math.PI,h.scale(1,m/f),h.moveTo(b+f,a),h.arc(b+f,a+f,f,1.5*p,0.5*p,!0),h.lineTo(b+n-f,a+2*f),h.arc(b+n-f,a+f,f,0.5*p,1.5*p,!0)),h.closePath(),h.fill()),c.style.webkitMaskImage="-webkit-canvas("+q+")";else if(g("svg")){c._svgMask&&c.removeChild(c._svgMask);for(var u=null,s=c.parentNode;s&&
(!(u=l.getComputedStyle(s).backgroundColor)||"transparent"==u||u.match(/rgba\(.*,\s*0\s*\)/));s=s.parentNode);s=k.doc.createElementNS("http://www.w3.org/2000/svg","svg");s.setAttribute("width",h);s.setAttribute("height",e);s.style.position="absolute";s.style.pointerEvents="none";s.style.opacity="1";s.style.zIndex="2147483647";e=k.doc.createElementNS("http://www.w3.org/2000/svg","path");r=r||0;f+=r;m+=r;b=" M"+(b+f-r)+","+(a-r)+" a"+f+","+m+" 0 0,0 "+-f+","+m+" v"+-m+" h"+f+" Z M"+(b-r)+","+(a+p-m+
r)+" a"+f+","+m+" 0 0,0 "+f+","+m+" h"+-f+" v"+-m+" z M"+(b+n-f+r)+","+(a+p+r)+" a"+f+","+m+" 0 0,0 "+f+","+-m+" v"+m+" h"+-f+" z M"+(b+n+r)+","+(a+m-r)+" a"+f+","+m+" 0 0,0 "+-f+","+-m+" h"+f+" v"+m+" z";0<a&&(b+=" M0,0 h"+h+" v"+a+" h"+-h+" z");0<q&&(b+=" M0,"+(a+p)+" h"+h+" v"+q+" h"+-h+" z");e.setAttribute("d",b);e.setAttribute("fill",u);e.setAttribute("stroke",u);e.style.opacity="1";s.appendChild(e);c._svgMask=s;c.appendChild(s)}}}})},"dojox/mobile/deviceTheme":function(){("undefined"===typeof define?
function(k,l){l()}:define)(["dojo/_base/config","dojo/_base/lang","dojo/_base/window","require"],function(k,l,g,d){var c=l&&l.getObject("dojox.mobile",!0)||{};l=new function(){g||(g=window,g.doc=document,g._no_dojo_dm=c);k=k||g.mblConfig||{};for(var b=g.doc.getElementsByTagName("script"),a=0;a<b.length;a++){var h=b[a],l=h.getAttribute("src")||"";if(l.match(/\/deviceTheme\.js/i)){k.baseUrl=l.replace("deviceTheme.js","../../dojo/");if(b=h.getAttribute("data-dojo-config")||h.getAttribute("djConfig")){var b=
eval("({ "+b+" })"),n;for(n in b)k[n]=b[n]}break}else if(l.match(/\/dojo\.js/i)){k.baseUrl=l.replace("dojo.js","");break}}this.loadCssFile=function(a){var b=g.doc.createElement("link");b.href=a;b.type="text/css";b.rel="stylesheet";a=g.doc.getElementsByTagName("head")[0];a.insertBefore(b,a.firstChild);c.loadedCssFiles.push(b)};this.toUrl=function(a){return d?d.toUrl(a):k.baseUrl+"../"+a};this.setDm=function(a){c=a};this.themeMap=k.themeMap||[["Holodark","holodark",[]],["Android 3","holodark",[]],["Android 4",
"holodark",[]],["Android","android",[]],["BlackBerry","blackberry",[]],["BB10","blackberry",[]],["iPhone","iphone",[]],["iPad","iphone",[this.toUrl("dojox/mobile/themes/iphone/ipad.css")]],["MSIE 10","windows",[]],["WindowsPhone","windows",[]],["Custom","custom",[]],[".*","iphone",[]]];c.loadedCssFiles=[];this.loadDeviceTheme=function(a){var b=k.mblThemeFiles||c.themeFiles||["@theme"],d,h;h=this.themeMap;var e=a||k.mblUserAgent||(location.search.match(/theme=(\w+)/)?RegExp.$1:navigator.userAgent);
for(d=0;d<h.length;d++)if(e.match(RegExp(h[d][0]))){var n=h[d][1];if(!("windows"==n&&k.mblDisableWindowsTheme)){e=g.doc.documentElement.className;e=e.replace(RegExp(" *"+c.currentTheme+"_theme"),"")+" "+n+"_theme";g.doc.documentElement.className=e;c.currentTheme=n;d=[].concat(h[d][2]);for(h=0;h<b.length;h++){var l=b[h]instanceof Array||"array"==typeof b[h];!l&&-1!==b[h].indexOf("/")?e=b[h]:(e=l?(b[h][0]||"").replace(/\./g,"/"):"dojox/mobile",l=(l?b[h][1]:b[h]).replace(/\./g,"/"),e=e+"/"+("themes/"+
n+"/"+("@theme"===l?n:l)+".css"));d.unshift(this.toUrl(e))}for(b=0;b<c.loadedCssFiles.length;b++)n=c.loadedCssFiles[b],n.parentNode.removeChild(n);c.loadedCssFiles=[];for(h=0;h<d.length;h++)b=d[h].toString(),!0==k["dojo-bidi"]&&-1==b.indexOf("_rtl")&&(n=b.substr(b.lastIndexOf("/")+1),-1!="android.css blackberry.css custom.css iphone.css holodark.css base.css Carousel.css ComboBox.css IconContainer.css IconMenu.css ListItem.css RoundRectCategory.css SpinWheel.css Switch.css TabBar.css ToggleButton.css ToolBarButton.css".indexOf(n)&&
this.loadCssFile(b.replace(".css","_rtl.css"))),this.loadCssFile(d[h].toString());a&&c.loadCompatCssFiles&&c.loadCompatCssFiles();break}}}};l.loadDeviceTheme();return window.deviceTheme=c.deviceTheme=l})},"dojox/app/controllers/Load":function(){define("require dojo/_base/lang dojo/_base/declare dojo/on dojo/Deferred dojo/when ../Controller".split(" "),function(k,l,g,d,c,b,a,h){return g("dojox.app.controllers.Load",a,{_waitingQueue:[],constructor:function(a,b){this.events={"app-init":this.init,"app-load":this.load}},
init:function(a){b(this.createView(a.parent,null,null,{templateString:a.templateString,controller:a.controller},null,a.type),function(c){b(c.start(),a.callback)})},load:function(a){this.app.log("in app/controllers/Load event.viewId\x3d"+a.viewId+" event \x3d",a);for(var d=[],g=(a.viewId||"").split("+");0<g.length;){var f=g.shift();d.push(f)}var m;this.proceedLoadViewDef=new c;if(d&&1<d.length){for(var h=0;h<d.length-1;h++)g=l.clone(a),g.callback=null,g.viewId=d[h],this._waitingQueue.push(g);this.proceedLoadView(this._waitingQueue.shift());
b(this.proceedLoadViewDef,l.hitch(this,function(){var b=l.clone(a);b.viewId=d[h];return m=this.loadView(b)}))}else return m=this.loadView(a)},proceedLoadView:function(a){var c=this.loadView(a);b(c,l.hitch(this,function(){this.app.log("in app/controllers/Load proceedLoadView back from loadView for event",a);var b=this._waitingQueue.shift();b?(this.app.log("in app/controllers/Load proceedLoadView back from loadView calling this.proceedLoadView(nextEvt) for ",b),this.proceedLoadView(b)):(this._waitingQueue=
[],this.proceedLoadViewDef.resolve())}))},loadView:function(a){var c=a.parent||this.app,d=(a.viewId||"").split(","),f=d.shift(),d=d.join(","),c=this.loadChild(c,f,d,a.params||"");a.callback&&b(c,a.callback);return c},createChild:function(a,d,g,f){var m=a.id+"_"+d;!f&&a.views[d].defaultParams&&(f=a.views[d].defaultParams);if(g=a.children[m])return f&&(g.params=f),this.app.log("in app/controllers/Load createChild view is already loaded so return the loaded view with the new parms ",g),g;var h=new c;
b(this.createView(a,m,d,null,f,a.views[d].type),function(f){a.children[m]=f;b(f.start(),function(a){h.resolve(a)})});return h},createView:function(a,b,d,f,g,h){var e=new c,u=this.app;k([h?h:"../View"],function(c){c=new c(l.mixin({app:u,id:b,name:d,parent:a},{params:g},f));e.resolve(c)});return e},loadChild:function(a,d,g,f){if(!a)throw Error("No parent for Child '"+d+"'.");if(!d){var m=a.defaultView?a.defaultView.split(","):"default";d=m.shift();g=m.join(",")}var h=new c,e;try{e=this.createChild(a,
d,g,f)}catch(k){return h.reject("load child '"+d+"' error."),h.promise}b(e,l.hitch(this,function(a){!g&&a.defaultView&&(g=a.defaultView);var e=g.split(",");d=e.shift();g=e.join(",");d?(a=this.loadChild(a,d,g,f),b(a,function(){h.resolve()},function(){h.reject("load child '"+d+"' error.")})):h.resolve()}),function(){h.reject("load child '"+d+"' error.")});return h.promise}})})},"dojox/app/controllers/Transition":function(){define("require dojo/_base/lang dojo/_base/declare dojo/has dojo/on dojo/Deferred dojo/when dojo/dom-style ../Controller ../utils/constraints".split(" "),
function(k,l,g,d,c,b,a,h,q,n){var p;return g("dojox.app.controllers.Transition",q,{proceeding:!1,waitingQueue:[],constructor:function(a,b){this.events={"app-transition":this.transition,"app-domNode":this.onDomNodeChange};k([this.app.transit||"dojox/css3/transit"],function(a){p=a});if(this.app.domNode)this.onDomNodeChange({oldNode:null,newNode:this.app.domNode})},transition:function(a){var b=a.viewId||"";this.proceedingSaved=this.proceeding;var c=b.split("+"),e;if(0<c.length){for(;1<c.length;)b=c.shift(),
e=l.clone(a),e.viewId=b,this.proceeding=!0,this.proceedTransition(e);b=c.shift();c=b.split("-");if(0<c.length)for(b=c.shift();0<c.length;){var d=c.shift();e=l.clone(a);e.viewId=d;this._doTransition(e.viewId,e.opts,e.opts.params,a.opts.data,this.app,!0,e._doResize)}0<b.length&&(this.proceeding=this.proceedingSaved,a.viewId=b,a._doResize=!0,this.proceedTransition(a))}else a._doResize=!0,this.proceedTransition(a)},onDomNodeChange:function(a){null!=a.oldNode&&this.unbind(a.oldNode,"startTransition");
this.bind(a.newNode,"startTransition",l.hitch(this,this.onStartTransition))},onStartTransition:function(a){a.preventDefault&&a.preventDefault();a.cancelBubble=!0;a.stopPropagation&&a.stopPropagation();var b=a.detail.target,c=/#(.+)/;!b&&c.test(a.detail.href)&&(b=a.detail.href.match(c)[1]);this.transition({viewId:b,opts:l.mixin({},a.detail),data:a.detail.data})},proceedTransition:function(b){if(this.proceeding)this.app.log("in app/controllers/Transition proceedTransition push event",b),this.waitingQueue.push(b),
this.processingQueue=!1;else{0<this.waitingQueue.length&&!this.processingQueue&&(this.processingQueue=!0,this.waitingQueue.push(b),b=this.waitingQueue.shift());this.proceeding=!0;this.app.log("in app/controllers/Transition proceedTransition calling trigger load",b);b.opts||(b.opts={});var c=b.params||b.opts.params;this.app.emit("app-load",{viewId:b.viewId,params:c,callback:l.hitch(this,function(){var d=this._doTransition(b.viewId,b.opts,c,b.opts.data,this.app,!1,b._doResize);a(d,l.hitch(this,function(){this.proceeding=
!1;var a=this.waitingQueue.shift();a&&this.proceedTransition(a)}))})})}},_getTransition:function(a,b,c){var e=null;a.views[b]&&(e=a.views[b].transition);e||(e=a.transition);for(b=a.defaultTransition;!e&&a.parent;)a=a.parent,e=a.transition,b||(b=a.defaultTransition);return e||c.transition||b||"none"},_getParamsForView:function(a,b){var c={},e;for(e in b){var d=b[e];l.isObject(d)?e==a&&(c=l.mixin(c,d)):e&&null!=d&&(c[e]=b[e])}return c},_doTransition:function(b,c,d,e,g,h,k,q){if(!g)throw Error("view parent not found in transition.");
this.app.log("in app/controllers/Transition._doTransition transitionTo\x3d[",b,"], removeView \x3d [",h,"] parent.name\x3d[",g.name,"], opts\x3d",c);var v,x,t;v=b?b.split(","):g.defaultView.split(",");b=v.shift();x=v.join(",");t=g.children[g.id+"_"+b];if(!t){if(h){this.app.log("\x3e in Transition._doTransition called with removeView true, but that view is not available to remove");return}throw Error("child view must be loaded before transition.");}var z=n.getSelectedChild(g,t.constraint);t.params=
this._getParamsForView(t.name,d);!x&&t.defaultView&&(x=t.defaultView);if(h){if(t!==z){this.app.log("\x3e in Transition._doTransition called with removeView true, but that view is not available to remove");return}t=null}if(t!==z){v=n.getAllSelectedChildren(z);for(var A=0;A<v.length;A++){var w=v[A];w&&w.beforeDeactivate&&(this.app.log("\x3c in Transition._doTransition calling subChild.beforeDeactivate subChild name\x3d[",w.name,"], parent.name\x3d[",w.parent.name,"], next!\x3d\x3dcurrent path"),w.beforeDeactivate())}z&&
(this.app.log("\x3c in Transition._doTransition calling current.beforeDeactivate current name\x3d[",z.name,"], parent.name\x3d[",z.parent.name,"], next!\x3d\x3dcurrent path"),z.beforeDeactivate(t,e));t&&(this.app.log("\x3e in Transition._doTransition calling next.beforeActivate next name\x3d[",t.name,"], parent.name\x3d[",t.parent.name,"], next!\x3d\x3dcurrent path"),t.beforeActivate(z,e));this.app.log("\x3e in Transition._doTransition calling app.emit layoutView view next");h||this.app.emit("app-layoutView",
{parent:g,view:t});k&&!x&&this.app.emit("app-resize");v=!0;if(p&&(!q||null!=z))q=l.mixin({},c),q=l.mixin({},q,{reverse:q.reverse||-1===q.transitionDir?!0:!1,transition:this._getTransition(g,b,q)}),t&&this.app.log("    \x3e in Transition._doTransition calling transit for current \x3d"+t.name),v=p(z&&z.domNode,t&&t.domNode,q);a(v,l.hitch(this,function(){t&&this.app.log("    \x3c in Transition._doTransition back from transit for next \x3d"+t.name);h&&this.app.emit("app-layoutView",{parent:g,view:z,removeView:!0});
for(var a=n.getAllSelectedChildren(z),b=0;b<a.length;b++){var f=a[b];f&&f.beforeDeactivate&&(this.app.log("  \x3c in Transition._doTransition calling subChild.afterDeactivate subChild name\x3d[",f.name,"], parent.name\x3d[",f.parent.name,"], next!\x3d\x3dcurrent path"),f.afterDeactivate())}z&&(this.app.log("  \x3c in Transition._doTransition calling current.afterDeactivate current name\x3d[",z.name,"], parent.name\x3d[",z.parent.name,"], next!\x3d\x3dcurrent path"),z.afterDeactivate(t,e));t&&(this.app.log("  \x3e in Transition._doTransition calling next.afterActivate next name\x3d[",
t.name,"], parent.name\x3d[",t.parent.name,"], next!\x3d\x3dcurrent path"),t.afterActivate(z,e));x&&this._doTransition(x,c,d,e,t||g,h,k,!0)}));return v}this.app.log("\x3c in Transition._doTransition calling next.beforeDeactivate refresh current view next name\x3d[",t.name,"], parent.name\x3d[",t.parent.name,"], next\x3d\x3dcurrent path");t.beforeDeactivate(z,e);this.app.log("  \x3c in Transition._doTransition calling next.afterDeactivate refresh current view next name\x3d[",t.name,"], parent.name\x3d[",
t.parent.name,"], next\x3d\x3dcurrent path");t.afterDeactivate(z,e);this.app.log("\x3e in Transition._doTransition calling next.beforeActivate next name\x3d[",t.name,"], parent.name\x3d[",t.parent.name,"], next\x3d\x3dcurrent path");t.beforeActivate(z,e);this.app.log("\x3e in Transition._doTransition calling app.triggger layoutView view next name\x3d[",t.name,"], removeView \x3d [",h,"], parent.name\x3d[",t.parent.name,"], next\x3d\x3dcurrent path");this.app.emit("app-layoutView",{parent:g,view:t,
removeView:h});k&&!x&&this.app.emit("app-resize");this.app.log("  \x3e in Transition._doTransition calling next.afterActivate next name\x3d[",t.name,"], parent.name\x3d[",t.parent.name,"], next\x3d\x3dcurrent path");t.afterActivate(z,e);if(x)return this._doTransition(x,c,d,e,t,h)}})})},"dojox/app/controllers/Layout":function(){define("dojo/_base/declare dojo/_base/lang dojo/_base/array dojo/_base/window dojo/query dojo/dom-geometry dojo/dom-attr dojo/dom-style dijit/registry ./LayoutBase ../utils/layout ../utils/constraints".split(" "),
function(k,l,g,d,c,b,a,h,q,n,p,f){return k("dojox.app.controllers.Layout",n,{constructor:function(a,b){},onResize:function(){this._doResize(this.app);this.resizeSelectedChildren(this.app)},resizeSelectedChildren:function(a){for(var b in a.selectedChildren)a.selectedChildren[b]&&(this.app.log("in Layout resizeSelectedChildren calling resizeSelectedChildren calling _doResize for w.selectedChildren[hash].id\x3d"+a.selectedChildren[b].id),this._doResize(a.selectedChildren[b]),g.forEach(a.selectedChildren[b].domNode.children,
function(a){q.byId(a.id)&&q.byId(a.id).resize&&q.byId(a.id).resize()}),this.resizeSelectedChildren(a.selectedChildren[b]))},initLayout:function(b){this.app.log("in app/controllers/Layout.initLayout event\x3d",b);this.app.log("in app/controllers/Layout.initLayout event.view.parent.name\x3d[",b.view.parent.name,"]");b.view.parent.domNode.appendChild(b.view.domNode);a.set(b.view.domNode,"data-app-constraint",b.view.constraint);this.inherited(arguments)},_doResize:function(a){var c=a.domNode;if(c){var e=
{};if(!("h"in e)||!("w"in e))e=l.mixin(b.getMarginBox(c),e);if(a!==this.app){var f=h.getComputedStyle(c),g=b.getMarginExtents(c,f),k=b.getBorderExtents(c,f),e=a._borderBox={w:e.w-(g.w+k.w),h:e.h-(g.h+k.h)},g=b.getPadExtents(c,f);a._contentBox={l:h.toPixelValue(c,f.paddingLeft),t:h.toPixelValue(c,f.paddingTop),w:e.w-g.w,h:e.h-g.h}}else a._contentBox={l:0,t:0,h:d.global.innerHeight||d.doc.documentElement.clientHeight,w:d.global.innerWidth||d.doc.documentElement.clientWidth};this.inherited(arguments)}else this.app.log("Warning - View has not been loaded, in Layout _doResize view.domNode is not set for view.id\x3d"+
a.id+" view\x3d",a)},layoutView:function(a){a.view&&(this.inherited(arguments),this._doResize(a.parent||this.app),this._doResize(a.view))},_doLayout:function(b){if(b){this.app.log("in Layout _doLayout called for view.id\x3d"+b.id+" view\x3d",b);var d,e=f.getSelectedChild(b,b.constraint);if(!e||!e.isFullScreen)d=c("\x3e [data-app-constraint]",b.domNode).map(function(b){var c=q.getEnclosingWidget(b);return c?(c._constraint=a.get(b,"data-app-constraint"),c):{domNode:b,_constraint:a.get(b,"data-app-constraint")}}),
e&&(d=g.filter(d,function(a){return a.domNode&&a._constraint},b));b._contentBox&&p.layoutChildren(b.domNode,b._contentBox,d)}}})})},"dojox/app/controllers/LayoutBase":function(){define("dojo/_base/lang dojo/_base/declare dojo/sniff dojo/_base/window dojo/_base/config dojo/dom-attr dojo/topic dojo/dom-style ../utils/constraints ../Controller".split(" "),function(k,l,g,d,c,b,a,h,q,n){return l("dojox.app.controllers.LayoutBase",n,{constructor:function(b,f){this.events={"app-initLayout":this.initLayout,
"app-layoutView":this.layoutView,"app-resize":this.onResize};c.mblHideAddressBar?a.subscribe("/dojox/mobile/afterResizeAll",k.hitch(this,this.onResize)):this.bind(d.global,g("ios")?"orientationchange":"resize",k.hitch(this,this.onResize))},onResize:function(){this._doResize(this.app);for(var a in this.app.selectedChildren)this.app.selectedChildren[a]&&this._doResize(this.app.selectedChildren[a])},initLayout:function(a){b.set(a.view.domNode,"id",a.view.id);a.callback&&a.callback()},_doLayout:function(a){},
_doResize:function(a){this.app.log("in LayoutBase _doResize called for view.id\x3d"+a.id+" view\x3d",a);this._doLayout(a)},layoutView:function(a){var b=a.parent||this.app,c=a.view;if(c){var d=q.getSelectedChild(b,c.constraint);a.removeView?(c.viewShowing=!1,this.hideView(c),c==d&&q.setSelectedChild(b,c.constraint,null)):c!==d&&(d&&(d.viewShowing=!1,this.hideView(d)),c.viewShowing=!0,this.showView(c),q.setSelectedChild(b,c.constraint,c))}},hideView:function(a){h.set(a.domNode,"display","none")},showView:function(a){h.set(a.domNode,
"display","")}})})},"dojox/app/utils/layout":function(){define(["dojo/_base/array","dojo/dom-class","dojo/dom-geometry","dojo/dom-style","dojo/_base/lang"],function(k,l,g,d,c){function b(a,b){var d=a.resize?a.resize(b):g.setMarginBox(a.domNode,b);d?c.mixin(a,d):(c.mixin(a,g.getMarginBox(a.domNode)),c.mixin(a,b))}return{marginBox2contentBox:function(a,b){var c=d.getComputedStyle(a),k=g.getMarginExtents(a,c),l=g.getPadBorderExtents(a,c);return{l:d.toPixelValue(a,c.paddingLeft),t:d.toPixelValue(a,c.paddingTop),
w:b.w-(k.w+l.w),h:b.h-(k.h+l.h)}},layoutChildren:function(a,d,g,n,p){d=c.mixin({},d);l.add(a,"dijitLayoutContainer");g=k.filter(g,function(a){return"center"!=a._constraint&&"client"!=a.layoutAlign}).concat(k.filter(g,function(a){return"center"==a._constraint||"client"==a.layoutAlign}));k.forEach(g,function(a){var c=a.domNode,g=a._constraint||a.layoutAlign;if(!g)throw Error("No constraint setting for "+a.id);var e=c.style;e.left=d.l+"px";e.top=d.t+"px";e.position="absolute";l.add(c,"dijitAlign"+(g.substring(0,
1).toUpperCase()+g.substring(1)));c={};n&&n==a.id&&(c["top"==a._constraint||"bottom"==a._constraint?"h":"w"]=p);"top"==g||"bottom"==g?(c.w=d.w,b(a,c),d.h-=a.h,"top"==g?d.t+=a.h:e.top=d.t+d.h+"px"):"left"==g||"right"==g?(c.h=d.h,b(a,c),d.w-=a.w,"left"==g?d.l+=a.w:e.left=d.l+d.w+"px"):("client"==g||"center"==g)&&b(a,d)})}}})},"dojox/css3/transit":function(){define(["dojo/_base/array","dojo/dom-style","dojo/promise/all","dojo/sniff","./transition"],function(k,l,g,d,c){return function(b,a,h){var k=h&&
h.reverse?-1:1;if(!h||!h.transition||!c[h.transition]||d("ie")&&10>d("ie"))return b&&l.set(b,"display","none"),a&&l.set(a,"display",""),h.transitionDefs&&(h.transitionDefs[b.id]&&h.transitionDefs[b.id].resolve(b),h.transitionDefs[a.id]&&h.transitionDefs[a.id].resolve(a)),new g([]);var n=[],p=[],f=2E3;h.duration?f=h.duration:(f=250,"fade"===h.transition?f=600:"flip"===h.transition&&(f=200));b&&(l.set(b,"display",""),b=c[h.transition](b,{"in":!1,direction:k,duration:f,deferred:h.transitionDefs&&h.transitionDefs[b.id]?
h.transitionDefs[b.id]:null}),n.push(b.deferred),p.push(b));a&&(l.set(a,"display",""),a=c[h.transition](a,{direction:k,duration:f,deferred:h.transitionDefs&&h.transitionDefs[a.id]?h.transitionDefs[a.id]:null}),n.push(a.deferred),p.push(a));"flip"===h.transition?c.chainedPlay(p):c.groupedPlay(p);return g(n)}})},"dojox/css3/transition":function(){define("dojo/_base/lang dojo/_base/array dojo/Deferred dojo/when dojo/promise/all dojo/on dojo/sniff".split(" "),function(k,l,g,d,c,b,a){var h="transitionend",
q="t",n="translate3d(",p=",0,0)";a("webkit")?(q="WebkitT",h="webkitTransitionEnd"):a("mozilla")&&(q="MozT",n="translateX(",p=")");var f=function(a){k.mixin(this,{startState:{},endState:{},node:null,duration:250,"in":!0,direction:1,autoClear:!0});k.mixin(this,a);this.deferred||(this.deferred=new g)};k.extend(f,{play:function(){f.groupedPlay([this])},_applyState:function(a){var b=this.node.style,c;for(c in a)a.hasOwnProperty(c)&&(b[c]=a[c])},initState:function(){this.node.style[q+"ransitionProperty"]=
"none";this.node.style[q+"ransitionDuration"]="0ms";this._applyState(this.startState)},_beforeStart:function(){"none"===this.node.style.display&&(this.node.style.display="");this.beforeStart()},_beforeClear:function(){this.node.style[q+"ransitionProperty"]=null;this.node.style[q+"ransitionDuration"]=null;!0!==this["in"]&&(this.node.style.display="none");this.beforeClear()},_onAfterEnd:function(){this.deferred.resolve(this.node);this.node.id&&f.playing[this.node.id]===this.deferred&&delete f.playing[this.node.id];
this.onAfterEnd()},beforeStart:function(){},beforeClear:function(){},onAfterEnd:function(){},start:function(){this._beforeStart();this._startTime=(new Date).getTime();this._cleared=!1;var a=this;a.node.style[q+"ransitionProperty"]="all";a.node.style[q+"ransitionDuration"]=a.duration+"ms";b.once(a.node,h,function(){a.clear()});this._applyState(this.endState)},clear:function(){this._cleared||(this._cleared=!0,this._beforeClear(),this._removeState(this.endState),this._onAfterEnd())},_removeState:function(a){var b=
this.node.style,c;for(c in a)a.hasOwnProperty(c)&&(b[c]=null)}});f.slide=function(a,b){var c=new f(b);c.node=a;var d="0",g="0";c["in"]?d=1===c.direction?"100%":"-100%":g=1===c.direction?"-100%":"100%";c.startState[q+"ransform"]=n+d+p;c.endState[q+"ransform"]=n+g+p;return c};f.fade=function(a,b){var c=new f(b);c.node=a;var d="0",g="0";c["in"]?g="1":d="1";k.mixin(c,{startState:{opacity:d},endState:{opacity:g}});return c};f.flip=function(a,b){var c=new f(b);c.node=a;c["in"]?(k.mixin(c,{startState:{opacity:"0"},
endState:{opacity:"1"}}),c.startState[q+"ransform"]="scale(0,0.8) skew(0,-30deg)",c.endState[q+"ransform"]="scale(1,1) skew(0,0)"):(k.mixin(c,{startState:{opacity:"1"},endState:{opacity:"0"}}),c.startState[q+"ransform"]="scale(1,1) skew(0,0)",c.endState[q+"ransform"]="scale(0,0.8) skew(0,30deg)");return c};var m=function(a){var b=[];l.forEach(a,function(a){a.id&&f.playing[a.id]&&b.push(f.playing[a.id])});return c(b)};f.getWaitingList=m;f.groupedPlay=function(a){var c=l.filter(a,function(a){return a.node}),
c=m(c);l.forEach(a,function(a){a.node.id&&(f.playing[a.node.id]=a.deferred)});d(c,function(){l.forEach(a,function(a){a.initState()});setTimeout(function(){l.forEach(a,function(a){a.start()});b.once(a[a.length-1].node,h,function(){for(var b,c=0;c<a.length-1;c++)0!==a[c].deferred.fired&&(b=(new Date).getTime()-a[c]._startTime,b>=a[c].duration&&a[c].clear())})},33)})};f.chainedPlay=function(a){var b=l.filter(a,function(a){return a.node}),b=m(b);l.forEach(a,function(a){a.node.id&&(f.playing[a.node.id]=
a.deferred)});d(b,function(){l.forEach(a,function(a){a.initState()});for(var b=1,c=a.length;b<c;b++)a[b-1].deferred.then(k.hitch(a[b],function(){this.start()}));setTimeout(function(){a[0].start()},33)})};f.playing={};return f})},"dojox/app/View":function(){define("require dojo/when dojo/on dojo/_base/declare dojo/_base/lang dojo/Deferred dijit/Destroyable dijit/_TemplatedMixin dijit/_WidgetsInTemplateMixin ./ViewBase ./utils/nls".split(" "),function(k,l,g,d,c,b,a,h,q,n,p){return d("dojox.app.View",
[h,q,a,n],{constructor:function(a){},connect:function(a,b,d){return this.own(g(a,b,c.hitch(this,d)))[0]},_loadTemplate:function(){if(this.templateString)return!0;var a=this.template,d=this.dependencies?this.dependencies:[];a&&(0==a.indexOf("./")&&(a="app/"+a),d=d.concat(["dojo/text!"+a]));var g=new b;if(0<d.length){var e;try{e=k.on("error",c.hitch(this,function(a){!g.isResolved()&&!g.isRejected()&&(a.info[0]&&0<=a.info[0].indexOf(this.template))&&(g.resolve(!1),e.remove())})),k(d,function(){g.resolve.call(g,
arguments);e.remove()})}catch(h){g.resolve(!1),e&&e.remove()}}else g.resolve(!0);var n=new b;l(g,c.hitch(this,function(a){this.templateString=this.template?a[a.length-1]:"\x3cdiv\x3e\x3c/div\x3e";n.resolve(this)}));return n},load:function(){var a=new b,d=this.inherited(arguments),g=p(this);l(d,c.hitch(this,function(){l(g,c.hitch(this,function(b){this.nls=c.mixin({},this.parent.nls);b&&c.mixin(this.nls,b);l(this._loadTemplate(),function(b){a.resolve(b)})}))}));return a},_startup:function(){this.buildRendering();
this.inherited(arguments)}})})},"dijit/_TemplatedMixin":function(){define("dojo/cache dojo/_base/declare dojo/dom-construct dojo/_base/lang dojo/on dojo/sniff dojo/string ./_AttachMixin".split(" "),function(k,l,g,d,c,b,a,h){var q=l("dijit._TemplatedMixin",h,{templateString:null,templatePath:null,_skipNodeCache:!1,searchContainerNode:!0,_stringRepl:function(b){var c=this.declaredClass,f=this;return a.substitute(b,this,function(a,b){"!"==b.charAt(0)&&(a=d.getObject(b.substr(1),!1,f));if("undefined"==
typeof a)throw Error(c+" template:"+b);return null==a?"":"!"==b.charAt(0)?a:a.toString().replace(/"/g,"\x26quot;")},this)},buildRendering:function(){if(!this._rendered){this.templateString||(this.templateString=k(this.templatePath,{sanitize:!0}));var a=q.getCachedTemplate(this.templateString,this._skipNodeCache,this.ownerDocument),b;if(d.isString(a)){if(b=g.toDom(this._stringRepl(a),this.ownerDocument),1!=b.nodeType)throw Error("Invalid template: "+a);}else b=a.cloneNode(!0);this.domNode=b}this.inherited(arguments);
this._rendered||this._fillContent(this.srcNodeRef);this._rendered=!0},_fillContent:function(a){var b=this.containerNode;if(a&&b)for(;a.hasChildNodes();)b.appendChild(a.firstChild)}});q._templateCache={};q.getCachedTemplate=function(b,c,d){var h=q._templateCache,k=b,e=h[k];if(e){try{if(!e.ownerDocument||e.ownerDocument==(d||document))return e}catch(l){}g.destroy(e)}b=a.trim(b);if(c||b.match(/\$\{([^\}]+)\}/g))return h[k]=b;c=g.toDom(b,d);if(1!=c.nodeType)throw Error("Invalid template: "+b);return h[k]=
c};b("ie")&&c(window,"unload",function(){var a=q._templateCache,b;for(b in a){var c=a[b];"object"==typeof c&&g.destroy(c);delete a[b]}});return q})},"dojo/cache":function(){define(["./_base/kernel","./text"],function(k){return k.cache})},"dojo/string":function(){define(["./_base/kernel","./_base/lang"],function(k,l){var g={};l.setObject("dojo.string",g);g.rep=function(d,c){if(0>=c||!d)return"";for(var b=[];;){c&1&&b.push(d);if(!(c>>=1))break;d+=d}return b.join("")};g.pad=function(d,c,b,a){b||(b="0");
d=String(d);c=g.rep(b,Math.ceil((c-d.length)/b.length));return a?d+c:c+d};g.substitute=function(d,c,b,a){a=a||k.global;b=b?l.hitch(a,b):function(a){return a};return d.replace(/\$\{([^\s\:\}]+)(?:\:([^\s\:\}]+))?\}/g,function(d,g,k){d=l.getObject(g,!1,c);k&&(d=l.getObject(k,!1,a).call(a,d,g));return b(d,g).toString()})};g.trim=String.prototype.trim?l.trim:function(d){d=d.replace(/^\s+/,"");for(var c=d.length-1;0<=c;c--)if(/\S/.test(d.charAt(c))){d=d.substring(0,c+1);break}return d};return g})},"dijit/_AttachMixin":function(){define("require dojo/_base/array dojo/_base/connect dojo/_base/declare dojo/_base/lang dojo/mouse dojo/on dojo/touch ./_WidgetBase".split(" "),
function(k,l,g,d,c,b,a,h,q){var n=c.delegate(h,{mouseenter:b.enter,mouseleave:b.leave,keypress:g._keypress}),p;g=d("dijit._AttachMixin",null,{constructor:function(){this._attachPoints=[];this._attachEvents=[]},buildRendering:function(){this.inherited(arguments);this._attachTemplateNodes(this.domNode);this._beforeFillContent()},_beforeFillContent:function(){},_attachTemplateNodes:function(a){for(var b=a;;)if(1==b.nodeType&&(this._processTemplateNode(b,function(a,b){return a.getAttribute(b)},this._attach)||
this.searchContainerNode)&&b.firstChild)b=b.firstChild;else{if(b==a)break;for(;!b.nextSibling;)if(b=b.parentNode,b==a)return;b=b.nextSibling}},_processTemplateNode:function(a,b,d){var e=!0,g=this.attachScope||this,h=b(a,"dojoAttachPoint")||b(a,"data-dojo-attach-point");if(h)for(var k=h.split(/\s*,\s*/);h=k.shift();)c.isArray(g[h])?g[h].push(a):g[h]=a,e="containerNode"!=h,this._attachPoints.push(h);if(b=b(a,"dojoAttachEvent")||b(a,"data-dojo-attach-event")){h=b.split(/\s*,\s*/);for(k=c.trim;b=h.shift();)if(b){var l=
null;-1!=b.indexOf(":")?(l=b.split(":"),b=k(l[0]),l=k(l[1])):b=k(b);l||(l=b);this._attachEvents.push(d(a,b,c.hitch(g,l)))}}return e},_attach:function(b,c,d){c=c.replace(/^on/,"").toLowerCase();c="dijitclick"==c?p||(p=k("./a11yclick")):n[c]||c;return a(b,c,d)},_detachTemplateNodes:function(){var a=this.attachScope||this;l.forEach(this._attachPoints,function(b){delete a[b]});this._attachPoints=[];l.forEach(this._attachEvents,function(a){a.remove()});this._attachEvents=[]},destroyRendering:function(){this._detachTemplateNodes();
this.inherited(arguments)}});c.extend(q,{dojoAttachEvent:"",dojoAttachPoint:""});return g})},"dijit/_WidgetsInTemplateMixin":function(){define(["dojo/_base/array","dojo/aspect","dojo/_base/declare","dojo/_base/lang","dojo/parser"],function(k,l,g,d,c){return g("dijit._WidgetsInTemplateMixin",null,{_earlyTemplatedStartup:!1,widgetsInTemplate:!0,contextRequire:null,_beforeFillContent:function(){if(this.widgetsInTemplate){var b=this.domNode;this.containerNode&&!this.searchContainerNode&&(this.containerNode.stopParser=
!0);c.parse(b,{noStart:!this._earlyTemplatedStartup,template:!0,inherited:{dir:this.dir,lang:this.lang,textDir:this.textDir},propsThis:this,contextRequire:this.contextRequire,scope:"dojo"}).then(d.hitch(this,function(a){this._startupWidgets=a;for(var b=0;b<a.length;b++)this._processTemplateNode(a[b],function(a,b){return a[b]},function(a,b,c){return b in a?a.connect(a,b,c):a.on(b,c,!0)});this.containerNode&&this.containerNode.stopParser&&delete this.containerNode.stopParser}));if(!this._startupWidgets)throw Error(this.declaredClass+
": parser returned unfilled promise (probably waiting for module auto-load), unsupported by _WidgetsInTemplateMixin.   Must pre-load all supporting widgets before instantiation.");}},_processTemplateNode:function(b,a,c){return a(b,"dojoType")||a(b,"data-dojo-type")?!0:this.inherited(arguments)},startup:function(){k.forEach(this._startupWidgets,function(b){b&&(!b._started&&b.startup)&&b.startup()});this._startupWidgets=null;this.inherited(arguments)}})})},"dojo/parser":function(){define("require ./_base/kernel ./_base/lang ./_base/array ./_base/config ./dom ./_base/window ./_base/url ./aspect ./promise/all ./date/stamp ./Deferred ./has ./query ./on ./ready".split(" "),
function(k,l,g,d,c,b,a,h,q,n,p,f,m,r,e,u){function s(a){return eval("("+a+")")}function y(a){var b=a._nameCaseMap,c=a.prototype;if(!b||b._extendCnt<v){var b=a._nameCaseMap={},d;for(d in c)"_"!==d.charAt(0)&&(b[d.toLowerCase()]=d);b._extendCnt=v}return b}function D(a,b){var c=a.join();if(!x[c]){for(var d=[],e=0,f=a.length;e<f;e++){var h=a[e];d[d.length]=x[h]=x[h]||g.getObject(h)||~h.indexOf("/")&&(b?b(h):k(h))}e=d.shift();x[c]=d.length?e.createSubclass?e.createSubclass(d):e.extend.apply(e,d):e}return x[c]}
new Date("X");var v=0;q.after(g,"extend",function(){v++},!0);var x={},t={_clearCache:function(){v++;x={}},_functionFromScript:function(a,b){var c="",e="",f=a.getAttribute(b+"args")||a.getAttribute("args"),g=a.getAttribute("with"),f=(f||"").split(/\s*,\s*/);g&&g.length&&d.forEach(g.split(/\s*,\s*/),function(a){c+="with("+a+"){";e+="}"});return new Function(f,c+a.innerHTML+e)},instantiate:function(a,b,c){b=b||{};c=c||{};var e=(c.scope||l._scopeName)+"Type",f="data-"+(c.scope||l._scopeName)+"-",g=f+
"type",h=f+"mixins",k=[];d.forEach(a,function(a){var c=e in b?b[e]:a.getAttribute(g)||a.getAttribute(e);if(c){var d=a.getAttribute(h),c=d?[c].concat(d.split(/\s*,\s*/)):[c];k.push({node:a,types:c})}});return this._instantiate(k,b,c)},_instantiate:function(a,b,c,e){function f(a){!b._started&&!c.noStart&&d.forEach(a,function(a){"function"===typeof a.startup&&!a._started&&a.startup()});return a}a=d.map(a,function(a){var d=a.ctor||D(a.types,c.contextRequire);if(!d)throw Error("Unable to resolve constructor for: '"+
a.types.join()+"'");return this.construct(d,a.node,b,c,a.scripts,a.inherited)},this);return e?n(a).then(f):f(a)},construct:function(a,b,c,f,k,n){function t(a){D&&g.setObject(D,a);for(F=0;F<L.length;F++)q[L[F].advice||"after"](a,L[F].method,g.hitch(a,L[F].func),!0);for(F=0;F<S.length;F++)S[F].call(a);for(F=0;F<P.length;F++)a.watch(P[F].prop,P[F].func);for(F=0;F<Q.length;F++)e(a,Q[F].event,Q[F].func);return a}var u=a&&a.prototype;f=f||{};var v={};f.defaults&&g.mixin(v,f.defaults);n&&g.mixin(v,n);var x;
m("dom-attributes-explicit")?x=b.attributes:m("dom-attributes-specified-flag")?x=d.filter(b.attributes,function(a){return a.specified}):(n=(/^input$|^img$/i.test(b.nodeName)?b:b.cloneNode(!1)).outerHTML.replace(/=[^\s"']+|="[^"]*"|='[^']*'/g,"").replace(/^\s*<[a-zA-Z0-9]*\s*/,"").replace(/\s*>.*$/,""),x=d.map(n.split(/\s+/),function(a){var c=a.toLowerCase();return{name:a,value:"LI"==b.nodeName&&"value"==a||"enctype"==c?b.getAttribute(c):b.getAttributeNode(c).value}}));var M=f.scope||l._scopeName;
n="data-"+M+"-";var E={};"dojo"!==M&&(E[n+"props"]="data-dojo-props",E[n+"type"]="data-dojo-type",E[n+"mixins"]="data-dojo-mixins",E[M+"type"]="dojoType",E[n+"id"]="data-dojo-id");for(var F=0,G,M=[],D,N;G=x[F++];){var I=G.name,K=I.toLowerCase();G=G.value;switch(E[K]||K){case "data-dojo-type":case "dojotype":case "data-dojo-mixins":break;case "data-dojo-props":N=G;break;case "data-dojo-id":case "jsid":D=G;break;case "data-dojo-attach-point":case "dojoattachpoint":v.dojoAttachPoint=G;break;case "data-dojo-attach-event":case "dojoattachevent":v.dojoAttachEvent=
G;break;case "class":v["class"]=b.className;break;case "style":v.style=b.style&&b.style.cssText;break;default:if(I in u||(I=y(a)[K]||I),I in u)switch(typeof u[I]){case "string":v[I]=G;break;case "number":v[I]=G.length?Number(G):NaN;break;case "boolean":v[I]="false"!=G.toLowerCase();break;case "function":""===G||-1!=G.search(/[^\w\.]+/i)?v[I]=new Function(G):v[I]=g.getObject(G,!1)||new Function(G);M.push(I);break;default:K=u[I],v[I]=K&&"length"in K?G?G.split(/\s*,\s*/):[]:K instanceof Date?""==G?new Date(""):
"now"==G?new Date:p.fromISOString(G):K instanceof h?l.baseUrl+G:s(G)}else v[I]=G}}for(x=0;x<M.length;x++)E=M[x].toLowerCase(),b.removeAttribute(E),b[E]=null;if(N)try{N=s.call(f.propsThis,"{"+N+"}"),g.mixin(v,N)}catch(U){throw Error(U.toString()+" in data-dojo-props\x3d'"+N+"'");}g.mixin(v,c);k||(k=a&&(a._noScript||u._noScript)?[]:r("\x3e script[type^\x3d'dojo/']",b));var L=[],S=[],P=[],Q=[];if(k)for(F=0;F<k.length;F++)E=k[F],b.removeChild(E),c=E.getAttribute(n+"event")||E.getAttribute("event"),f=
E.getAttribute(n+"prop"),N=E.getAttribute(n+"method"),M=E.getAttribute(n+"advice"),x=E.getAttribute("type"),E=this._functionFromScript(E,n),c?"dojo/connect"==x?L.push({method:c,func:E}):"dojo/on"==x?Q.push({event:c,func:E}):v[c]=E:"dojo/aspect"==x?L.push({method:N,advice:M,func:E}):"dojo/watch"==x?P.push({prop:f,func:E}):S.push(E);a=(k=a.markupFactory||u.markupFactory)?k(v,b,a):new a(v,b);return a.then?a.then(t):t(a)},scan:function(a,b){function c(a){if(!a.inherited){a.inherited={};var b=a.node,d=
c(a.parent),b={dir:b.getAttribute("dir")||d.dir,lang:b.getAttribute("lang")||d.lang,textDir:b.getAttribute(s)||d.textDir},e;for(e in b)b[e]&&(a.inherited[e]=b[e])}return a.inherited}var e=[],g=[],h={},n=(b.scope||l._scopeName)+"Type",p="data-"+(b.scope||l._scopeName)+"-",q=p+"type",s=p+"textdir",p=p+"mixins",r=a.firstChild,t=b.inherited;if(!t){var u=function(a,b){return a.getAttribute&&a.getAttribute(b)||a.parentNode&&u(a.parentNode,b)},t={dir:u(a,"dir"),lang:u(a,"lang"),textDir:u(a,s)},v;for(v in t)t[v]||
delete t[v]}for(var t={inherited:t},x,y;;)if(r)if(1!=r.nodeType)r=r.nextSibling;else if(x&&"script"==r.nodeName.toLowerCase())(I=r.getAttribute("type"))&&/^dojo\/\w/i.test(I)&&x.push(r),r=r.nextSibling;else if(y)r=r.nextSibling;else{var I=r.getAttribute(q)||r.getAttribute(n);v=r.firstChild;if(!I&&(!v||3==v.nodeType&&!v.nextSibling))r=r.nextSibling;else{y=null;if(I){var K=r.getAttribute(p);x=K?[I].concat(K.split(/\s*,\s*/)):[I];try{y=D(x,b.contextRequire)}catch(U){}y||d.forEach(x,function(a){~a.indexOf("/")&&
!h[a]&&(h[a]=!0,g[g.length]=a)});K=y&&!y.prototype._noScript?[]:null;t={types:x,ctor:y,parent:t,node:r,scripts:K};t.inherited=c(t);e.push(t)}else t={node:r,scripts:x,parent:t};x=K;y=r.stopParser||y&&y.prototype.stopParser&&!b.template;r=v}}else{if(!t||!t.node)break;r=t.node.nextSibling;y=!1;t=t.parent;x=t.scripts}var L=new f;g.length?(m("dojo-debug-messages"),(b.contextRequire||k)(g,function(){L.resolve(d.filter(e,function(a){if(!a.ctor)try{a.ctor=D(a.types,b.contextRequire)}catch(c){}for(var d=a.parent;d&&
!d.types;)d=d.parent;var e=a.ctor&&a.ctor.prototype;a.instantiateChildren=!(e&&e.stopParser&&!b.template);a.instantiate=!d||d.instantiate&&d.instantiateChildren;return a.instantiate}))})):L.resolve(e);return L.promise},_require:function(a,b){var c=s("{"+a.innerHTML+"}"),d=[],e=[],h=new f,l=b&&b.contextRequire||k,m;for(m in c)d.push(m),e.push(c[m]);l(e,function(){for(var a=0;a<d.length;a++)g.setObject(d[a],arguments[a]);h.resolve(arguments)});return h.promise},_scanAmd:function(a,b){var c=new f,d=
c.promise;c.resolve(!0);var e=this;r("script[type\x3d'dojo/require']",a).forEach(function(a){d=d.then(function(){return e._require(a,b)});a.parentNode.removeChild(a)});return d},parse:function(c,d){var e;!d&&c&&c.rootNode?(d=c,e=d.rootNode):c&&g.isObject(c)&&!("nodeType"in c)?d=c:e=c;e=e?b.byId(e):a.body();d=d||{};var f=d.template?{template:!0}:{},h=[],k=this,l=this._scanAmd(e,d).then(function(){return k.scan(e,d)}).then(function(a){return k._instantiate(a,f,d,!0)}).then(function(a){return h=h.concat(a)}).otherwise(function(a){throw a;
});g.mixin(h,l);return h}};l.parser=t;c.parseOnLoad&&u(100,t,"parse");return t})},"dojo/_base/url":function(){define(["./kernel"],function(k){var l=/^(([^:/?#]+):)?(\/\/([^/?#]*))?([^?#]*)(\?([^#]*))?(#(.*))?$/,g=/^((([^\[:]+):)?([^@]+)@)?(\[([^\]]+)\]|([^\[:]*))(:([0-9]+))?$/,d=function(){for(var c=arguments,b=[c[0]],a=1;a<c.length;a++)if(c[a]){var h=new d(c[a]+""),b=new d(b[0]+"");if(""==h.path&&!h.scheme&&!h.authority&&!h.query)null!=h.fragment&&(b.fragment=h.fragment),h=b;else if(!h.scheme&&(h.scheme=
b.scheme,!h.authority&&(h.authority=b.authority,"/"!=h.path.charAt(0)))){for(var b=(b.path.substring(0,b.path.lastIndexOf("/")+1)+h.path).split("/"),k=0;k<b.length;k++)"."==b[k]?k==b.length-1?b[k]="":(b.splice(k,1),k--):0<k&&(!(1==k&&""==b[0])&&".."==b[k]&&".."!=b[k-1])&&(k==b.length-1?(b.splice(k,1),b[k-1]=""):(b.splice(k-1,2),k-=2));h.path=b.join("/")}b=[];h.scheme&&b.push(h.scheme,":");h.authority&&b.push("//",h.authority);b.push(h.path);h.query&&b.push("?",h.query);h.fragment&&b.push("#",h.fragment)}this.uri=
b.join("");c=this.uri.match(l);this.scheme=c[2]||(c[1]?"":null);this.authority=c[4]||(c[3]?"":null);this.path=c[5];this.query=c[7]||(c[6]?"":null);this.fragment=c[9]||(c[8]?"":null);null!=this.authority&&(c=this.authority.match(g),this.user=c[3]||null,this.password=c[4]||null,this.host=c[6]||c[7],this.port=c[9]||null)};d.prototype.toString=function(){return this.uri};return k._Url=d})},"dojox/app/ViewBase":function(){define("require dojo/when dojo/on dojo/dom-attr dojo/_base/declare dojo/_base/lang dojo/Deferred ./utils/model ./utils/constraints".split(" "),
function(k,l,g,d,c,b,a,h,q){return c("dojox.app.ViewBase",null,{constructor:function(a){this.name=this.id="";this.children={};this.selectedChildren={};this.loadedStores={};this._started=!1;b.mixin(this,a);this.parent.views&&b.mixin(this,this.parent.views[this.name])},start:function(){if(this._started)return this;this._startDef=new a;l(this.load(),b.hitch(this,function(){this._createDataStore(this);this._setupModel()}));return this._startDef},load:function(){var a=this._loadViewController();l(a,b.hitch(this,
function(a){a&&b.mixin(this,a)}));return a},_createDataStore:function(){this.parent.loadedStores&&b.mixin(this.loadedStores,this.parent.loadedStores);if(this.stores)for(var a in this.stores)if("_"!==a.charAt(0)){var c=this.stores[a].type?this.stores[a].type:"dojo/store/Memory",d={};this.stores[a].params&&b.mixin(d,this.stores[a].params);try{var g=k(c)}catch(h){throw Error(c+" must be listed in the dependencies");}d.data&&b.isString(d.data)&&(d.data=b.getObject(d.data));if(this.stores[a].observable){try{var e=
k("dojo/store/Observable")}catch(l){throw Error("dojo/store/Observable must be listed in the dependencies");}this.stores[a].store=e(new g(d))}else this.stores[a].store=new g(d);this.loadedStores[a]=this.stores[a].store}},_setupModel:function(){if(this.loadedModels)this._startup();else{var a;try{a=h(this.models,this.parent,this.app)}catch(c){throw Error("Error creating models: "+c.message);}l(a,b.hitch(this,function(a){a&&(this.loadedModels=b.isArray(a)?a[0]:a);this._startup()}),function(a){throw Error("Error creating models: "+
a.message);})}},_startup:function(){this._startLayout()},_startLayout:function(){this.app.log("  \x3e in app/ViewBase _startLayout firing layout for name\x3d[",this.name,"], parent.name\x3d[",this.parent.name,"]");this.hasOwnProperty("constraint")||(this.constraint=d.get(this.domNode,"data-app-constraint")||"center");q.register(this.constraint);this.app.emit("app-initLayout",{view:this,callback:b.hitch(this,function(){this.startup();this.app.log("  \x3e in app/ViewBase calling init() name\x3d[",this.name,
"], parent.name\x3d[",this.parent.name,"]");this.init();this._started=!0;this._startDef&&this._startDef.resolve(this)})})},_loadViewController:function(){var b=new a,c;if(this.controller)c=this.controller.replace(/(\.js)$/,"");else return this.app.log("  \x3e in app/ViewBase _loadViewController no controller set for view name\x3d[",this.name,"], parent.name\x3d[",this.parent.name,"]"),b.resolve(!0),b;var d;try{var g=c,h=g.indexOf("./");0<=h&&(g=c.substring(h+2));d=k.on("error",function(a){!b.isResolved()&&
!b.isRejected()&&(a.info[0]&&0<=a.info[0].indexOf(g))&&(b.resolve(!1),d.remove())});0==c.indexOf("./")&&(c="app/"+c);k([c],function(a){b.resolve(a);d.remove()})}catch(e){b.reject(e),d&&d.remove()}return b},init:function(){},beforeActivate:function(){},afterActivate:function(){},beforeDeactivate:function(){},afterDeactivate:function(){},destroy:function(){}})})},"dojo/i18n":function(){define("./_base/kernel require ./has ./_base/array ./_base/config ./_base/lang ./_base/xhr ./json module".split(" "),
function(k,l,g,d,c,b,a,h,q){g.add("dojo-preload-i18n-Api",1);a=k.i18n={};var n=/(^.*(^|\/)nls)(\/|$)([^\/]*)\/?([^\/]*)/,p=function(a,b,c,d){var e=[c+d];b=b.split("-");for(var f="",g=0;g<b.length;g++)if(f+=(f?"-":"")+b[g],!a||a[f])e.push(c+f+"/"+d),e.specificity=f;return e},f={},m=function(a,b,c){c=c?c.toLowerCase():k.locale;a=a.replace(/\./g,"/");b=b.replace(/\./g,"/");return/root/i.test(c)?a+"/nls/"+b:a+"/nls/"+c+"/"+b},r=k.getL10nName=function(a,b,c){return q.id+"!"+m(a,b,c)},e=function(a,c,d,
e,g,h){a([c],function(k){var l=b.clone(k.root),m=p(!k._v1x&&k,g,d,e);a(m,function(){for(var a=1;a<m.length;a++)l=b.mixin(b.clone(l),arguments[a]);f[c+"/"+g]=l;l.$locale=m.specificity;h()})})},u=function(a){var d=c.extraLocale||[],d=b.isArray(d)?d:[d];d.push(a);return d},s=function(a,c,l){if(g("dojo-preload-i18n-Api")){var m=a.split("*"),p="preload"==m[1];p&&(f[a]||(f[a]=1,t(m[2],h.parse(m[3]),1,c)),l(1));if(!(m=p))v&&x.push([a,c,l]),m=v;if(m)return}a=n.exec(a);var q=a[1]+"/",r=a[5]||a[4],s=q+r,m=
(a=a[5]&&a[4])||k.locale||"",w=s+"/"+m;a=a?[m]:u(m);var y=a.length,A=function(){--y||l(b.delegate(f[w]))};d.forEach(a,function(a){var b=s+"/"+a;g("dojo-preload-i18n-Api")&&z(b);f[b]?A():e(c,s,q,r,a,A)})};if(g("dojo-unit-tests"))var y=a.unitTests=[];g("dojo-preload-i18n-Api");var D=a.normalizeLocale=function(a){a=a?a.toLowerCase():k.locale;return"root"==a?"ROOT":a},v=0,x=[],t=a._preloadLocalizations=function(a,b,c,e){function g(a,b){e([a],b)}function h(a,b){for(var c=a.split("-");c.length;){if(b(c.join("-")))return;
c.pop()}b("ROOT")}function m(c){c=D(c);h(c,function(c){if(0<=d.indexOf(b,c)){var e=a.replace(/\./g,"/")+"_"+c;v++;g(e,function(a){for(var b in a)f[l.toAbsMid(b)+"/"+c]=a[b];for(--v;!v&&x.length;)s.apply(null,x.shift())});return!0}return!1})}e=e||l;m();d.forEach(k.config.extraLocale,m)},z=function(){},A={},w=new Function("__bundle","__checkForLegacyModules","__mid","__amdValue","var define \x3d function(mid, factory){define.called \x3d 1; __amdValue.result \x3d factory || mid;},\t   require \x3d function(){define.called \x3d 1;};try{define.called \x3d 0;eval(__bundle);if(define.called\x3d\x3d1)return __amdValue;if((__checkForLegacyModules \x3d __checkForLegacyModules(__mid)))return __checkForLegacyModules;}catch(e){}try{return eval('('+__bundle+')');}catch(e){return e;}"),
z=function(a){for(var b,c=a.split("/"),d=k.global[c[0]],e=1;d&&e<c.length-1;d=d[c[e++]]);d&&((b=d[c[e]])||(b=d[c[e].replace(/-/g,"_")]),b&&(f[a]=b));return b};a.getLocalization=function(a,b,c){var d;a=m(a,b,c);s(a,l,function(a){d=a});return d};g("dojo-unit-tests")&&y.push(function(a){a.register("tests.i18n.unit",function(a){var b;b=w("{prop:1}",z,"nonsense",A);a.is({prop:1},b);a.is(void 0,b[1]);b=w("({prop:1})",z,"nonsense",A);a.is({prop:1},b);a.is(void 0,b[1]);b=w("{'prop-x':1}",z,"nonsense",A);
a.is({"prop-x":1},b);a.is(void 0,b[1]);b=w("({'prop-x':1})",z,"nonsense",A);a.is({"prop-x":1},b);a.is(void 0,b[1]);b=w("define({'prop-x':1})",z,"nonsense",A);a.is(A,b);a.is({"prop-x":1},A.result);b=w("define('some/module', {'prop-x':1})",z,"nonsense",A);a.is(A,b);a.is({"prop-x":1},A.result);b=w("this is total nonsense and should throw an error",z,"nonsense",A);a.is(b instanceof Error,!0)})});return b.mixin(a,{dynamic:!0,normalize:function(a,b){return/^\./.test(a)?b(a):a},load:s,cache:f,getL10nName:r})})},
"url:app/config.json":'{\n    //Mandatory\n    "id": "App",\n    //Optional\n    "name": "Boilerplate-App",\n    //Optional\n    "description": "Sample Boilerplate-App to help devs get starteds",\n    //Optional, but very useful for views properties\n    "loaderConfig": {\n        "paths": {\n            "app": "../app"\n        }\n    },\n    /*\n    //Optional, default is "dojox/css3/transit"\n    "transit": "dojox/css3/transit",\n    */\n    //Optional, but required when not using the parser, and its required by views\n    "dependencies": [\n        "dojox/app/controllers/History",\n        "dojox/app/controllers/HistoryHash",\n        /* On Mobile always add the 2 following modules dojox/mobule a dojox/mobile/deviceTheme */\n        "dojox/mobile",\n        "dojox/mobile/deviceTheme",\n\n\n    ],\n    //Optional, they get mixed into the Application, mixes after dojox/app/module/lifecycle\n    "modules": [\n    ],\n    //Mandatory, they listen to App.emit events, they implement dojox/app/Controller\n    "controllers": [\n        //listens to "app-init, app-load"\n        "dojox/app/controllers/Load",\n        //listens to "app-transition, app-domNode"\n        "dojox/app/controllers/Transition",\n        //listens to "app-initLayout,app-layoutVIew,app-resize"\n        "dojox/app/controllers/Layout"\n    ],\n    /*\n    //Optional, App levels stores shared with views\n    "stores": {\n        "store1":{\n            "type": "dojo/store/Memory",\n            "observable": true,\n            "params": { // parameters used to initialize the data store\n                "data": "modelApp.names"\n            }\n        },\n        "store2":{\n            "type": "dojo/store/JsonRest",\n            "params": {\n                "data": "modelApp.repeatData"\n            }\n        }\n    },\n    */\n\n    //Optional\n    "template": "app/views/app.html",\n\n    //Optional, other examples are "flip, none"\n    "defaultTransition": "slide",\n    //Mandatory, one or a set of views view1+view2+view3\n    "defaultView": "view1",\n\n    //Optional, App level stings\n    "nls": "app/nls/app_strings",\n    //Mandatory, Specify Application child views\n    "views": {\n        "view1":{\n            //Mandatory for defaultViews\n            "template": "app/views/view1/view1.html",\n\n            //Optional, listens to View.emit events\n            //  init\n            //  beforeActivate\n            //  afterActivate\n            //  beforeDeactivate\n            //  afterDeactivate\n            //  destroy\n            //"controller": "app/views/view1/view1_controller.js",\n            //Optional, overwrites the transition type only for this view\n            "transition": "slide",\n            //Optional, view level strings they get mixed into global nls object\n            "nls": "app/views/view1/nls/view1_strings",\n            //Optional, dependencies for this specific view, declare in template\n            "dependencies":["dojox/mobile/RoundRectList","dojox/mobile/ListItem"]\n        },\n        "view2":{\n            //Mandatory for defaultViews\n            "template": "app/views/view2/view2.html",\n             "transition": "slide"\n        }\n    },\n    "has": {\n        "html5history": {\n            "controllers": [\n                "dojox/app/controllers/History"\n            ]\n        },\n        "!html5history": {\n            "controllers": [\n                "dojox/app/controllers/HistoryHash"\n            ]\n        }\n    }\n}\n',
"url:app/views/app.html":'\x3cdiv\x3e\n    \x3cdiv class\x3d"navPane" data-app-constraint\x3d"top"\x3e\n        \x3cselect id\x3d"sel1" onchange\x3d"(function changeTheme(){location.replace(\'?theme\x3d\'+event.target.value);}())"\x3e \n            \x3coption value\x3d""\x3e${nls.switch_theme}\x3c/option\x3e\n            \x3coption value\x3d"iPhone"\x3eiPhone\x3c/option\x3e\n            \x3coption value\x3d"iPad"\x3eiPad\x3c/option\x3e\n            \x3coption value\x3d"Android"\x3eAndroid\x3c/option\x3e\n            \x3coption value\x3d"Holodark"\x3eHolodark\x3c/option\x3e\n            \x3coption value\x3d"BlackBerry"\x3eBlackBerry\x3c/option\x3e\n            \x3coption value\x3d"WindowsPhone"\x3eWindowsPhone\x3c/option\x3e\n            \x3coption value\x3d"Custom"\x3e${nls.custom}\x3c/option\x3e\n\t    \x3c/select\x3e\n        \x3cbr\x3e\n        \x3cdiv\x3e${nls.app_template_title}\x3c/div\x3e\n        \x3cdiv\x3e${nls.app_string}\x3c/div\x3e\n    \x3c/div\x3e\n\n\x3c/div\x3e\n',
"url:app/views/view1/view1.html":'\x3cdiv class\x3d"view view1 mblView"\x3e\n    \x3cdiv\x3e${nls.view1_template_title}\x3c/div\x3e\n    \x3cdiv\x3e${name}\x3c/div\x3e\n    \x3cdiv\x3e${template}\x3c/div\x3e\n    \x3cdiv\x3e${nls.app_string}\x3c/div\x3e\n    \x3cdiv\x3e${nls.view1_string}\x3c/div\x3e\n    \x3ca href\x3d"${nls.locale_link}"\x3e Click to change locale: ${nls.locale_link}\x3c/a\x3e\n    \x3cul data-dojo-type\x3d"dojox/mobile/RoundRectList"\x3e\n        \x3cli data-dojo-type\x3d"dojox/mobile/ListItem" data-dojo-props\x3d"clickable:true,target:\'view2\',url:\'#view2\'"\x3e\n            Go to View 2\n        \x3c/li\x3e\n    \x3c/ul\x3e\n\n\x3c/div\x3e\n',
"url:app/views/view2/view2.html":"\x3cdiv class\x3d\"view view2\"\x3e\n    \x3cbutton onclick\x3d\"event.target.dispatchEvent(new CustomEvent('startTransition', {\n                                                'bubbles':true,\n                                                'detail':   {\n                                                            target: 'view1',\n                                                            url: '#view1',\n                                                            transitionDir: -1\n                                                        }\n                                                }));\"\n    \x3e\n    Back\n    \x3c/button\x3e\n    \n    \x3cdiv\x3e${name}\x3c/div\x3e\n    \x3cdiv\x3e${template}\x3c/div\x3e\n    \x3cdiv\x3e${nls.app_string}\x3c/div\x3e\n\x3c/div\x3e\n",
"*now":function(k){k(['dojo/i18n!*preload*app/nls/main*["ar","ca","cs","da","de","el","en","en-gb","en-us","es","es-es","fi","fi-fi","fr","fr-fr","he","he-il","hu","it","it-it","ja","ja-jp","ko","ko-kr","nl","nl-nl","nb","pl","pt","pt-br","pt-pt","ru","sk","sl","sv","th","tr","zh","zh-tw","zh-cn","ROOT"]'])}}});
define("dojo/sniff require dojox/app/main dojox/json/ref dojo/text!app/config.json dojo/text!app/views/app.html dojo/text!app/views/view1/view1.html dojo/text!app/views/view2/view2.html dojo/domReady!".split(" "),function(k,l,g,d,c){k.add("html5history",!k("ie")||9<k("ie"));new g(d.fromJson(c))});
//@ sourceMappingURL=main.js.map